{"version":3,"sources":["components/centerMeBtn.jsx","components/jednokratnaRezervacijaForm.js","components/ponavljajucaRezervacijaForm.js","components/trajnaRezervacijaForm.js","components/reserveModal.js","components/loadingIcon.jsx","components/navBarLogin.js","components/logoutBtn.js","components/userRegisterForm.js","components/companyRegisterForm.js","components/registrationModal.js","components/carItem.js","components/carsList.js","components/carRegisterForm.js","components/carsModal.jsx","components/reservationItem.js","components/loadingIconModal.js","components/reservationsList.js","components/reservationsModal.js","components/usersList.js","components/usersModal.js","components/navBar.jsx","components/parkingMarker.js","components/parkingEditor.js","components/newParkingMarker.js","components/mapControler.jsx","App.js","index.js"],"names":["eps","CenterMeBtn","pos1","pos2","_this$props","this","props","myPosition","position","onClick","react_default","a","createElement","Fade","in","Math","abs","timeout","id","Image","className","src","circle","responsive","Component","Moment","locale","months","split","monthsShort","monthsParseExact","weekdays","weekdaysShort","weekdaysMin","weekdaysParseExact","longDateFormat","LT","LTS","L","LL","LLL","LLLL","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","relativeTime","future","past","s","m","mm","h","hh","d","dd","M","MM","y","yy","dayOfMonthOrdinalParse","ordinal","number","meridiemParse","isPM","input","charAt","meridiem","hours","minutes","isLower","week","dow","doy","momentLocalizer","JednokratnaRezervacijaForm","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","minDatetime","datetime","lenght","alertMsg","registrationValid","datetimeChange","value","setState","lenghtChange","e","target","register","_this$state","test","data","parkingID","parking","vrijemePocetka","getTime","trajanje","fetch","method","headers","Content-Type","body","JSON","stringify","then","response","status","json","setTimeout","onHide","Date","setHours","getHours","_this$state2","back","Modal","Body","lib","min","onChange","type","max","Alert","bsStyle","Footer","Button","PonavljajucaRezervacijaForm","days","startTime","startTimeChange","daysChange","length","st","String","getMinutes","dani","_React$createElement","ToggleButtonGroup","ToggleButton","defineProperty","TrajnaRezervacijaForm","parkingsUpdate","Well","ReserveModal","stage","hide","resetStage","onChoose","name","show","cars","Header","closeButton","Title","jednokratnaRezervacijaForm_JednokratnaRezervacijaForm","ponavljajucaRezervacijaForm_PonavljajucaRezervacijaForm","trajnaRezervacijaForm_TrajnaRezervacijaForm","keyboard","LoadingIcon","alt","NavBarLogin","email","password","loginLoading","invalidLogin","logIn","event","preventDefault","FormData","append","res","sessionStorage","setItem","tip","ime","username","loginSuccess","updateLogin","_this$setState","onSubmit","FormGroup","validationState","FormControl","placeholder","autoComplete","disabled","HelpBlock","loadingIcon_LoadingIcon","LogoutBtn","isLoggingOut","sendLogoutReq","logoutSuccess","isAddingNewParking","Navbar","Form","pullRight","UserRegisterForm","oib","prezime","creditCardNumber","voib","vime","vprezime","vemail","vpassword","vcreditCardNumber","emailChange","toLowerCase","imeChange","prezimeChange","passwordChange","oibChange","creditCardNumberChange","ccn","passwordHash","brojKreditneKartice","message","_this$state3","CompanyRegisterForm","address","vaddress","addressChange","showLoadinIcon","adresaSjedista","RegistrationModal","companyRegisterForm_CompanyRegisterForm","userRegisterForm_UserRegisterForm","CarItem","carRemoved","car","registracijskaOznaka","carsUpdate","bsSize","CarsList","ListGroup","componentClass","map","components_carItem","key","CarRegisterForm","registracija","vregistracija","registracijaChange","toUpperCase","CarsModal","downStage","upStage","addCar","list","carsList","carRegisterForm_CarRegisterForm","ReservationItem","reservationRemoved","reservation","reservationsUpdate","parkiraliste","LoadingIconModal","ReservationsList","reservations","loading","rez","forEach","r","trajna","parkingName","parkiralisteID","push","_this2","loadingIconModal_LoadingIconModal","Fragment","components_reservationItem","ReservationsModal","reservationsList","TvrtkaRow","company","update","KorisnikRow","user","UsersList","users","companies","updateUsers","head","Table","striped","bordered","hover","UsersModal","updateTvrtke","updateKorisnici","usersList_UsersList","NavBar","registerShow","carsShow","reservationsShow","usersShow","registerShowOn","registerShowOff","carsShowOn","carsShowOff","reservationsShowOn","reservationsShowOff","usersShowOn","usersShowOff","tipKorisnika","newParkingToggle","Collapse","pullLeft","navBarLogin_NavBarLogin","Text","getItem","logoutBtn_LogoutBtn","inverse","fixedTop","Brand","Toggle","registrationModal_RegistrationModal","usersModal_UsersModal","reservationsModal_ReservationsModal","carsModal_CarsModal","parkingIcon","icon","iconUrl","iconSize","iconAnchor","popupAnchor","ParkingMarker","reserveShow","reserveShowOn","reserveShowOff","spu","selectedParkingUpdate","ref","React","createRef","deleteParking","parkingUpdate","updateMarkerRef","current","leafletElement","editParking","btn","Marker","lokacija","Popup","onOpen","onClose","closePopup","autoPan","popunjenost","kapacitet","cijena","reserveModal_ReserveModal","ParkingEditor","vkapacitet","vcijena","kapacitetChange","cijenaChange","newParkingLocation","isEditingParking","selectedParking","isEditingParkingOff","prevProps","prevState","snapshot","react_dock_lib_default","isVisible","fluid","defaultSize","dimMode","NewParkingMarker","marker","pos","getLatLng","lat","lng","newParkingLocationUpdate","draggable","onDragend","myIcon","positions","Zagreb","posDistance","lat1","lon1","lat2","lon2","unit","radlat1","PI","radlat2","theta","radtheta","dist","sin","cos","acos","latLngDistance","MapControler","viewport","center","zoom","maxZoom","minZoom","maxBounds","latLngBounds","latLng","watchId","markerRefs","onViewportChanged","centerClicked","centerMe","vp","centerTo","getParkingsOfTvrtkaID","ret","parkings","p","tvrtkaID","getParkingOfId","openPopup","objectSpread","centerToClosestParking","minDistP","minDistP10","p10","rule10","resP","isEditingParkingOn","geoSucces","coords","latitude","longitude","myPositionUpdate","geoError","navigator","geolocation","watchPosition","clearWatch","_this$props2","myPositionMarker","centerMeBtn","centerMeBtn_CenterMeBtn","parkingsToShow","parkingMarkers","parkingMarker_ParkingMarker","parkirajMeBtn","newParkingMarker","newParkingMarker_NewParkingMarker","Map","animate","zoomControl","TileLayer","attribution","url","parkingEditor_ParkingEditor","getRndInteger","floor","random","App","puID","getParkingNameOfId","updateTipKorisnika","catch","clear","Number","err","brojSlobodnihMjesta","isAddingNewParkingToggle","setInterval","clearInterval","navBar","navBar_NavBar","mapControler_MapControler","ReactDom","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.886483f7.chunk.js","sourcesContent":["import { Fade, Image } from 'react-bootstrap'\r\nimport React, { Component } from 'react'\r\nimport './centerMe.css'\r\n\r\nconst eps = 7e-4;\r\n\r\nfunction equalPositions(pos1, pos2) {\r\n    return Math.abs(pos1[0]-pos2[0]) < eps && Math.abs(pos1[1]-pos2[1]) < eps\r\n}\r\n\r\nexport default class CenterMeBtn extends Component{\r\n    render() {\r\n        const {myPosition, position, onClick } = this.props;\r\n\r\n        return (\r\n            <Fade in={myPosition ? !equalPositions(myPosition, position) : false} timeout={500} >\r\n                <div id=\"center-me\" onClick={onClick}>\r\n                    <Image className=\"fillParent\" src=\"/icons/center_location.png\" circle responsive={true} />\r\n                </div>\r\n            </Fade>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Alert, Button, Modal} from 'react-bootstrap'\r\nimport 'react-widgets/dist/css/react-widgets.css';\r\nimport Moment from 'moment'\r\nimport momentLocalizer from 'react-widgets-moment';\r\nimport {DateTimePicker} from 'react-widgets';\r\n\r\nMoment.locale('hr', {\r\n    months : 'Siječanj_Veljača_Ožujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac'.split('_'),\r\n    monthsShort : 'Sij._Velj._Ožu._Tra._Svi._Lip._Srp._Kol._Ruj._Lis._Stu._Pro.'.split('_'),\r\n    monthsParseExact : true,\r\n    weekdays : 'Nedjelja_Ponedjeljak_Utorak_Srijeda_Četvrtak_Petak_Subota'.split('_'),\r\n    weekdaysShort : 'Ned_Pon_Uto_Sri_Čet_Pet_Sub'.split('_'),\r\n    weekdaysMin : 'N_P_U_S_Č_P_S'.split('_'),\r\n    weekdaysParseExact : true,\r\n    longDateFormat : {\r\n        LT : 'HH:mm',\r\n        LTS : 'HH:mm:ss',\r\n        L : 'DD.MM.YYYY',\r\n        LL : 'D MMMM YYYY',\r\n        LLL : 'D. MMMM YYYY. HH:mm',\r\n        LLLL : 'dddd D MMMM YYYY HH:mm'\r\n    },\r\n    calendar : {\r\n        sameDay : '[Danas] LT',\r\n        nextDay : '[Sutra] LT',\r\n        nextWeek : '[Sljedeći tjedan] LT',\r\n        lastDay : '[Jučer] LT',\r\n        lastWeek : 'dddd [dernier à] LT',\r\n        sameElse : 'L'\r\n    },\r\n    relativeTime : {\r\n        future : 'dans %s',\r\n        past : 'il y a %s',\r\n        s : 'quelques secondes',\r\n        m : 'une minute',\r\n        mm : '%d minutes',\r\n        h : 'une heure',\r\n        hh : '%d heures',\r\n        d : 'un jour',\r\n        dd : '%d jours',\r\n        M : 'un mois',\r\n        MM : '%d mois',\r\n        y : 'un an',\r\n        yy : '%d ans'\r\n    },\r\n    dayOfMonthOrdinalParse : /\\d{1,2}(er|e)/,\r\n    ordinal : function (number) {\r\n        return number + (number === 1 ? 'er' : 'e');\r\n    },\r\n    meridiemParse : /PD|MD/,\r\n    isPM : function (input) {\r\n        return input.charAt(0) === 'M';\r\n    },\r\n    // In case the meridiem units are not separated around 12, then implement\r\n    // this function (look at locale/id.js for an example).\r\n    // meridiemHour : function (hour, meridiem) {\r\n    //     return /* 0-23 hour, given meridiem token and hour 1-12 */ ;\r\n    // },\r\n    meridiem : function (hours, minutes, isLower) {\r\n        return hours < 12 ? 'PD' : 'MD';\r\n    },\r\n    week : {\r\n        dow : 1, // Monday is the first day of the week.\r\n        doy : 4  // Used to determine first week of the year.\r\n    }\r\n});\r\nmomentLocalizer();\r\n\r\n\r\nexport default class JednokratnaRezervacijaForm extends Component {\r\n    state = {\r\n        minDatetime: null,\r\n        datetime: null,\r\n        lenght: 1,\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let d = new Date();\r\n        d.setHours(d.getHours() + 6);\r\n        this.state.datetime = d;\r\n        this.state.minDatetime = d;\r\n    }\r\n\r\n\r\n\r\n    datetimeChange = value => this.setState({datetime: value, alertMsg: null});\r\n    lenghtChange = e => this.setState({lenght: e.target.value, alertMsg: null});\r\n\r\n\r\n    register = () => {\r\n        const {datetime, lenght} = this.state;\r\n        let test = datetime != null;\r\n        let alertMsg = test ? null : 'Morate odabrati vrijeme rezervacije!';\r\n\r\n        if(test) {\r\n            //registriraj na backendu\r\n\r\n            const data = {\r\n              parkingID: this.props.parking.id,\r\n              vrijemePocetka: datetime.getTime(),\r\n              trajanje: lenght\r\n            };\r\n\r\n            fetch('/rezervacije/jednokratne', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(response => {\r\n                    if(response.status != 200) {\r\n                        response.json().then(data => {\r\n                            this.setState({\r\n                                registrationValid: false,\r\n                                alertMsg: \"Parkiralište je popunjeno u odabranom periodu! Odaberite drugo vrijeme.\"\r\n                            });\r\n                        })\r\n                    } else {\r\n                        this.setState({\r\n                            registrationValid: true,\r\n                            alertMsg: \"Uspješna rezervacija!\"\r\n                        });\r\n                        setTimeout(() => this.props.onHide(), 2500)\r\n                    }\r\n                });\r\n\r\n            return;\r\n        }\r\n\r\n\r\n        this.setState({\r\n            registrationValid: test,\r\n            alertMsg: alertMsg\r\n        });\r\n    };\r\n\r\n\r\n    render() {\r\n        const {datetime, lenght, minDatetime, alertMsg, registrationValid } = this.state;\r\n        const {back} = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Body>\r\n                    <p>Izaberite datum i vrijeme rezervacije:</p>\r\n                    <DateTimePicker min={minDatetime} value={datetime} onChange={this.datetimeChange}/>\r\n                    <p><br/>Izaberite trajanje <small>(u satima)</small> rezervacije:</p>\r\n                    <input type='number' min={1} max={24} value={lenght} onChange={this.lenghtChange} />\r\n                    <p><br/></p>\r\n                    {\r\n                        alertMsg ?\r\n                            <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                {alertMsg}\r\n                            </Alert> :\r\n                            null\r\n                    }\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"primary\" onClick={back}>Natrag</Button>{'  '}\r\n                    <Button bsStyle=\"success\" onClick={this.register}>Rezerviraj</Button>\r\n                </Modal.Footer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Alert, Button, Modal, ToggleButton, ToggleButtonGroup} from 'react-bootstrap'\r\nimport 'react-widgets/dist/css/react-widgets.css';\r\nimport {DateTimePicker} from 'react-widgets';\r\n\r\n\r\n\r\nexport default class PonavljajucaRezervacijaForm extends Component {\r\n    state = {\r\n        days: [],\r\n        startTime: new Date(),\r\n        lenght: 1,\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let d = new Date();\r\n        d.setHours(d.getHours() + 6);\r\n        this.state.datetime = d;\r\n        this.state.minDatetime = d;\r\n    }\r\n\r\n    startTimeChange = value => this.setState({startTime: value, alertMsg: null});\r\n\r\n    daysChange = (e) => {\r\n        this.setState({ days: e, alertMsg: null });\r\n    };\r\n\r\n    lenghtChange = e => this.setState({lenght: e.target.value, alertMsg: null});\r\n\r\n\r\n    register = () => {\r\n        const {days, startTime, lenght} = this.state;\r\n        let test = startTime != null;\r\n        let alertMsg = test ? null : 'Morate odabrati vrijeme rezervacije!';\r\n\r\n        if(startTime == null) {\r\n            this.setState({\r\n                registrationValid: false,\r\n                alertMsg: 'Morate odabrati vrijeme rezervacije!'\r\n            });\r\n            return;\r\n        } else if(days.length === 0) {\r\n            this.setState({\r\n                registrationValid: false,\r\n                alertMsg: 'Morate odabrati barem jedan dan u tjednu'\r\n            });\r\n            return;\r\n        }\r\n\r\n        if(test) {\r\n            const st = String(startTime.getHours()) + ':' + startTime.getMinutes();\r\n\r\n            const data = {\r\n                parkingID: this.props.parking.id,\r\n                dani: days,\r\n                vrijemePocetka: st,\r\n                trajanje: lenght\r\n            };\r\n\r\n            fetch('/rezervacije/ponavljajuce', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(response => {\r\n                    if(response.status != 200) {\r\n                        response.json().then(data => {\r\n                            this.setState({\r\n                                registrationValid: false,\r\n                                alertMsg: \"Parkiralište je popunjeno u odabranom periodu! Odaberite drugo vrijeme.\"\r\n                            });\r\n                        })\r\n                    } else {\r\n                        this.setState({\r\n                            registrationValid: true,\r\n                            alertMsg: \"Uspješna rezervacija!\"\r\n                        });\r\n                        setTimeout(() => this.props.onHide(), 2500)\r\n                    }\r\n                });\r\n        }\r\n    };\r\n\r\n\r\n    render() {\r\n        const {days, startTime, lenght, alertMsg, registrationValid } = this.state;\r\n        const {back} = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Body>\r\n                    <p>Izaberite dane u tjednu koje želite rezervirati:</p>\r\n                    <ToggleButtonGroup type=\"checkbox\" value={days} onChange={this.daysChange}>\r\n                        <ToggleButton bsStyle='warning' value={2}>Pon</ToggleButton>\r\n                        <ToggleButton bsStyle='warning' value={3}>Uto</ToggleButton>\r\n                        <ToggleButton bsStyle='warning' value={4}>Sri</ToggleButton>\r\n                        <ToggleButton bsStyle='warning' value={5}>Čet</ToggleButton>\r\n                        <ToggleButton bsStyle='warning' value={6}>Pet</ToggleButton>\r\n                        <ToggleButton bsStyle='warning' value={7}>Sub</ToggleButton>\r\n                        <ToggleButton bsStyle='warning' value={1}>Ned</ToggleButton>\r\n                    </ToggleButtonGroup>\r\n                    <p><br/>Izaberite vrijeme početka rezervacije u danu</p>\r\n                    <DateTimePicker value={startTime} value={startTime} onChange={this.startTimeChange} date={false}/>\r\n                    <p><br/>Izaberite trajanje <small>(u satima)</small> rezervacije:</p>\r\n                    <input type='number' min={1} max={24} value={lenght} onChange={this.lenghtChange} />\r\n                    <p><br/></p>\r\n                    {\r\n                        alertMsg ?\r\n                            <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                {alertMsg}\r\n                            </Alert> :\r\n                            null\r\n                    }\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"primary\" onClick={back}>Natrag</Button>{'  '}\r\n                    <Button bsStyle=\"success\" onClick={this.register}>Rezerviraj</Button>\r\n                </Modal.Footer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Alert, Button, Modal, Well} from 'react-bootstrap'\r\n\r\n\r\n\r\n\r\nexport default class TrajnaRezervacijaForm extends Component {\r\n    state = {\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n    register = () => {\r\n        const data = {\r\n            parkingID: this.props.parking.id,\r\n        };\r\n\r\n        fetch('/rezervacije/trajna', {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(response => {\r\n                if(response.status != 200) {\r\n                    response.json().then(data => {\r\n                        this.setState({\r\n                            registrationValid: false,\r\n                            alertMsg: \"Parkiralište je popunjeno u nekim periodima. Ne mogu rezervirati.\"\r\n                        });\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        registrationValid: true,\r\n                        alertMsg: \"Uspješna rezervacija!\"\r\n                    });\r\n                    this.props.parkingsUpdate();\r\n                    setTimeout(() => this.props.onHide(), 2500)\r\n                }\r\n            });\r\n    };\r\n\r\n\r\n    render() {\r\n        const {back} = this.props;\r\n        const {alertMsg, registrationValid} = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Body>\r\n                    <Well>\r\n                        Trajna rezervacija počinje od trenutka kada kliknete gumb <i>rezerviraj</i>.<br/>\r\n                        Neograničeno ćete biti rezervirani u odabranom parkiralištu.<br/>\r\n                        Da biste rezervaciju ukinuli idite na izbornik <i>Trajne rezervacije</i> te ukiniti ovu trajnu rezervaciju.\r\n                    </Well>\r\n                    {\r\n                        alertMsg ?\r\n                            <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                {alertMsg}\r\n                            </Alert> :\r\n                            null\r\n                    }\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"primary\" onClick={back}>Natrag</Button>{'  '}\r\n                    <Button bsStyle=\"success\" onClick={this.register}>Rezerviraj</Button>\r\n                </Modal.Footer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Button, Modal, Well} from \"react-bootstrap\";\r\nimport './registrationModal.css'\r\nimport JednokratnaRezervacijaForm from './jednokratnaRezervacijaForm'\r\nimport PonavljajucaRezervacijaForm from './ponavljajucaRezervacijaForm'\r\nimport TrajnaRezervacijaForm from './trajnaRezervacijaForm'\r\n\r\nexport default class ReserveModal extends Component {\r\n    state = {\r\n        stage: null\r\n    };\r\n\r\n    hide = () => {\r\n        this.props.onHide();\r\n        setTimeout(this.resetStage, 200);\r\n    };\r\n\r\n    onChoose = (e) => {\r\n        this.setState({stage: e.target.name});\r\n    };\r\n\r\n    resetStage = () => {\r\n        this.setState({stage: null});\r\n    };\r\n\r\n    render() {\r\n        const { show, onHide, parking, cars, parkingsUpdate } = this.props;\r\n        const { stage } = this.state;\r\n\r\n        let body = null;\r\n        if(stage == null) {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Odaberite vrstu rezervacije:</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className='center1'>\r\n                            <div className='center2'>\r\n                                <div className=\"reg-choose\">\r\n                                    <Button name=\"jednokratna\" className=\"reg-btn\"  bsStyle=\"info\" onClick={this.onChoose}>Jednokratna</Button>\r\n                                    <p>Jednokratna rezervacija za <b>vremenski period kraći od 24 sata</b> i to morate obaviti <b>barem 6 sati unaprijed</b>.</p>\r\n                                </div>\r\n                                <div className=\"reg-choose\">\r\n                                    <Button name=\"ponavljajuca\" className=\"reg-btn\" bsStyle=\"info\" onClick={this.onChoose}>Ponavljajuća</Button>\r\n                                    <p>Rezervacija koja se <b>ponavlja tjedno</b> sljedećih <b>mjesec dana</b>.</p>\r\n                                </div>\r\n                                <div className=\"reg-choose\">\r\n                                    <Button name=\"trajna\" className=\"reg-btn\" bsStyle=\"info\" onClick={this.onChoose}>Trajna</Button>\r\n                                    <p>Rezervacija na <b>neograničeni period</b> (sve dok ju ne ukinete).</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </div>\r\n            );\r\n        } else if(stage == \"jednokratna\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Jednokratna rezervacija</Modal.Title>\r\n                    </Modal.Header>\r\n                    <JednokratnaRezervacijaForm back={this.resetStage} onHide={this.hide} parking={parking}/>\r\n                </div>\r\n            );\r\n        } else if(stage == \"ponavljajuca\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Ponavljajuća rezervacija</Modal.Title>\r\n                    </Modal.Header>\r\n                    <PonavljajucaRezervacijaForm back={this.resetStage} onHide={this.hide} parking={parking}/>\r\n                </div>\r\n            );\r\n        } else if(stage == \"trajna\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Trajna rezervacija</Modal.Title>\r\n                    </Modal.Header>\r\n                    <TrajnaRezervacijaForm back={this.resetStage} onHide={this.hide} parking={parking} parkingsUpdate={parkingsUpdate}/>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Modal className=\"registration-modal\" show={show} onHide={this.hide} keyboard={true}>\r\n                {cars.length != 0 ?\r\n                    body :\r\n                    <div>\r\n                        <Modal.Header closeButton onHide={onHide}>\r\n                            <Modal.Title>Trenutno nije moguće rezervirati</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Well>\r\n                            <p>\r\n                                Nemate registriran nijedan automobil.<br/>\r\n                                Idite u izbornik <i>Automobili</i> te dodajte barem jedan automobil.\r\n                            </p>\r\n                        </Well>\r\n                    </div>\r\n                    }\r\n            </Modal>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Fade} from \"react-bootstrap\";\r\nimport './loadingIcon.css'\r\n\r\nexport default class LoadingIcon extends Component {\r\n    render() {\r\n        const { show } = this.props;\r\n\r\n        return (\r\n            <Fade in={show}>\r\n                <img alt='Učitavam...' src=\"./icons/loading.gif\"/>\r\n            </Fade>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Button, FormGroup, FormControl, HelpBlock} from \"react-bootstrap\";\r\nimport './navBar.css'\r\nimport LoadingIcon from './loadingIcon'\r\n\r\nexport default class NavBarLogin extends Component {\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        loginLoading: false,\r\n        invalidLogin: false\r\n    };\r\n\r\n    logIn = (event) => {\r\n        event.preventDefault();\r\n        this.setState({loginLoading: true});\r\n        const {email, password} = this.state;\r\n        let body = new FormData();\r\n        body.append('username', email);\r\n        body.append('password', password);\r\n        const options = {\r\n            method: 'POST',\r\n            body: body\r\n        };\r\n        fetch('/login', options)\r\n            .then(res => {\r\n                if(res.status != 200) {\r\n                    this.setState({loginLoading: false});\r\n                    setTimeout(() => this.setState({invalidLogin: true}), 10);\r\n                    return;\r\n                } else {\r\n                    res.json().then(data => {\r\n                        sessionStorage.setItem('tip', data.tip);\r\n                        sessionStorage.setItem('name', data.ime);\r\n                        sessionStorage.setItem('id', data.id);\r\n                        sessionStorage.setItem('username', data.username);\r\n                        this.setState({loginLoading: false});\r\n                        setTimeout(this.props.loginSuccess, 10);\r\n                    });\r\n                }\r\n            });\r\n    };\r\n\r\n    updateLogin = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n            invalidLogin: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {email, password, loginLoading, invalidLogin} = this.state;\r\n\r\n        return (\r\n\r\n            <form onSubmit={this.logIn}>\r\n                    <FormGroup validationState={invalidLogin ? 'error' : null}>\r\n                        <FormControl name=\"email\" value={email} type=\"email\" placeholder=\"e-mail\"\r\n                                     onChange={this.updateLogin} autoComplete=\"email\"/> {' '}\r\n                        <FormControl name=\"password\" value={password} type=\"password\" placeholder=\"lozinka\"\r\n                                     onChange={this.updateLogin} autoComplete=\"current-password\"/>\r\n                        {' '}\r\n                        <Button bsStyle=\"success\" type=\"submit\" onClick={this.logIn}\r\n                                disabled={loginLoading}>\r\n                            {loginLoading ? 'Provjera...' : 'Prijavi se'}\r\n                        </Button> {'  '}\r\n                        <HelpBlock className=\"inline\">{invalidLogin ? 'Neispravni podatci.' : null}</HelpBlock>\r\n                        <LoadingIcon show={loginLoading}/>\r\n                    </FormGroup>\r\n            </form>\r\n\r\n        );\r\n    }\r\n\r\n}","import React, {Component} from 'react'\r\nimport {Button, Navbar } from \"react-bootstrap\";\r\nimport LoadingIcon from './loadingIcon'\r\n\r\nexport default class LogoutBtn extends Component{\r\n    state = {\r\n        isLoggingOut: false\r\n    };\r\n\r\n    sendLogoutReq = () => {\r\n        this.setState({isLoggingOut: true});\r\n        //posalji zahtjev na server za logout\r\n\r\n        this.props.logoutSuccess();\r\n        setTimeout(() => {this.setState({isLoggingOut: false})}, 5000);\r\n    };\r\n\r\n    render() {\r\n        const { isLoggingOut } = this.state;\r\n        const { isAddingNewParking } = this.props;\r\n\r\n        return (\r\n            <Navbar.Form pullRight>\r\n                <Button bsStyle=\"danger\" disabled={isAddingNewParking} onClick={this.sendLogoutReq}>Odjavi se</Button>\r\n                {'   '}\r\n                <LoadingIcon show={isLoggingOut}/>\r\n            </Navbar.Form>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {\r\n    FormGroup,\r\n    Form,\r\n    Alert,\r\n    FormControl,\r\n    HelpBlock,\r\n    Modal,\r\n    Button\r\n} from 'react-bootstrap'\r\n\r\nexport default class UserRegisterForm extends Component {\r\n    state = {\r\n        oib: '',\r\n        ime: '',\r\n        prezime: '',\r\n        email: '',\r\n        password: '',\r\n        creditCardNumber: '',\r\n        voib: null,\r\n        vime: null,\r\n        vprezime: null,\r\n        vemail: null,\r\n        vpassword: null,\r\n        vcreditCardNumber: null,\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n    emailChange = (e) => {\r\n        const email = e.target.value;\r\n        let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        let test = re.test(email.toLowerCase());\r\n        this.setState({\r\n            email: email,\r\n            vemail: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    imeChange = (e) => {\r\n        const ime = e.target.value;\r\n        let test = ime.length > 0;\r\n        this.setState({\r\n            ime: ime,\r\n            vime: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    prezimeChange = (e) => {\r\n        const prezime = e.target.value;\r\n        let test = prezime.length > 0;\r\n        this.setState({\r\n            prezime: prezime,\r\n            vprezime: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    passwordChange = (e) => {\r\n        const password = e.target.value;\r\n        let test = password.length > 4;\r\n        this.setState({\r\n            password: password,\r\n            vpassword: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    oibChange = (e) => {\r\n        const oib = e.target.value;\r\n        let test = oib.length == 11 && /^\\d+$/.test(oib);\r\n        this.setState({\r\n            oib: oib,\r\n            voib: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    creditCardNumberChange = (e) => {\r\n        const ccn = e.target.value;\r\n        let test = ccn.length >= 13 && ccn.length <= 16 && /^\\d+$/.test(ccn);\r\n        this.setState({\r\n            creditCardNumber: ccn,\r\n            vcreditCardNumber: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    validationState = (test) => {\r\n        if(test == null) return null;\r\n        return test ? \"success\" : \"error\";\r\n    };\r\n\r\n    register = () => {\r\n        const {voib, vime, vprezime, vemail, vpassword, vcreditCardNumber } = this.state;\r\n        const {oib, ime, prezime, creditCardNumber, email, password} = this.state;\r\n        let test = (voib && vime && vprezime && vemail && vpassword && vcreditCardNumber);\r\n        let alertMsg = test ? null : \"Krivi podatci.\";\r\n\r\n        if(test) {\r\n            //registriraj na backendu\r\n            const data = {\r\n                oib: oib,\r\n                ime: ime,\r\n                prezime: prezime,\r\n                email: email,\r\n                passwordHash: password,\r\n                brojKreditneKartice: creditCardNumber\r\n            };\r\n\r\n            fetch('/korisnici', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(response => {\r\n                    if(response.status != 200) {\r\n                        response.json().then(data => {\r\n                            this.setState({\r\n                                registrationValid: false,\r\n                                alertMsg: data.message\r\n                            });\r\n                        })\r\n                    } else {\r\n                        this.setState({\r\n                            registrationValid: true,\r\n                            alertMsg: \"Uspješna registracija! Sada se možete prijaviti.\"\r\n                        });\r\n                        setTimeout(() => this.props.onHide(), 3500);\r\n                    }\r\n                });\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            registrationValid: test,\r\n            alertMsg: alertMsg\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {oib, ime, prezime, email, password, creditCardNumber, voib, vime, vprezime, vemail, vpassword, vcreditCardNumber, alertMsg, registrationValid } = this.state;\r\n        const {back} = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Body>\r\n                    <small>sva polja su obavezna*</small>\r\n                    <Form>\r\n                        <FormGroup validationState={this.validationState(vemail)}>\r\n                            <h5><b>E-mail</b></h5>\r\n                            <FormControl name=\"email\" type=\"email\" value={email} onChange={this.emailChange} autoComplete=\"email\"/>\r\n                            <HelpBlock>{(vemail == null) || (vemail ? '' : 'Krivi format')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vpassword)}>\r\n                            <h5><b>Lozinka</b></h5>\r\n                            <FormControl name=\"password\" type=\"password\" value={password} onChange={this.passwordChange} autoComplete=\"new-password\"/>\r\n                            <HelpBlock>{(vpassword == null) || (vpassword ? '' : 'Prekratka lozinka')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vime)}>\r\n                            <h5><b>Ime</b></h5>\r\n                            <FormControl name=\"ime\" type=\"text\" value={ime} onChange={this.imeChange}/>\r\n                            <HelpBlock>{(vime == null) || (vime ? '' : 'Morate unjeti ime')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vprezime)}>\r\n                            <h5><b>Prezime</b></h5>\r\n                            <FormControl name=\"prezime\" type=\"text\" value={prezime} onChange={this.prezimeChange}/>\r\n                            <HelpBlock>{(vprezime == null) || (vprezime ? '' : 'Morate unjeti prezime')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(voib)}>\r\n                            <h5><b>OIB</b></h5>\r\n                            <FormControl name=\"oib\" type=\"text\" value={oib} onChange={this.oibChange}/>\r\n                            <HelpBlock>{(voib == null) || (voib ? '' : 'Neispravan OIB')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vcreditCardNumber)}>\r\n                            <h5><b>Broj kreditne kartice</b></h5>\r\n                            <FormControl name=\"creditCardNumber\" type=\"text\" value={creditCardNumber} onChange={this.creditCardNumberChange} autoComplete=\"cc-number\"/>\r\n                            <HelpBlock>{(vcreditCardNumber == null) || (vcreditCardNumber ? '' : 'Neispravan broj kreditne kartice')}</HelpBlock>\r\n                        </FormGroup>\r\n                        {\r\n                            alertMsg ?\r\n                                <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                    {alertMsg}\r\n                                </Alert> :\r\n                                null\r\n                        }\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"primary\" onClick={back}>Natrag</Button>{'  '}\r\n                    <Button bsStyle=\"success\" onClick={this.register}>Registriraj se</Button>\r\n                </Modal.Footer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {\r\n    FormGroup,\r\n    Form,\r\n    Alert,\r\n    FormControl,\r\n    HelpBlock,\r\n    Modal,\r\n    Button\r\n} from 'react-bootstrap'\r\n\r\nexport default class CompanyRegisterForm extends Component {\r\n    state = {\r\n        oib: '',\r\n        ime: '',\r\n        email: '',\r\n        password: '',\r\n        address: '',\r\n        voib: null,\r\n        vime: null,\r\n        vemail: null,\r\n        vpassword: null,\r\n        vaddress: null,\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n    emailChange = (e) => {\r\n        const email = e.target.value;\r\n        let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        let test = re.test(email.toLowerCase());\r\n        this.setState({\r\n            email: email,\r\n            vemail: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    imeChange = (e) => {\r\n        const ime = e.target.value;\r\n        let test = ime.length > 0;\r\n        this.setState({\r\n            ime: ime,\r\n            vime: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    passwordChange = (e) => {\r\n        const password = e.target.value;\r\n        let test = password.length > 4;\r\n        this.setState({\r\n            password: password,\r\n            vpassword: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    oibChange = (e) => {\r\n        const oib = e.target.value;\r\n        let test = oib.length === 11 && /^\\d+$/.test(oib);\r\n        this.setState({\r\n            oib: oib,\r\n            voib: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    addressChange = (e) => {\r\n        const address = e.target.value;\r\n        let test = address.length > 0;\r\n        this.setState({\r\n            address: address,\r\n            vaddress: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    validationState = (test) => {\r\n        if(test == null) return null;\r\n        return test ? \"success\" : \"error\";\r\n    };\r\n\r\n    register = () => {\r\n        this.setState({showLoadinIcon: true});\r\n        const {voib, vime, vemail, vpassword, vaddress } = this.state;\r\n        const {oib, ime, email, password, address } = this.state;\r\n        let test = (voib && vime && vemail && vpassword && vaddress);\r\n        let alertMsg = test ? null : \"Krivi podatci.\";\r\n\r\n        if(test) {\r\n            const data = {\r\n                oib: oib,\r\n                ime: ime,\r\n                email: email,\r\n                passwordHash: password,\r\n                adresaSjedista: address\r\n            };\r\n\r\n            fetch('/tvrtke', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(response => {\r\n                    if(response.status != 200) {\r\n                        response.json().then(data => {\r\n                            this.setState({\r\n                                registrationValid: false,\r\n                                alertMsg: data.message\r\n                            });\r\n                        })\r\n                    } else {\r\n                        this.setState({\r\n                            registrationValid: true,\r\n                            alertMsg: \"Uspješna registracija! Sada se možete prijaviti.\"\r\n                        });\r\n                        setTimeout(() => this.props.onHide(), 3500);\r\n                    }\r\n                });\r\n\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            registrationValid: test,\r\n            alertMsg: alertMsg\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {oib, ime, email, password, address, voib, vime, vemail, vpassword, vaddress, alertMsg, registrationValid } = this.state;\r\n        const {back} = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Body>\r\n                    <small>sva polja su oabvezna*</small>\r\n                    <Form>\r\n                        <FormGroup validationState={this.validationState(vemail)}>\r\n                            <h5><b>E-mail</b></h5>\r\n                            <FormControl name=\"email\" type=\"email\" value={email} onChange={this.emailChange} autoComplete=\"email\"/>\r\n                            <HelpBlock>{(vemail == null) || (vemail ? '' : 'Krivi format')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vpassword)}>\r\n                            <h5><b>Lozinka</b></h5>\r\n                            <FormControl name=\"password\" type=\"password\" value={password} onChange={this.passwordChange} autoComplete=\"new-password\"/>\r\n                            <HelpBlock>{(vpassword == null) || (vpassword ? '' : 'Prekratka lozinka')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vime)}>\r\n                            <h5><b>Ime</b></h5>\r\n                            <FormControl name=\"ime\" type=\"text\" value={ime} onChange={this.imeChange} autoComplete=\"organization\"/>\r\n                            <HelpBlock>{(vime == null) || (vime ? '' : 'Morate unjeti ime')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(voib)}>\r\n                            <h5><b>OIB</b></h5>\r\n                            <FormControl name=\"oib\" type=\"text\" value={oib} onChange={this.oibChange}/>\r\n                            <HelpBlock>{(voib == null) || (voib ? '' : 'Neispravan OIB')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vaddress)}>\r\n                            <h5><b>Adresa sjedišta</b></h5>\r\n                            <FormControl name=\"address\" type=\"address\" value={address} onChange={this.addressChange} autoComplete=\"address-line1\"/>\r\n                            <HelpBlock>{(vaddress == null) || (vaddress ? '' : 'Morate unijeti adresu')}</HelpBlock>\r\n                        </FormGroup>\r\n                        {\r\n                            alertMsg ?\r\n                                <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                    {alertMsg}\r\n                                </Alert> :\r\n                                null\r\n                        }\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"primary\" onClick={back}>Natrag</Button>{'  '}\r\n                    <Button bsStyle=\"success\" onClick={this.register}>Registriraj se</Button>\r\n                </Modal.Footer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport { Button, Modal} from \"react-bootstrap\";\r\nimport './registrationModal.css'\r\nimport UserRegisterForm from \"./userRegisterForm\";\r\nimport CompanyRegisterForm from './companyRegisterForm'\r\n\r\nexport default class RegistrationModal extends Component {\r\n    state = {\r\n        stage: null\r\n    };\r\n\r\n    hide = () => {\r\n        this.props.onHide();\r\n        setTimeout(this.resetStage, 200);\r\n    };\r\n\r\n    onChoose = (e) => {\r\n        this.setState({stage: e.target.name});\r\n    };\r\n\r\n    resetStage = () => {\r\n        this.setState({stage: null});\r\n    };\r\n\r\n    render() {\r\n        const { show, onHide } = this.props;\r\n        const { stage } = this.state;\r\n\r\n        let body = null;\r\n        if(stage == null) {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Odaberite vrstu registracije:</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className='center'>\r\n                            <div className=\"reg-choose\">\r\n                                <Button name=\"tvrtka\" className=\"reg-btn\"  bsStyle=\"info\" onClick={this.onChoose}>Tvrtka</Button>\r\n                                <p>Moći ćete <b>nuditi usluge parkinga</b> kroz ovu aplikaciju.</p>\r\n                            </div>\r\n                            <div className=\"reg-choose\">\r\n                                <Button name=\"korisnik\" className=\"reg-btn\" bsStyle=\"info\" onClick={this.onChoose}>Korisnik</Button>\r\n                                <p>Moći ćete <b>rezervirati parking</b> kroz ovu aplikaciju.</p>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </div>\r\n            );\r\n        } else if(stage == \"tvrtka\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Registracija tvrtke:</Modal.Title>\r\n                    </Modal.Header>\r\n                    <CompanyRegisterForm back={this.resetStage} onHide={this.hide}/>\r\n                </div>\r\n            );\r\n        } else if(stage == \"korisnik\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Registracija korisnika:</Modal.Title>\r\n                    </Modal.Header>\r\n                    <UserRegisterForm back={this.resetStage} onHide={this.hide}/>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Modal className=\"registration-modal\" show={show} onHide={this.hide} keyboard={true}>\r\n                {body}\r\n            </Modal>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport './carItem.css'\r\nimport {Button, Fade} from \"react-bootstrap\";\r\n\r\nclass CarItem extends Component {\r\n    state = {\r\n        show: true\r\n    };\r\n\r\n    carRemoved = () => {\r\n        fetch('/automobili/' + this.props.car.registracijskaOznaka, {\r\n           method: 'DELETE'\r\n        });\r\n\r\n        this.setState({show:false});\r\n        setTimeout(() => this.props.carsUpdate(), 10);\r\n    };\r\n\r\n    render() {\r\n        const {car} = this.props;\r\n        const {show} = this.state;\r\n\r\n        return (\r\n            <Fade in={show}>\r\n                <li className=\"list-group-item\">\r\n                    <h5><b>{car.ime}</b></h5>  <small>registracija:</small> {car.registracijskaOznaka}\r\n                    <Button className=\"right\" bsStyle=\"danger\" bsSize=\"xsmall\" onClick={this.carRemoved}>Ukloni</Button>\r\n                </li>\r\n            </Fade>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CarItem;","import React, {Component} from 'react';\r\nimport {ListGroup} from \"react-bootstrap\";\r\nimport CarItem from './carItem'\r\n\r\nclass CarsList extends Component {\r\n    render() {\r\n        const {cars, carsUpdate} = this.props;\r\n\r\n        return (\r\n            <ListGroup componentClass=\"ul\">\r\n                {cars.map(car => <CarItem key={car.registracijskaOznaka} car={car} carsUpdate={carsUpdate} />)}\r\n            </ListGroup>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CarsList;","import React, {Component} from 'react'\r\nimport {\r\n    FormGroup,\r\n    Form,\r\n    Alert,\r\n    FormControl,\r\n    HelpBlock,\r\n    Modal,\r\n    Button\r\n} from 'react-bootstrap'\r\n\r\nexport default class CarRegisterForm extends Component {\r\n    state = {\r\n        ime: '',\r\n        registracija: '',\r\n        vime: null,\r\n        vregistracija: null,\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n\r\n    imeChange = (e) => {\r\n        const ime = e.target.value;\r\n        let test = ime.length > 0;\r\n        this.setState({\r\n            ime: ime,\r\n            vime: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    registracijaChange = (e) => {\r\n        const registracija = e.target.value;\r\n        let test = /^[a-zA-Z]{2}-[0-9]{3,4}-[a-zA-Z]{1,2}$/.test(registracija);\r\n        this.setState({\r\n            registracija: registracija,\r\n            vregistracija: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n\r\n    validationState = (test) => {\r\n        if(test == null) return null;\r\n        return test ? \"success\" : \"error\";\r\n    };\r\n\r\n    register = () => {\r\n        const {vime, vregistracija, ime, registracija} = this.state;\r\n        let test = (vime && vregistracija);\r\n\r\n        if(test) {\r\n            //registriraj na backendu\r\n\r\n            const data = {\r\n                ime: ime,\r\n                registracijskaOznaka: registracija.toUpperCase()\r\n            };\r\n\r\n            fetch('/automobili', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            }).then(response => {\r\n                if(response.status != 200) {\r\n                    this.setState({\r\n                        registrationValid: false,\r\n                        alertMsg: 'Automobil s danom registracijom već postoji.'\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        registrationValid: true,\r\n                        alertMsg: 'Uspješna registracija automobila!'\r\n                    });\r\n                    this.props.carsUpdate();\r\n                    setTimeout(() => this.props.back(), 2500);\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({\r\n                registrationValid: false,\r\n                alertMsg: 'Neispravni podatci!'\r\n            });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { ime, registracija, vime, vregistracija, alertMsg, registrationValid } = this.state;\r\n        const {back} = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <FormGroup validationState={this.validationState(vime)}>\r\n                            <h5><b>Naziv</b></h5>\r\n                            <FormControl name=\"ime\" type=\"text\" value={ime} onChange={this.imeChange}/>\r\n                            <HelpBlock>{(vime == null) || (vime ? '' : 'Morate unjeti naziv')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vregistracija)}>\r\n                            <h5><b>Registracija</b></h5>\r\n                            <FormControl name=\"registracija\" type=\"text\" value={registracija} onChange={this.registracijaChange}/>\r\n                            <HelpBlock>{(vregistracija == null) || (vregistracija ? '' : 'format: AB-1234-CD')}</HelpBlock>\r\n                        </FormGroup>\r\n                        {\r\n                            alertMsg ?\r\n                                <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                    {alertMsg}\r\n                                </Alert> :\r\n                                null\r\n                        }\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"primary\" onClick={back}>Natrag</Button>{'  '}\r\n                    <Button bsStyle=\"success\" onClick={this.register}>Registriraj automobil</Button>\r\n                </Modal.Footer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Button, Modal} from \"react-bootstrap\";\r\nimport './registrationModal.css'\r\nimport CarsList from './carsList'\r\nimport CarRegisterForm from './carRegisterForm'\r\n\r\nexport default class CarsModal extends Component {\r\n    state = {\r\n        stage: 0\r\n    };\r\n\r\n    hide = () => {\r\n        this.props.onHide();\r\n        setTimeout(this.downStage, 200);\r\n    };\r\n\r\n    upStage = () => {\r\n      this.setState({stage: 1});\r\n    };\r\n\r\n    downStage = () => {\r\n      this.setState({stage: 0});\r\n    };\r\n\r\n    render() {\r\n        const { show, cars, carsUpdate, addCar } = this.props;\r\n        const { stage } = this.state;\r\n\r\n        let list = null;\r\n\r\n        if (cars.length == 0) {\r\n            list = <div className=\"center\"><h4>Niste registrirali niti jedan automobil.</h4></div>\r\n        } else {\r\n            list = <CarsList cars={cars} carsUpdate={carsUpdate}/>\r\n        }\r\n\r\n        let body = null;\r\n        if(stage == 0) {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={this.hide}>\r\n                        <Modal.Title>Vaši automobili</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {list}\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button bsStyle=\"primary\" onClick={this.upStage}>Dodaj automobil</Button>\r\n                    </Modal.Footer>\r\n                </div>\r\n            );\r\n        } else if(stage == 1) {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={this.hide}>\r\n                        <Modal.Title>Registracija automobila:</Modal.Title>\r\n                    </Modal.Header>\r\n                    <CarRegisterForm back={this.downStage} addCar={addCar} carsUpdate={carsUpdate}/>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Modal show={show} onHide={this.hide} keyboard={true}>\r\n                {body}\r\n            </Modal>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport './carItem.css'\r\nimport {Button, Fade} from \"react-bootstrap\";\r\nimport './reservationItem.css'\r\n\r\nclass ReservationItem extends Component {\r\n    state = {\r\n        show: true\r\n    };\r\n\r\n    reservationRemoved = () => {\r\n        this.setState({show:false});\r\n\r\n        fetch('/rezervacije/trajna/'+this.props.reservation.id, {\r\n            method: 'DELETE'\r\n        }).then( res => {\r\n            setTimeout(() => this.props.reservationsUpdate(), 200);\r\n        });\r\n\r\n    };\r\n\r\n    render() {\r\n        const {reservation} = this.props;\r\n        const {show} = this.state;\r\n\r\n        return (\r\n            <Fade in={show}>\r\n                <li className=\"list-group-item\">\r\n                    <div className='reservation'>\r\n                    <h5><small>parkiralište: </small><b>{reservation.parkiraliste}</b></h5>\r\n                    <Button className=\"right\" bsStyle=\"danger\" bsSize=\"xsmall\" onClick={this.reservationRemoved}>Ukini</Button>\r\n                    </div>\r\n                </li>\r\n            </Fade>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ReservationItem;","import React, {Component} from 'react';\r\nimport './registrationModal.css'\r\nimport {Fade} from \"react-bootstrap\";\r\n\r\nexport default class LoadingIconModal extends Component {\r\n    render() {\r\n        const { show } = this.props;\r\n\r\n        return (\r\n            <div className='center'>\r\n                <Fade in={show}>\r\n                    <img alt='Učitavam...' src=\"./icons/loading_modal.gif\"/>\r\n                </Fade>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {ListGroup} from \"react-bootstrap\";\r\nimport ReservationItem from './reservationItem'\r\nimport LoadingIconModal from './loadingIconModal'\r\n\r\nclass ReservationsList extends Component {\r\n    state = {\r\n        reservations: [],\r\n        loading: true\r\n    };\r\n\r\n    componentWillMount() {\r\n        this.reservationsUpdate();\r\n    }\r\n\r\n    reservationsUpdate = () => {\r\n        fetch('/rezervacije')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n               let rez = [];\r\n               data.forEach(r => {\r\n                   if(r.trajna) {\r\n                       const reservation = {\r\n                           id: r.id,\r\n                           parkiraliste: this.props.parkingName(r.parkiralisteID)\r\n                       };\r\n                       rez.push(reservation);\r\n                   }\r\n               });\r\n               this.setState({\r\n                   reservations: rez,\r\n                   loading: false\r\n               });\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const {reservations, loading} = this.state;\r\n\r\n        if(loading) {\r\n            return <LoadingIconModal show={loading}/>;\r\n        }\r\n\r\n        if(reservations.length === 0) {\r\n            return <h3>Nemate trajnih rezervacija.</h3>\r\n        }\r\n\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <ListGroup componentClass=\"ul\">\r\n                    {reservations.map(reservation => <ReservationItem key={reservation.id} reservation={reservation} reservationsUpdate={this.reservationsUpdate}/>)}\r\n                </ListGroup>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ReservationsList;","import React, {Component} from 'react'\r\nimport {Modal} from \"react-bootstrap\";\r\nimport './registrationModal.css'\r\nimport ReservationsList from './reservationsList'\r\n\r\nexport default class ReservationsModal extends Component {\r\n    render() {\r\n        const { show, onHide, parkingName } = this.props;\r\n\r\n\r\n        return (\r\n            <Modal show={show} onHide={onHide} keyboard={true}>\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Vaše trajne rezervacije</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <ReservationsList parkingName={parkingName}/>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <small>Napravite novu rezervaciju tako da kliknete na željeno parkiralište na karti te potom gumb 'rezerviraj'.</small>\r\n                    </Modal.Footer>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport {Table, Button} from \"react-bootstrap\";\r\n\r\nfunction TvrtkaRow(props) {\r\n\r\n    function removeTvrtka() {\r\n        fetch('/tvrtke/'+props.company.email, {\r\n            method: 'DELETE'\r\n        }).then(() => {\r\n            props.update();\r\n            props.parkingsUpdate();\r\n        });\r\n    }\r\n\r\n    return (\r\n        <tr>\r\n            <td>{props.company.oib}</td>\r\n            <td>{props.company.ime}</td>\r\n            <td>{props.company.email}</td>\r\n            <td>{props.company.adresaSjedista}</td>\r\n            <td><Button bsStyle='danger' bsSize='xsmall' onClick={removeTvrtka}>Izbriši</Button></td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nfunction KorisnikRow(props) {\r\n\r\n    function removeKorisnik() {\r\n        fetch('/korisnici/'+props.user.email, {\r\n            method: 'DELETE'\r\n        }).then(() => props.update());\r\n    }\r\n\r\n    return (\r\n        <tr>\r\n            <td>{props.user.oib}</td>\r\n            <td>{props.user.ime} {props.user.prezime}</td>\r\n            <td>{props.user.email}</td>\r\n            <td><Button bsStyle='danger' bsSize='xsmall' onClick={removeKorisnik}>Izbriši</Button></td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport default class UsersList extends Component {\r\n    render() {\r\n        const {type, users, companies, updateUsers, parkingsUpdate} = this.props;\r\n\r\n        let head = null, body = null;\r\n\r\n        if(type === 'tvrtke') {\r\n\r\n            head = (\r\n                <thead>\r\n                    <tr>\r\n                        <th>OIB</th>\r\n                        <th>Naziv</th>\r\n                        <th>E-mail</th>\r\n                        <th>Adresa sjedišta</th>\r\n                        <th>#</th>\r\n                    </tr>\r\n                </thead>\r\n            );\r\n            body = (\r\n                <tbody>\r\n                {\r\n                    companies.map(company =>\r\n                       <TvrtkaRow  key={company.id} company={company} update={updateUsers} parkingsUpdate={parkingsUpdate} />\r\n                    )\r\n                }\r\n                </tbody>\r\n            );\r\n        } else {\r\n\r\n            head = (\r\n                <thead>\r\n                <tr>\r\n                    <th>OIB</th>\r\n                    <th>Puno ime</th>\r\n                    <th>email</th>\r\n                    <th>#</th>\r\n                </tr>\r\n                </thead>\r\n            );\r\n            body = (\r\n                <tbody>\r\n                {\r\n                    users.map(user =>\r\n                        <KorisnikRow  key={user.id} user={user} update={updateUsers}/>\r\n                    )\r\n                }\r\n                </tbody>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Table striped bordered hover responsive>\r\n                {head}\r\n                {body}\r\n            </Table>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport { Button, Modal} from \"react-bootstrap\";\r\nimport './registrationModal.css'\r\nimport UsersList from './usersList'\r\n\r\nvar tvrtke = [\r\n    {\r\n        oib: '12312312312',\r\n        ime: 'Zagreb parking',\r\n        email: 'zp@zg.hr',\r\n        adresa: 'Ilica 26, 10000 Zagreb'\r\n    },\r\n    {\r\n        oib: '32132132132',\r\n        ime: 'Parkiraj se, org.',\r\n        email: 'parkiraj@se.hr',\r\n        adresa: 'Savska 13, 10000 Zagreb'\r\n    },\r\n    {\r\n        oib: '15915915995',\r\n        ime: 'Rebro',\r\n        email: 'rebro@zg-bolnice.hr',\r\n        adresa: 'Kišpatićeva ul. 12, 10000, Zagreb'\r\n    },\r\n];\r\n\r\n\r\nexport default class UsersModal extends Component {\r\n    state = {\r\n        stage: null,\r\n        users: [],\r\n        companies: []\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.updateTvrtke();\r\n        this.updateKorisnici();\r\n    }\r\n\r\n    hide = () => {\r\n        this.props.onHide();\r\n        setTimeout(this.resetStage, 200);\r\n    };\r\n\r\n    onChoose = (e) => {\r\n        this.setState({stage: e.target.name});\r\n    };\r\n\r\n    resetStage = () => {\r\n        this.setState({stage: null});\r\n    };\r\n\r\n\r\n    updateTvrtke = () => {\r\n        fetch('/tvrtke')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                this.setState({companies: data});\r\n            });\r\n    };\r\n\r\n    updateKorisnici = () => {\r\n        fetch('/korisnici')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                this.setState({users: data});\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const { show, onHide, parkingsUpdate } = this.props;\r\n        const { stage, users, companies } = this.state;\r\n\r\n        let body = null;\r\n        if(stage == null) {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Odaberite vrstu računa:</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className='center'>\r\n                            <div className=\"reg-choose\">\r\n                                <Button name=\"tvrtke\" className=\"reg-btn\"  bsStyle=\"info\" onClick={this.onChoose}>Tvrtke</Button>\r\n                            </div>\r\n                            <div className=\"reg-choose\">\r\n                                <Button name=\"korisnici\" className=\"reg-btn\" bsStyle=\"info\" onClick={this.onChoose}>Korisnici</Button>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </div>\r\n            );\r\n        } else if(stage === \"tvrtke\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Tvrtke</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <UsersList type={stage} companies={companies} updateUsers={this.updateTvrtke} parkingsUpdate={parkingsUpdate}/>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button bsStyle=\"primary\" onClick={this.resetStage}>Natrag</Button>\r\n                    </Modal.Footer>\r\n                </div>\r\n            );\r\n        } else if(stage === \"korisnici\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Korisnici</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <UsersList type={stage} users={users} updateUsers={this.updateKorisnici} parkingsUpdate={parkingsUpdate}/>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button bsStyle=\"primary\" onClick={this.resetStage}>Natrag</Button>\r\n                    </Modal.Footer>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Modal className=\"registration-modal\" show={show} onHide={this.hide} keyboard={true}>\r\n                {body}\r\n            </Modal>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport { Navbar, Button } from \"react-bootstrap\";\r\nimport './navBar.css'\r\nimport Image from \"react-bootstrap/es/Image\";\r\nimport NavBarLogin from './navBarLogin'\r\nimport LogoutBtn from './logoutBtn'\r\nimport RegistrationModal from './registrationModal'\r\nimport CarsModal from './carsModal'\r\nimport ReservationsModal from './reservationsModal'\r\nimport UserModal from './usersModal'\r\n\r\nexport default class NavBar extends Component{\r\n\r\n    state = {\r\n        registerShow: false,\r\n        carsShow: false,\r\n        reservationsShow: false,\r\n        usersShow: false\r\n    };\r\n\r\n    registerShowOn = () => {\r\n        this.setState({registerShow: true});\r\n    };\r\n\r\n    registerShowOff = () => {\r\n        this.setState({registerShow: false});\r\n    };\r\n\r\n    carsShowOn = () => {\r\n        this.setState({carsShow: true});\r\n    };\r\n\r\n    carsShowOff = () => {\r\n        this.setState({carsShow: false});\r\n    };\r\n\r\n    reservationsShowOn = () => {\r\n        this.setState({reservationsShow: true});\r\n    };\r\n\r\n    reservationsShowOff = () => {\r\n        this.setState({reservationsShow: false});\r\n    };\r\n\r\n    usersShowOn = () => {\r\n        this.setState({usersShow: true});\r\n    };\r\n\r\n    usersShowOff = () => {\r\n        this.setState({usersShow: false});\r\n    };\r\n\r\n\r\n    render() {\r\n        const { registerShow, carsShow, reservationsShow, usersShow } = this.state;\r\n        const { loginSuccess, tipKorisnika, logoutSuccess, cars, carsUpdate, addCar, newParkingToggle, isAddingNewParking, parkingName, parkingsUpdate } = this.props;\r\n\r\n        let body = null;\r\n        switch (tipKorisnika) {\r\n            case 3:\r\n                body = (\r\n                    <Navbar.Collapse>\r\n                        <Navbar.Form pullLeft>\r\n                            <NavBarLogin loginSuccess={loginSuccess}/>\r\n                        </Navbar.Form>\r\n                        <Navbar.Form pullRight>\r\n                            <Button bsStyle=\"primary\" type=\"submit\" onClick={this.registerShowOn}>Registriraj se</Button>\r\n                        </Navbar.Form>\r\n                    </Navbar.Collapse>\r\n                );\r\n                break;\r\n            case 0:\r\n                body = (\r\n                    <Navbar.Collapse>\r\n                        <Navbar.Text>\r\n                            Bok, <b>{sessionStorage.getItem('name')}</b>\r\n                        </Navbar.Text>\r\n                        <Navbar.Form pullLeft>\r\n                            <Button bsStyle=\"info\" onClick={this.carsShowOn}>Automobili</Button> {'    '}\r\n                            <Button bsStyle=\"info\" onClick={this.reservationsShowOn}>Trajne rezervacije</Button> {'    '}\r\n                        </Navbar.Form>\r\n                        <LogoutBtn logoutSuccess={logoutSuccess}/>\r\n                    </Navbar.Collapse>\r\n                );\r\n                break;\r\n            case 1:\r\n                body = (\r\n                    <Navbar.Collapse>\r\n                        <Navbar.Text>\r\n                            Tvrtka: <b>{sessionStorage.getItem('name')}</b>\r\n                        </Navbar.Text>\r\n                        <Navbar.Form pullLeft>\r\n                            <Button bsStyle=\"info\" onClick={newParkingToggle} disabled={isAddingNewParking}>Dodaj novi parking</Button> {'    '}\r\n                        </Navbar.Form>\r\n                        <LogoutBtn isAddingNewParking={isAddingNewParking} logoutSuccess={logoutSuccess}/>\r\n                    </Navbar.Collapse>\r\n                );\r\n                break;\r\n            case 2:\r\n                body = (\r\n                    <Navbar.Collapse>\r\n                        <Navbar.Text>\r\n                            Administrator\r\n                        </Navbar.Text>\r\n                        <Navbar.Form pullLeft>\r\n                            <Button bsStyle=\"info\" onClick={this.usersShowOn}>Upravljanje računima</Button> {'    '}\r\n                        </Navbar.Form>\r\n                        <LogoutBtn logoutSuccess={logoutSuccess}/>\r\n                    </Navbar.Collapse>\r\n                );\r\n                break;\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Navbar inverse fixedTop>\r\n                    <Navbar.Header>\r\n                        <Navbar.Brand>\r\n                            <Image src=\"./icons/brand-logo.png\"/>\r\n                        </Navbar.Brand>\r\n                        <Navbar.Toggle />\r\n                    </Navbar.Header>\r\n                    {body}\r\n                </Navbar>\r\n\r\n                {tipKorisnika === 3 ? <RegistrationModal show={registerShow} onHide={this.registerShowOff}/> : null}\r\n                {tipKorisnika === 2 ? <UserModal show={usersShow} onHide={this.usersShowOff} parkingsUpdate={parkingsUpdate}/> : null}\r\n                {tipKorisnika === 0 ? <ReservationsModal show={reservationsShow} onHide={this.reservationsShowOff} parkingName={parkingName}/> : null}\r\n                {tipKorisnika === 0 ? <CarsModal show={carsShow} onHide={this.carsShowOff} cars={cars} carsUpdate={carsUpdate} addCar={addCar}/> : null}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React, {Component} from 'react';\r\nimport L from \"leaflet\";\r\nimport {Marker, Popup} from 'react-leaflet'\r\nimport {Button} from \"react-bootstrap\";\r\nimport './parkingMarker.css'\r\nimport ReserveModal from './reserveModal'\r\nimport UserModal from \"./navBar\";\r\n\r\nvar parkingIcon = L.icon({\r\n    iconUrl: 'icons/parking.png',\r\n    iconSize: [498/15, 604/15],\r\n    iconAnchor: [498/2/15, 604/15],\r\n    popupAnchor: [0, -604/15]\r\n});\r\n\r\nexport default class ParkingMarker extends Component {\r\n    state = {\r\n        reserveShow: false\r\n    };\r\n\r\n    reserveShowOn = () => {\r\n        this.setState({reserveShow: true});\r\n    };\r\n\r\n    reserveShowOff = () => {\r\n        this.setState({reserveShow: false});\r\n    };\r\n\r\n    spu = () => {\r\n        this.props.selectedParkingUpdate(this.props.parking.id);\r\n    };\r\n\r\n    ref = React.createRef();\r\n\r\n    componentDidMount() {\r\n        this.props.updateMarkerRef(this.props.parking.id, this.ref.current.leafletElement);\r\n    }\r\n\r\n    deleteParking = () => {\r\n        fetch('/parkiralista/'+this.props.parking.id, {\r\n            method: 'DELETE'\r\n        }).then(this.props.parkingUpdate());\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n        const {parking, tipKorisnika, editParking, cars } = this.props;\r\n        const {reserveShow} = this.state;\r\n\r\n        let btn = null;\r\n        if(tipKorisnika === 1) {\r\n            btn = (\r\n                <div>\r\n                    <Button className='marker-btns' bsStyle='info' bsSize='small' onClick={editParking}>Uredi podatke</Button><br/>\r\n                    <Button className='marker-btns' bsStyle='danger' bsSize='small' onClick={this.deleteParking}>Izbriši</Button>\r\n                </div>\r\n            );\r\n        } else if(tipKorisnika === 0) {\r\n            btn = <Button bsStyle='info' bsSize='small' onClick={this.reserveShowOn}>Rezerviraj</Button>\r\n        }\r\n\r\n        return (\r\n            <Marker position={parking.lokacija} icon={parkingIcon} ref={this.ref}>\r\n                <Popup onOpen={this.spu} onClose={this.closePopup} autoPan={false}>\r\n                    <h3>{parking.ime}</h3>\r\n                    <p><small>popunjenost:</small> {parking.popunjenost}/{parking.kapacitet}</p>\r\n                    <p><small>cijena: </small> {parking.cijena} kn/h</p>\r\n                    {btn}\r\n                </Popup>\r\n                <ReserveModal show={reserveShow} onHide={this.reserveShowOff} parking={parking} cars={cars} parkingsUpdate={this.props.parkingUpdate}/>\r\n            </Marker>\r\n        );\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Alert, Button, Form, FormControl, FormGroup, HelpBlock, Modal, Well} from \"react-bootstrap\";\r\nimport Dock from 'react-dock'\r\nimport './parkingEditor.css'\r\n\r\nexport default class ParkingEditor extends Component {\r\n    state = {\r\n        ime: '',\r\n        kapacitet: '',\r\n        cijena: '',\r\n        vime: null,\r\n        vkapacitet: null,\r\n        vcijena: null,\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n\r\n    imeChange = (e) => {\r\n        const ime = e.target.value;\r\n        let test = ime.length > 0;\r\n        this.setState({\r\n            ime: ime,\r\n            vime: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    kapacitetChange = (e) => {\r\n        const kapacitet = e.target.value;\r\n        let test = kapacitet.length > 0 && /^\\d+$/.test(kapacitet);\r\n        this.setState({\r\n            kapacitet: kapacitet,\r\n            vkapacitet: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    cijenaChange = (e) => {\r\n        const cijena = e.target.value;\r\n        let test = cijena.length > 0 && /^\\d+$/.test(cijena);\r\n        this.setState({\r\n            cijena: cijena,\r\n            vcijena: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n\r\n    validationState = (test) => {\r\n        if(test == null) return null;\r\n        return test ? \"success\" : \"error\";\r\n    };\r\n\r\n    register = () => {\r\n        const {vime, vkapacitet, vcijena } = this.state;\r\n        const {ime, kapacitet, cijena } = this.state;\r\n        let test = (vime && vkapacitet && vcijena);\r\n        let alertMsg = test ? null : \"Krivi podatci.\";\r\n\r\n        if(test) {\r\n            //registriraj na backendu\r\n            const data = {\r\n                ime: ime,\r\n                lokacija: this.props.newParkingLocation,\r\n                kapacitet: kapacitet,\r\n                cijena: cijena\r\n            };\r\n\r\n            if(this.props.isEditingParking) {\r\n                fetch('/parkiralista/uredi/'+this.props.selectedParking.id, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                    },\r\n                    body: JSON.stringify(data)\r\n                }).then(res => {\r\n                    this.setState({\r\n                        registrationValid: true,\r\n                        alertMsg: \"Podaci uspješno uređeni!\"\r\n                    });\r\n                    this.props.isEditingParkingOff();\r\n                    this.props.parkingsUpdate();\r\n                    setTimeout(() => this.props.newParkingToggle(), 2500);\r\n                });\r\n                return;\r\n            }\r\n\r\n            fetch('/parkiralista', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(response => {\r\n                    if(response.status != 200) {\r\n                        response.json().then(data => {\r\n                            this.setState({\r\n                                registrationValid: false,\r\n                                alertMsg: data.message\r\n                            });\r\n                        })\r\n                    } else {\r\n                        this.setState({\r\n                            registrationValid: true,\r\n                            alertMsg: \"Podaci uspješno spremljeni!\"\r\n                        });\r\n                        this.props.parkingsUpdate();\r\n                        setTimeout(() => this.props.newParkingToggle(), 2500);\r\n                    }\r\n                });\r\n\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            registrationValid: test,\r\n            alertMsg: alertMsg\r\n        });\r\n    };\r\n\r\n    back = () => {\r\n        this.props.newParkingToggle();\r\n        this.props.isEditingParkingOff();\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const {isAddingNewParking, isEditingParking, selectedParking} = this.props;\r\n      if(!prevProps.isEditingParking && isEditingParking) {\r\n          this.setState({\r\n              ime: selectedParking.ime,\r\n              kapacitet: selectedParking.kapacitet,\r\n              cijena: selectedParking.cijena,\r\n              vime: true,\r\n              vkapacitet: true,\r\n              vcijena: true,\r\n              alertMsg: null,\r\n              registrationValid: false\r\n          })\r\n      }\r\n\r\n      if(prevProps.isAddingNewParking && !isAddingNewParking) {\r\n          setTimeout(() => {\r\n              this.setState({\r\n                  ime: '',\r\n                  kapacitet: '',\r\n                  cijena: '',\r\n                  vime: null,\r\n                  vkapacitet: null,\r\n                  vcijena: null,\r\n                  alertMsg: null,\r\n                  registrationValid: false\r\n              })\r\n          }, 200);\r\n      }\r\n    };\r\n\r\n    render() {\r\n        const {isAddingNewParking} = this.props;\r\n        const {ime, kapacitet, cijena, vime, vkapacitet, vcijena, alertMsg, registrationValid} = this.state;\r\n\r\n        return (\r\n\r\n            <Dock position='right' isVisible={isAddingNewParking} fluid={true} defaultSize={0.3}  dimMode='none'>\r\n                <div>\r\n                    <Modal.Header>\r\n                        <h4>Uredite podatke parkirališta</h4>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <small>sva polja su obavezna*</small>\r\n                        <Form>\r\n                            <FormGroup validationState={this.validationState(vime)}>\r\n                                <h5><b>Naziv</b></h5>\r\n                                <FormControl name=\"ime\" type=\"text\" value={ime} onChange={this.imeChange} autoComplete='organization'/>\r\n                                <HelpBlock>{(vime == null) || (vime ? '' : 'Morate unjeti naziv')}</HelpBlock>\r\n                            </FormGroup>\r\n                            <FormGroup validationState={this.validationState(vkapacitet)}>\r\n                            <h5><b>Kapacitet</b></h5>\r\n                            <FormControl name=\"kapacitet\" type=\"number\" value={kapacitet} onChange={this.kapacitetChange}/>\r\n                            <HelpBlock>{(vkapacitet == null) || (vkapacitet ? '' : 'Morate unjeti kapacitet i kapacitet mora biti cijeli broj')}</HelpBlock>\r\n                        </FormGroup>\r\n                            <FormGroup validationState={this.validationState(vcijena)}>\r\n                                <h5><b>Cijena</b> <small>(kn/h)</small></h5>\r\n                                <FormControl name=\"cijena\" type=\"number\" value={cijena} onChange={this.cijenaChange}/>\r\n                                <HelpBlock>{(vcijena == null) || (vcijena ? '' : 'Morate unjeti cijenu i cijena mora biti cijeli broj')}</HelpBlock>\r\n                            </FormGroup>\r\n                            <Well>Za odabir lokacije vucite marker na karti.</Well>\r\n                            {\r\n                                alertMsg ?\r\n                                    <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                        {alertMsg}\r\n                                    </Alert> :\r\n                                    null\r\n                            }\r\n                        </Form>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button bsStyle=\"warning\" onClick={this.back}>Odustani</Button>{'  '}\r\n                        <Button bsStyle=\"success\" onClick={this.register}>Spremi</Button>\r\n                    </Modal.Footer>\r\n                </div>\r\n            </Dock>\r\n        );\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport L from \"leaflet\";\r\nimport {Marker} from 'react-leaflet'\r\nimport './parkingMarker.css'\r\n\r\nvar parkingIcon = L.icon({\r\n    iconUrl: 'icons/new_parking.png',\r\n    iconSize: [498/15, 604/15],\r\n    iconAnchor: [498/2/15, 604/15],\r\n    popupAnchor: [0, -604/15],\r\n    className: 'new-parking-marker'\r\n});\r\n\r\nexport default class NewParkingMarker extends Component {\r\n\r\n    ref = React.createRef();\r\n\r\n    update = () => {\r\n        const marker = this.ref.current;\r\n        if (marker != null) {\r\n            const pos = [marker.leafletElement.getLatLng().lat, marker.leafletElement.getLatLng().lng];\r\n            this.props.newParkingLocationUpdate(pos);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const {newParkingLocation} = this.props;\r\n\r\n        return (\r\n            <Marker position={newParkingLocation || [0,0]} ref={this.ref} icon={parkingIcon} draggable={true} onDragend={this.update}>\r\n            </Marker>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet'\r\nimport {Button} from \"react-bootstrap\";\r\nimport '../../node_modules/leaflet/dist/leaflet.css'\r\nimport './map.css'\r\nimport L from \"leaflet\";\r\nimport CenterMeBtn from './centerMeBtn'\r\nimport ParkingMarker from './parkingMarker'\r\nimport ParkingEditor from './parkingEditor'\r\nimport NewParkingMarker from './newParkingMarker'\r\n\r\nvar myIcon = L.icon({\r\n    iconUrl: 'icons/my_location.png',\r\n    iconSize: [270/10, 398/10],\r\n    iconAnchor: [270/2/10, 398/10],\r\n    popupAnchor: [0, -398/10]\r\n});\r\n\r\nconst positions = {\r\n    Zagreb: [45.810875, 15.974711]\r\n};\r\n\r\nfunction latLngDistance(lat1, lon1, lat2, lon2, unit) {\r\n    if ((lat1 === lat2) && (lon1 === lon2)) {\r\n        return 0;\r\n    }\r\n    else {\r\n        var radlat1 = Math.PI * lat1/180;\r\n        var radlat2 = Math.PI * lat2/180;\r\n        var theta = lon1-lon2;\r\n        var radtheta = Math.PI * theta/180;\r\n        var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n        if (dist > 1) {\r\n            dist = 1;\r\n        }\r\n        dist = Math.acos(dist);\r\n        dist = dist * 180/Math.PI;\r\n        dist = dist * 60 * 1.1515;\r\n        if (unit===\"K\") { dist = dist * 1.609344 }\r\n        if (unit===\"N\") { dist = dist * 0.8684 }\r\n        return dist;\r\n    }\r\n}\r\n\r\nfunction posDistance(pos1, pos2) {\r\n    return latLngDistance(pos1[0], pos1[1], pos2[0], pos2[1]);\r\n}\r\n\r\n\r\nexport default class MapControler extends Component{\r\n    state = {\r\n        viewport: {center: positions.Zagreb, zoom: 13},\r\n        maxZoom: 19,\r\n        minZoom: 7,\r\n        maxBounds: L.latLngBounds(L.latLng(47.094206, 12.028730), L.latLng(42.128702, 20.731908)),\r\n        watchId: 0,\r\n        selectedParking: null,\r\n        markerRefs: {},\r\n        isEditingParking: false,\r\n        newParkingLocation: positions.Zagreb\r\n    };\r\n\r\n    onViewportChanged = (viewport) => {\r\n        setTimeout(() => this.setState({viewport: viewport}), 10);\r\n        if(!this.props.isAddingNewParking) setTimeout(() => this.setState({newParkingLocation: viewport.center}), 10);\r\n    };\r\n\r\n    centerClicked = () => {\r\n        this.centerMe();\r\n    };\r\n\r\n    centerMe = () => {\r\n        const vp = {\r\n            center: this.props.myPosition,\r\n            zoom: this.state.viewport.zoom\r\n        };\r\n\r\n        this.setState({viewport: vp});\r\n    };\r\n\r\n    centerTo = (pos) => {\r\n        const vp = {\r\n            center: pos,\r\n            zoom: 15\r\n        };\r\n\r\n        this.setState({viewport: vp});\r\n    };\r\n\r\n    getParkingsOfTvrtkaID = (id) => {\r\n        let ret = [];\r\n        this.props.parkings.forEach(p => {\r\n            if(p.tvrtkaID == id) ret.push(p);\r\n        });\r\n        return ret;\r\n    };\r\n\r\n    getParkingOfId = (id) => {\r\n        let ret = null;\r\n        this.props.parkings.forEach(p => {\r\n            if(p.id == id) ret = p;\r\n        });\r\n\r\n        return ret;\r\n    };\r\n\r\n    openPopup = (id) => {\r\n      this.state.markerRefs[id].openPopup();\r\n    };\r\n\r\n    updateMarkerRef = (id, ref) => {\r\n      this.setState(state => ({\r\n          markerRefs: {\r\n              ...state.markerRefs,\r\n              [id]: ref\r\n          }\r\n      }));\r\n    };\r\n\r\n    centerToClosestParking = () => {\r\n      const {myPosition, parkings} = this.props;\r\n      if(myPosition == null || parkings == null) return;\r\n      let minDistP, minDistP10;\r\n      let p = null;\r\n      let p10 = null;\r\n\r\n      parkings.forEach(parking => {\r\n          const dist = posDistance(myPosition, parking.lokacija);\r\n          const rule10 = (parking.kapacitet - parking.popunjenost) > 10;\r\n\r\n          if(p == null) {\r\n              p = parking;\r\n              minDistP = dist;\r\n          } else {\r\n              if(dist < minDistP) {\r\n                  p = parking;\r\n                  minDistP = dist;\r\n              }\r\n          }\r\n\r\n          if(p10 == null && rule10) {\r\n              p10 = parking;\r\n              minDistP10 = dist;\r\n          } else if(p10 && rule10) {\r\n              if(dist < minDistP10) {\r\n                  p10 = parking;\r\n                  minDistP10 = dist;\r\n              }\r\n          }\r\n      });\r\n\r\n      const resP = p10 || p;\r\n      this.centerTo(resP.lokacija);\r\n      setTimeout(() => this.openPopup(resP.id), 700);\r\n    };\r\n\r\n    selectedParkingUpdate = (id) => {\r\n        this.setState({selectedParking: this.getParkingOfId(id)});\r\n    };\r\n\r\n    editParking = () => {\r\n        this.setState( state => ({\r\n            isEditingParking: true,\r\n            newParkingLocation: state.selectedParking.lokacija\r\n        }));\r\n        this.props.newParkingToggle();\r\n        setTimeout(() => this.centerTo(this.state.selectedParking.lokacija), 100);\r\n    };\r\n\r\n    isEditingParkingOff = () => {\r\n        setTimeout(this.setState(state => ({isEditingParking: false})), 50);\r\n    };\r\n\r\n    isEditingParkingOn = () => {\r\n        setTimeout(this.setState(state => ({isEditingParking: true})), 50);\r\n    };\r\n\r\n    newParkingLocationUpdate = (pos) => {\r\n      this.setState({newParkingLocation: pos});\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state.watchId = navigator.geolocation.watchPosition(this.geoSucces, this.geoError);\r\n    }\r\n\r\n    geoSucces = (position) => {\r\n        const pos = [position.coords.latitude, position.coords.longitude];\r\n        if(this.props.myPosition == null && this.props.tipKorisnika !== 1) this.centerTo(pos);\r\n        this.props.myPositionUpdate(pos);\r\n    };\r\n\r\n    geoError = () => {\r\n\r\n    };\r\n\r\n\r\n    componentWillUnmount() {\r\n        navigator.geolocation.clearWatch(this.state.watchId)\r\n    }\r\n\r\n    render() {\r\n        const { viewport, maxZoom, maxBounds, minZoom, isEditingParking, newParkingLocation, selectedParking } = this.state;\r\n        const  { myPosition, tipKorisnika, parkings, isAddingNewParking, newParkingToggle, parkingsUpdate, cars } = this.props;\r\n\r\n\r\n        let myPositionMarker = null;\r\n        const centerMeBtn = tipKorisnika !== 1 ? <CenterMeBtn myPosition={myPosition} position={viewport.center} onClick={this.centerClicked}/> : null;\r\n        if(myPosition && tipKorisnika !== 1) {\r\n            myPositionMarker = (\r\n                <Marker position={myPosition} icon={myIcon}>\r\n                    <Popup>Ovdje se vi nalazite.</Popup>\r\n                </Marker>\r\n            );\r\n        }\r\n\r\n\r\n        let parkingsToShow = parkings;\r\n        if(tipKorisnika === 1) {\r\n            parkingsToShow = this.getParkingsOfTvrtkaID(sessionStorage.getItem('id'));\r\n        }\r\n\r\n        const parkingMarkers = parkingsToShow.map(parking => <ParkingMarker key={parking.id} parking={parking} tipKorisnika={tipKorisnika}\r\n                                                                            selectedParkingUpdate={this.selectedParkingUpdate}\r\n                                                                            updateMarkerRef={this.updateMarkerRef} editParking={this.editParking}\r\n                                                                            cars={cars} parkingUpdate={parkingsUpdate}\r\n        />);\r\n\r\n        const parkirajMeBtn = tipKorisnika !== 1 && myPosition != null ? <Button id='parkiraj-me-btn' bsStyle='primary' onClick={this.centerToClosestParking}>Parkiraj<br/>Me</Button> : null;\r\n        const newParkingMarker = <NewParkingMarker newParkingLocation={newParkingLocation} newParkingLocationUpdate={this.newParkingLocationUpdate}/>\r\n\r\n        return(\r\n          <div>\r\n              <Map className='map' viewport={viewport}\r\n                   animate={true} zoomControl={false} onViewportChanged={this.onViewportChanged}\r\n                   maxZoom={maxZoom} maxBounds={maxBounds} minZoom={minZoom}\r\n              >\r\n                  <TileLayer\r\n                      attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                      url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                  />\r\n\r\n                  {myPositionMarker}\r\n                  {isAddingNewParking ? newParkingMarker : parkingMarkers}\r\n                  {parkings.length > 0 ? parkirajMeBtn : null}\r\n                  {centerMeBtn}\r\n              </Map>\r\n              <ParkingEditor isAddingNewParking={isAddingNewParking} newParkingToggle={newParkingToggle} parkingsUpdate={parkingsUpdate}\r\n                isEditingParking={isEditingParking} newParkingLocation={newParkingLocation} selectedParking={selectedParking}\r\n                             isEditingParkingOff={this.isEditingParkingOff}\r\n              />\r\n\r\n          </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport MapCntroler from './components/mapControler'\r\nimport NavBar from './components/navBar'\r\n\r\n\r\nconst position = {\r\n  Zagreb: [45.810875, 15.974711]\r\n};\r\n\r\nfunction getRndInteger(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) ) + min;\r\n}\r\n\r\nvar parkiralista = [\r\n  {\r\n    id: '1',\r\n    OIB: '12',\r\n    tvrtkaID: '11',\r\n    ime: 'Tuškanac',\r\n    lokacija: [45.815458, 15.969460],\r\n    kapacitet: 500,\r\n    popunjenost: getRndInteger(300,500),\r\n    cijena: 12\r\n  },\r\n  {\r\n    id: '2',\r\n    OIB: '12',\r\n    tvrtkaID: '11',\r\n    ime: 'Ilica Parking',\r\n    lokacija: [45.813111, 15.968962],\r\n    kapacitet: 600,\r\n    popunjenost: getRndInteger(400,500),\r\n    cijena: 15\r\n  },\r\n  {\r\n    id: '3',\r\n    OIB: '56',\r\n    tvrtkaID: '17',\r\n    ime: 'Arena Zagreb',\r\n    lokacija: [45.769904, 15.943784],\r\n    kapacitet: 500,\r\n    popunjenost: getRndInteger(490,500),\r\n    cijena: 7\r\n  },\r\n  {\r\n    id: '4',\r\n    OIB: '88',\r\n    tvrtkaID: '56',\r\n    ime: 'Paromlin',\r\n    lokacija: [45.802892, 15.978865],\r\n    kapacitet: 500,\r\n    popunjenost: getRndInteger(490,500),\r\n    cijena: 5\r\n  },\r\n  {\r\n    id: '5',\r\n    OIB: '88',\r\n    tvrtkaID: '56',\r\n    ime: 'Javna garaža Svetice',\r\n    lokacija: [45.814839, 16.013869],\r\n    kapacitet: 150,\r\n    popunjenost: getRndInteger(50,150),\r\n    cijena: 6\r\n  },\r\n];\r\n\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    myPosition: null,\r\n    parkings: [],\r\n    cars: [],\r\n    tipKorisnika: 3,\r\n    isAddingNewParking: false\r\n  };\r\n\r\n  puID = 0;\r\n\r\n  componentWillMount() {\r\n    const tip = sessionStorage.getItem('tip');\r\n    if(tip != null) {\r\n      this.updateTipKorisnika();\r\n      if(tip === '0') this.carsUpdate();\r\n    }\r\n    this.parkingsUpdate();\r\n    this.puID = setInterval(this.parkingsUpdate, 30000);\r\n  }\r\n\r\n  getParkingOfId = (id, parkings) => {\r\n    let ret = null;\r\n    parkings.forEach(p => {\r\n      if(p.id === id) {\r\n        ret = p;\r\n        return;\r\n      }\r\n    });\r\n\r\n    return ret;\r\n  };\r\n\r\n  getParkingNameOfId = (id) => {\r\n    let ret = null;\r\n    this.state.parkings.forEach(p => {\r\n      if(p.id == id) {\r\n        ret = p.ime;\r\n        return;\r\n      }\r\n    });\r\n\r\n    return ret;\r\n  };\r\n\r\n\r\n  myPositionUpdate = (pos) => {this.setState({myPosition: pos})};\r\n\r\n  loginSuccess = () => {\r\n    this.updateTipKorisnika();\r\n\r\n    if(sessionStorage.getItem('tip') === '0') this.carsUpdate();\r\n  };\r\n\r\n  logoutSuccess = () => {\r\n    fetch('/logout')\r\n        .then(() =>this.setState({tipKorisnika: 3}))\r\n        .catch(() => this.setState({tipKorisnika: 3}));\r\n\r\n    sessionStorage.clear()\r\n  };\r\n\r\n  updateTipKorisnika = () => {\r\n    this.setState({tipKorisnika: Number(sessionStorage.getItem('tip'))});\r\n  };\r\n\r\n  carsUpdate = () => {\r\n    fetch('/automobili')\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          this.setState({cars: data});\r\n        })\r\n        .catch(err => this.logoutSuccess());\r\n  };\r\n\r\n  parkingsUpdate = () => {\r\n\r\n    fetch('/parkiralista')\r\n        .then(res => res.json())\r\n        .then(parkings => {\r\n          fetch('/parkiralista/slobodna')\r\n              .then(res => res.json())\r\n              .then(data => {\r\n                let rez = [];\r\n                data.forEach(p => {\r\n                  const id = p.parkiralisteID;\r\n                  let parking = this.getParkingOfId(id, parkings);\r\n                  parking = {\r\n                    ...parking,\r\n                    popunjenost: parking.kapacitet - p.brojSlobodnihMjesta\r\n                  };\r\n                  rez.push(parking);\r\n                });\r\n                this.setState({parkings: rez})\r\n              })\r\n        });\r\n  };\r\n\r\n\r\n  isAddingNewParkingToggle = () => {\r\n    this.setState(state => ({isAddingNewParking: !state.isAddingNewParking}));\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.puID);\r\n  }\r\n\r\n  render() {\r\n    const { myPosition, tipKorisnika, cars, parkings, isAddingNewParking } = this.state;\r\n\r\n    let navBar = <NavBar id=\"navbar\" loginSuccess={this.loginSuccess} logoutSuccess={this.logoutSuccess} tipKorisnika={tipKorisnika}\r\n                           cars={cars} carsUpdate={this.carsUpdate} addCar={this.addCar} newParkingToggle={this.isAddingNewParkingToggle}\r\n                           isAddingNewParking={isAddingNewParking} parkingName={this.getParkingNameOfId} parkingsUpdate={this.parkingsUpdate}\r\n    />;\r\n\r\n    navBar = isAddingNewParking ? null : navBar;\r\n\r\n    return (\r\n      <div>\r\n\r\n        {navBar}\r\n\r\n        <MapCntroler myPosition={myPosition} myPositionUpdate={this.myPositionUpdate} tipKorisnika={tipKorisnika} parkings={parkings} parkingsUpdate={this.parkingsUpdate}\r\n                     isAddingNewParking={isAddingNewParking} newParkingToggle={this.isAddingNewParkingToggle} cars={cars}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n","import React from 'react'\r\nimport ReactDom from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDom.render(<App/>, document.getElementById('root'))"],"sourceRoot":""}