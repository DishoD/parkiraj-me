{"version":3,"sources":["components/centerMeBtn.jsx","components/jednokratnaRezervacijaForm.js","components/ponavljajucaRezervacijaForm.js","components/trajnaRezervacijaForm.js","components/reserveModal.js","components/loadingIcon.jsx","components/navBarLogin.js","components/logoutBtn.js","components/userRegisterForm.js","components/companyRegisterForm.js","components/registrationModal.js","components/carItem.js","components/carsList.js","components/carRegisterForm.js","components/carsModal.jsx","components/reservationItem.js","components/loadingIconModal.js","components/reservationsList.js","components/reservationsModal.js","components/usersList.js","components/usersModal.js","components/navBar.jsx","components/parkingMarker.js","components/parkingEditor.js","components/newParkingMarker.js","components/mapControler.jsx","App.js","index.js"],"names":["eps","CenterMeBtn","pos1","pos2","_this$props","this","props","myPosition","position","onClick","react_default","a","createElement","Fade","in","Math","abs","timeout","id","Image","className","src","circle","responsive","Component","Moment","locale","months","split","monthsShort","monthsParseExact","weekdays","weekdaysShort","weekdaysMin","weekdaysParseExact","longDateFormat","LT","LTS","L","LL","LLL","LLLL","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","relativeTime","future","past","s","m","mm","h","hh","d","dd","M","MM","y","yy","dayOfMonthOrdinalParse","ordinal","number","meridiemParse","isPM","input","charAt","meridiem","hours","minutes","isLower","week","dow","doy","momentLocalizer","JednokratnaRezervacijaForm","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","minDatetime","datetime","lenght","alertMsg","registrationValid","datetimeChange","value","setState","lenghtChange","e","target","register","_this$state","test","data","parkingID","parking","vrijemePocetka","getTime","trajanje","fetch","method","headers","Content-Type","body","JSON","stringify","then","response","status","json","message","setTimeout","onHide","Date","setHours","getHours","_this$state2","back","Modal","Body","lib","min","onChange","type","max","Alert","bsStyle","Footer","Button","PonavljajucaRezervacijaForm","days","startTime","startTimeChange","daysChange","length","st","String","getMinutes","dani","_React$createElement","ToggleButtonGroup","ToggleButton","defineProperty","TrajnaRezervacijaForm","parkingsUpdate","Well","ReserveModal","stage","hide","resetStage","onChoose","name","show","cars","Header","closeButton","Title","jednokratnaRezervacijaForm_JednokratnaRezervacijaForm","ponavljajucaRezervacijaForm_PonavljajucaRezervacijaForm","trajnaRezervacijaForm_TrajnaRezervacijaForm","keyboard","LoadingIcon","alt","NavBarLogin","email","password","loginLoading","invalidLogin","logIn","event","preventDefault","FormData","append","res","sessionStorage","setItem","tip","ime","username","loginSuccess","updateLogin","_this$setState","onSubmit","FormGroup","validationState","FormControl","placeholder","autoComplete","disabled","HelpBlock","loadingIcon_LoadingIcon","LogoutBtn","isLoggingOut","sendLogoutReq","logoutSuccess","isAddingNewParking","Navbar","Form","pullRight","UserRegisterForm","oib","prezime","creditCardNumber","voib","vime","vprezime","vemail","vpassword","vcreditCardNumber","emailChange","toLowerCase","imeChange","prezimeChange","passwordChange","oibChange","creditCardNumberChange","ccn","passwordHash","brojKreditneKartice","_this$state3","CompanyRegisterForm","address","vaddress","addressChange","showLoadinIcon","adresaSjedista","RegistrationModal","companyRegisterForm_CompanyRegisterForm","userRegisterForm_UserRegisterForm","CarItem","carRemoved","car","registracijskaOznaka","carsUpdate","bsSize","CarsList","ListGroup","componentClass","map","components_carItem","key","CarRegisterForm","registracija","vregistracija","registracijaChange","toUpperCase","CarsModal","downStage","upStage","addCar","list","carsList","carRegisterForm_CarRegisterForm","ReservationItem","reservationRemoved","reservation","reservationsUpdate","parkiraliste","LoadingIconModal","ReservationsList","reservations","loading","rez","forEach","r","trajna","parkingName","parkiralisteID","push","_this2","loadingIconModal_LoadingIconModal","Fragment","components_reservationItem","ReservationsModal","reservationsList","TvrtkaRow","company","update","KorisnikRow","user","UsersList","users","companies","updateUsers","head","Table","striped","bordered","hover","UsersModal","updateTvrtke","updateKorisnici","usersList_UsersList","NavBar","registerShow","carsShow","reservationsShow","usersShow","registerShowOn","registerShowOff","carsShowOn","carsShowOff","reservationsShowOn","reservationsShowOff","usersShowOn","usersShowOff","tipKorisnika","newParkingToggle","Collapse","pullLeft","navBarLogin_NavBarLogin","Text","getItem","logoutBtn_LogoutBtn","inverse","fixedTop","Brand","Toggle","registrationModal_RegistrationModal","usersModal_UsersModal","reservationsModal_ReservationsModal","carsModal_CarsModal","parkingIcon","icon","iconUrl","iconSize","iconAnchor","popupAnchor","ParkingMarker","reserveShow","reserveShowOn","reserveShowOff","spu","selectedParkingUpdate","ref","React","createRef","deleteParking","parkingUpdate","updateMarkerRef","current","leafletElement","editParking","btn","Marker","lokacija","Popup","onOpen","onClose","closePopup","autoPan","popunjenost","kapacitet","cijena","reserveModal_ReserveModal","ParkingEditor","vkapacitet","vcijena","kapacitetChange","cijenaChange","Number","newParkingLocation","isEditingParking","selectedParking","isEditingParkingOff","prevProps","prevState","snapshot","react_dock_lib_default","isVisible","fluid","defaultSize","dimMode","NewParkingMarker","marker","pos","getLatLng","lat","lng","newParkingLocationUpdate","draggable","onDragend","myIcon","positions","Zagreb","posDistance","lat1","lon1","lat2","lon2","unit","radlat1","PI","radlat2","theta","radtheta","dist","sin","cos","acos","latLngDistance","MapControler","viewport","center","zoom","maxZoom","minZoom","maxBounds","latLngBounds","latLng","watchId","markerRefs","onViewportChanged","centerClicked","centerMe","vp","centerTo","getParkingsOfTvrtkaID","ret","parkings","p","tvrtkaID","getParkingOfId","openPopup","objectSpread","centerToClosestParking","minDistP","minDistP10","p10","rule10","resP","isEditingParkingOn","geoSucces","coords","latitude","longitude","myPositionUpdate","geoError","navigator","geolocation","watchPosition","clearWatch","_this$props2","myPositionMarker","centerMeBtn","centerMeBtn_CenterMeBtn","parkingsToShow","parkingMarkers","parkingMarker_ParkingMarker","parkirajMeBtn","newParkingMarker","newParkingMarker_NewParkingMarker","Map","animate","zoomControl","TileLayer","attribution","url","parkingEditor_ParkingEditor","App","puID","getParkingNameOfId","updateTipKorisnika","catch","clear","err","brojSlobodnihMjesta","isAddingNewParkingToggle","onFocus","console","log","alert","setInterval","window","addEventListener","clearInterval","removeEventListener","navBar","navBar_NavBar","mapControler_MapControler","ReactDom","render","App_App","document","getElementById"],"mappings":"ghBAIMA,UAAM,UAMSC,mLACR,IALWC,EAAMC,EAKjBC,EACoCC,KAAKC,MAAvCC,EADFH,EACEG,WAAYC,EADdJ,EACcI,SAAUC,EADxBL,EACwBK,QAE7B,OACIC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,KAAIP,IATEL,EAS2BK,EATrBJ,EASiCK,IARpDO,KAAKC,IAAId,EAAK,GAAGC,EAAK,IAAMH,GAAOe,KAAKC,IAAId,EAAK,GAAGC,EAAK,IAAMH,IAQQiB,QAAS,KAC3EP,EAAAC,EAAAC,cAAA,OAAKM,GAAG,YAAYT,QAASA,GACzBC,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAOC,UAAU,aAAaC,IAAI,6BAA6BC,QAAM,EAACC,YAAY,aAP7DC,8GCHzCC,IAAOC,OAAO,KAAM,CAChBC,OAAS,+GAAgGC,MAAM,KAC/GC,YAAc,oEAA+DD,MAAM,KACnFE,kBAAmB,EACnBC,SAAW,iEAA4DH,MAAM,KAC7EI,cAAgB,mCAA8BJ,MAAM,KACpDK,YAAc,qBAAgBL,MAAM,KACpCM,oBAAqB,EACrBC,eAAiB,CACbC,GAAK,QACLC,IAAM,WACNC,EAAI,aACJC,GAAK,cACLC,IAAM,sBACNC,KAAO,0BAEXC,SAAW,CACPC,QAAU,aACVC,QAAU,aACVC,SAAW,4BACXC,QAAU,kBACVC,SAAW,yBACXC,SAAW,KAEfC,aAAe,CACXC,OAAS,UACTC,KAAO,YACPC,EAAI,oBACJC,EAAI,aACJC,GAAK,aACLC,EAAI,YACJC,GAAK,YACLC,EAAI,UACJC,GAAK,WACLC,EAAI,UACJC,GAAK,UACLC,EAAI,QACJC,GAAK,UAETC,uBAAyB,gBACzBC,QAAU,SAAUC,GAChB,OAAOA,GAAqB,IAAXA,EAAe,KAAO,MAE3CC,cAAgB,QAChBC,KAAO,SAAUC,GACb,MAA2B,MAApBA,EAAMC,OAAO,IAOxBC,SAAW,SAAUC,EAAOC,EAASC,GACjC,OAAOF,EAAQ,GAAK,KAAO,MAE/BG,KAAO,CACHC,IAAM,EACNC,IAAM,KAGdC,UAGqBC,cAWjB,SAAAA,EAAYxE,GAAO,IAAAyE,EAAAC,OAAAC,EAAA,EAAAD,CAAA3E,KAAAyE,IACfC,EAAAC,OAAAE,EAAA,EAAAF,CAAA3E,KAAA2E,OAAAG,EAAA,EAAAH,CAAAF,GAAAM,KAAA/E,KAAMC,KAXV+E,MAAQ,CACJC,YAAa,KACbC,SAAU,KACVC,OAAQ,EACRC,SAAU,KACVC,mBAAmB,GAKJX,EAUnBY,eAAiB,SAAAC,GAAK,OAAIb,EAAKc,SAAS,CAACN,SAAUK,EAAOH,SAAU,QAVjDV,EAWnBe,aAAe,SAAAC,GAAC,OAAIhB,EAAKc,SAAS,CAACL,OAAQO,EAAEC,OAAOJ,MAAOH,SAAU,QAXlDV,EAcnBkB,SAAW,WAAM,IAAAC,EACcnB,EAAKM,MAAzBE,EADMW,EACNX,SAAUC,EADJU,EACIV,OACbW,EAAmB,MAAZZ,EACPE,EAAWU,EAAO,KAAO,uCAE7B,GAAGA,EAAH,CAGI,IAAMC,EAAO,CACXC,UAAWtB,EAAKzE,MAAMgG,QAAQpF,GAC9BqF,eAAgBhB,EAASiB,UACzBC,SAAUjB,GAGZkB,MAAM,2BAA4B,CAC9BC,OAAQ,OACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUZ,KAEpBa,KAAK,SAAAC,GACoB,KAAnBA,EAASC,OACRD,EAASE,OAAOH,KAAK,SAAAb,GACjBrB,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAUW,EAAKiB,aAIvBtC,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAU,+BAEd6B,WAAW,kBAAMvC,EAAKzE,MAAMiH,UAAU,cAQtDxC,EAAKc,SAAS,CACVH,kBAAmBS,EACnBV,SAAUA,KAxDd,IAAIhC,EAAI,IAAI+D,KAFG,OAGf/D,EAAEgE,SAAShE,EAAEiE,WAAa,GAC1B3C,EAAKM,MAAME,SAAW9B,EACtBsB,EAAKM,MAAMC,YAAc7B,EALVsB,wEA+DV,IAAA4C,EACiEtH,KAAKgF,MAApEE,EADFoC,EACEpC,SAAUC,EADZmC,EACYnC,OAAQF,EADpBqC,EACoBrC,YAAaG,EADjCkC,EACiClC,SAAUC,EAD3CiC,EAC2CjC,kBACzCkC,EAAQvH,KAAKC,MAAbsH,KAEP,OACIlH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACIpH,EAAAC,EAAAC,cAAA,mDACAF,EAAAC,EAAAC,cAACmH,EAAA,eAAD,CAAgBC,IAAK1C,EAAaM,MAAOL,EAAU0C,SAAU5H,KAAKsF,iBAClEjF,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,WAAH,sBAA2BF,EAAAC,EAAAC,cAAA,2BAA3B,iBACAF,EAAAC,EAAAC,cAAA,SAAOsH,KAAK,SAASF,IAAK,EAAGG,IAAK,GAAIvC,MAAOJ,EAAQyC,SAAU5H,KAAKyF,eACpEpF,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,YAEC6E,EACI/E,EAAAC,EAAAC,cAACwH,EAAA,EAAD,CAAOC,QAAS3C,EAAoB,UAAY,UAC3CD,GAEL,MAGZ/E,EAAAC,EAAAC,cAACiH,EAAA,EAAMS,OAAP,KACI5H,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASmH,GAAnC,UAAyD,KACzDlH,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASJ,KAAK4F,UAAxC,uBAhGoCzE,+BC/DnCgH,cAUjB,SAAAA,EAAYlI,GAAO,IAAAyE,EAAAC,OAAAC,EAAA,EAAAD,CAAA3E,KAAAmI,IACfzD,EAAAC,OAAAE,EAAA,EAAAF,CAAA3E,KAAA2E,OAAAG,EAAA,EAAAH,CAAAwD,GAAApD,KAAA/E,KAAMC,KAVV+E,MAAQ,CACJoD,KAAM,GACNC,UAAW,IAAIlB,KACfhC,OAAQ,EACRC,SAAU,KACVC,mBAAmB,GAIJX,EAQnB4D,gBAAkB,SAAA/C,GAAK,OAAIb,EAAKc,SAAS,CAAC6C,UAAW9C,EAAOH,SAAU,QARnDV,EAUnB6D,WAAa,SAAC7C,GACVhB,EAAKc,SAAS,CAAE4C,KAAM1C,EAAGN,SAAU,QAXpBV,EAcnBe,aAAe,SAAAC,GAAC,OAAIhB,EAAKc,SAAS,CAACL,OAAQO,EAAEC,OAAOJ,MAAOH,SAAU,QAdlDV,EAiBnBkB,SAAW,WAAM,IAAAC,EACqBnB,EAAKM,MAAhCoD,EADMvC,EACNuC,KAAMC,EADAxC,EACAwC,UAAWlD,EADXU,EACWV,OACpBW,EAAoB,MAAbuC,EAGX,GAAgB,MAAbA,EAMI,GAAmB,IAAhBD,EAAKI,QAQf,GAAG1C,EAAM,CACL,IAAM2C,EAAKC,OAAOL,EAAUhB,YAAc,IAAMgB,EAAUM,aAEpD5C,EAAO,CACTC,UAAWtB,EAAKzE,MAAMgG,QAAQpF,GAC9B+H,KAAMR,EACNlC,eAAgBuC,EAChBrC,SAAUjB,GAGdkB,MAAM,4BAA6B,CAC/BC,OAAQ,OACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUZ,KAEpBa,KAAK,SAAAC,GACoB,KAAnBA,EAASC,OACRD,EAASE,OAAOH,KAAK,SAAAb,GACjBrB,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAUW,EAAKiB,aAIvBtC,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAU,+BAEd6B,WAAW,kBAAMvC,EAAKzE,MAAMiH,UAAU,eArClDxC,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAU,kDARdV,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAU,0CAvBlB,IAAIhC,EAAI,IAAI+D,KAFG,OAGf/D,EAAEgE,SAAShE,EAAEiE,WAAa,GAC1B3C,EAAKM,MAAME,SAAW9B,EACtBsB,EAAKM,MAAMC,YAAc7B,EALVsB,wEAyEV,IAAAmE,EAAAvB,EAC2DtH,KAAKgF,MAA9DoD,EADFd,EACEc,KAAMC,EADRf,EACQe,UAAWlD,EADnBmC,EACmBnC,OAAQC,EAD3BkC,EAC2BlC,SAAUC,EADrCiC,EACqCjC,kBACnCkC,EAAQvH,KAAKC,MAAbsH,KAEP,OACIlH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACIpH,EAAAC,EAAAC,cAAA,kEACAF,EAAAC,EAAAC,cAACuI,EAAA,EAAD,CAAmBjB,KAAK,WAAWtC,MAAO6C,EAAMR,SAAU5H,KAAKuI,YAC3DlI,EAAAC,EAAAC,cAACwI,EAAA,EAAD,CAAcf,QAAQ,UAAUzC,MAAO,GAAvC,OACAlF,EAAAC,EAAAC,cAACwI,EAAA,EAAD,CAAcf,QAAQ,UAAUzC,MAAO,GAAvC,OACAlF,EAAAC,EAAAC,cAACwI,EAAA,EAAD,CAAcf,QAAQ,UAAUzC,MAAO,GAAvC,OACAlF,EAAAC,EAAAC,cAACwI,EAAA,EAAD,CAAcf,QAAQ,UAAUzC,MAAO,GAAvC,YACAlF,EAAAC,EAAAC,cAACwI,EAAA,EAAD,CAAcf,QAAQ,UAAUzC,MAAO,GAAvC,OACAlF,EAAAC,EAAAC,cAACwI,EAAA,EAAD,CAAcf,QAAQ,UAAUzC,MAAO,GAAvC,OACAlF,EAAAC,EAAAC,cAACwI,EAAA,EAAD,CAAcf,QAAQ,UAAUzC,MAAO,GAAvC,QAEJlF,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,WAAH,qDACAF,EAAAC,EAAAC,cAACmH,EAAA,gBAADmB,EAAA,CAAgBtD,MAAO8C,GAAvB1D,OAAAqE,EAAA,EAAArE,CAAAkE,EAAA,QAAyCR,GAAzC1D,OAAAqE,EAAA,EAAArE,CAAAkE,EAAA,WAA8D7I,KAAKsI,iBAAnE3D,OAAAqE,EAAA,EAAArE,CAAAkE,EAAA,QAA0F,GAA1FA,IACAxI,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,WAAH,sBAA2BF,EAAAC,EAAAC,cAAA,2BAA3B,iBACAF,EAAAC,EAAAC,cAAA,SAAOsH,KAAK,SAASF,IAAK,EAAGG,IAAK,GAAIvC,MAAOJ,EAAQyC,SAAU5H,KAAKyF,eACpEpF,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,YAEC6E,EACI/E,EAAAC,EAAAC,cAACwH,EAAA,EAAD,CAAOC,QAAS3C,EAAoB,UAAY,UAC3CD,GAEL,MAGZ/E,EAAAC,EAAAC,cAACiH,EAAA,EAAMS,OAAP,KACI5H,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASmH,GAAnC,UAAyD,KACzDlH,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASJ,KAAK4F,UAAxC,uBAnHqCzE,aCDpC8H,6MACjBjE,MAAQ,CACJI,SAAU,KACVC,mBAAmB,KAGvBO,SAAW,WACP,IAAMG,EAAO,CACTC,UAAWtB,EAAKzE,MAAMgG,QAAQpF,IAGlCwF,MAAM,sBAAuB,CACzBC,OAAQ,OACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUZ,KAEpBa,KAAK,SAAAC,GACoB,KAAnBA,EAASC,OACRD,EAASE,OAAOH,KAAK,SAAAb,GACjBrB,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAUW,EAAKiB,aAIvBtC,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAU,+BAEdV,EAAKzE,MAAMiJ,iBACXjC,WAAW,kBAAMvC,EAAKzE,MAAMiH,UAAU,kFAM7C,IACEK,EAAQvH,KAAKC,MAAbsH,KADF1B,EAEiC7F,KAAKgF,MAApCI,EAFFS,EAEET,SAAUC,EAFZQ,EAEYR,kBAEjB,OACIhF,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACIpH,EAAAC,EAAAC,cAAC4I,EAAA,EAAD,uEAC8D9I,EAAAC,EAAAC,cAAA,uBAD9D,IACgFF,EAAAC,EAAAC,cAAA,WADhF,8EAEgEF,EAAAC,EAAAC,cAAA,WAFhE,kDAGmDF,EAAAC,EAAAC,cAAA,+BAHnD,uCAMI6E,EACI/E,EAAAC,EAAAC,cAACwH,EAAA,EAAD,CAAOC,QAAS3C,EAAoB,UAAY,UAC3CD,GAEL,MAGZ/E,EAAAC,EAAAC,cAACiH,EAAA,EAAMS,OAAP,KACI5H,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASmH,GAAnC,UAAyD,KACzDlH,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASJ,KAAK4F,UAAxC,uBA5D+BzE,aCC9BiI,6MACjBpE,MAAQ,CACJqE,MAAO,QAGXC,KAAO,WACH5E,EAAKzE,MAAMiH,SACXD,WAAWvC,EAAK6E,WAAY,QAGhCC,SAAW,SAAC9D,GACRhB,EAAKc,SAAS,CAAC6D,MAAO3D,EAAEC,OAAO8D,UAGnCF,WAAa,WACT7E,EAAKc,SAAS,CAAC6D,MAAO,gFAGjB,IAAAtJ,EACmDC,KAAKC,MAArDyJ,EADH3J,EACG2J,KAAMxC,EADTnH,EACSmH,OAAQjB,EADjBlG,EACiBkG,QAAS0D,EAD1B5J,EAC0B4J,KAAMT,EADhCnJ,EACgCmJ,eAC7BG,EAAUrJ,KAAKgF,MAAfqE,MAEJ5C,EAAO,KAwDX,OAvDY,MAAT4C,EACC5C,EACIpG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQA,GAC9B7G,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,sCAEJzJ,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACIpH,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,WACXV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,WACXV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,cACXV,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQuB,KAAK,cAAc1I,UAAU,UAAWiH,QAAQ,OAAO5H,QAASJ,KAAKwJ,UAA7E,eACAnJ,EAAAC,EAAAC,cAAA,uCAA8BF,EAAAC,EAAAC,cAAA,mDAA9B,wBAA2FF,EAAAC,EAAAC,cAAA,mCAA3F,MAEJF,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,cACXV,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQuB,KAAK,eAAe1I,UAAU,UAAUiH,QAAQ,OAAO5H,QAASJ,KAAKwJ,UAA7E,qBACAnJ,EAAAC,EAAAC,cAAA,gCAAuBF,EAAAC,EAAAC,cAAA,4BAAvB,mBAAwDF,EAAAC,EAAAC,cAAA,wBAAxD,MAEJF,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,cACXV,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQuB,KAAK,SAAS1I,UAAU,UAAUiH,QAAQ,OAAO5H,QAASJ,KAAKwJ,UAAvE,UACAnJ,EAAAC,EAAAC,cAAA,2BAAkBF,EAAAC,EAAAC,cAAA,qCAAlB,kCAOT,eAAT8I,EACN5C,EACIpG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQA,GAC9B7G,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,iCAEJzJ,EAAAC,EAAAC,cAACwJ,EAAD,CAA4BxC,KAAMvH,KAAKuJ,WAAYrC,OAAQlH,KAAKsJ,KAAMrD,QAASA,KAGxE,gBAAToD,EACN5C,EACIpG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQA,GAC9B7G,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,uCAEJzJ,EAAAC,EAAAC,cAACyJ,EAAD,CAA6BzC,KAAMvH,KAAKuJ,WAAYrC,OAAQlH,KAAKsJ,KAAMrD,QAASA,KAGzE,UAAToD,IACN5C,EACIpG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQA,GAC9B7G,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,4BAEJzJ,EAAAC,EAAAC,cAAC0J,EAAD,CAAuB1C,KAAMvH,KAAKuJ,WAAYrC,OAAQlH,KAAKsJ,KAAMrD,QAASA,EAASiD,eAAgBA,MAM3G7I,EAAAC,EAAAC,cAACiH,EAAA,EAAD,CAAOzG,UAAU,qBAAqB2I,KAAMA,EAAMxC,OAAQlH,KAAKsJ,KAAMY,UAAU,GAC3D,GAAfP,EAAKnB,OACF/B,EACApG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQA,GAC9B7G,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,+CAEJzJ,EAAAC,EAAAC,cAAC4I,EAAA,EAAD,KACI9I,EAAAC,EAAAC,cAAA,iDACyCF,EAAAC,EAAAC,cAAA,WADzC,oBAEqBF,EAAAC,EAAAC,cAAA,uBAFrB,gDAvFcY,0DCHrBgJ,2LACR,IACGT,EAAS1J,KAAKC,MAAdyJ,KAER,OACIrJ,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,GAAIiJ,GACNrJ,EAAAC,EAAAC,cAAA,OAAK6J,IAAI,mBAAcpJ,IAAI,gCANFG,cCCpBkJ,6MACjBrF,MAAQ,CACJsF,MAAO,GACPC,SAAU,GACVC,cAAc,EACdC,cAAc,KAGlBC,MAAQ,SAACC,GACLA,EAAMC,iBACNlG,EAAKc,SAAS,CAACgF,cAAc,IAFd,IAAA3E,EAGWnB,EAAKM,MAAxBsF,EAHQzE,EAGRyE,MAAOC,EAHC1E,EAGD0E,SACV9D,EAAO,IAAIoE,SACfpE,EAAKqE,OAAO,WAAYR,GACxB7D,EAAKqE,OAAO,WAAYP,GAKxBlE,MAAM,SAJU,CACZC,OAAQ,OACRG,KAAMA,IAGLG,KAAK,SAAAmE,GACF,GAAiB,KAAdA,EAAIjE,OAGH,OAFApC,EAAKc,SAAS,CAACgF,cAAc,SAC7BvD,WAAW,kBAAMvC,EAAKc,SAAS,CAACiF,cAAc,KAAQ,IAGtDM,EAAIhE,OAAOH,KAAK,SAAAb,GACZiF,eAAeC,QAAQ,MAAOlF,EAAKmF,KACnCF,eAAeC,QAAQ,OAAQlF,EAAKoF,KACpCH,eAAeC,QAAQ,KAAMlF,EAAKlF,IAClCmK,eAAeC,QAAQ,WAAYlF,EAAKqF,UACxC1G,EAAKc,SAAS,CAACgF,cAAc,IAC7BvD,WAAWvC,EAAKzE,MAAMoL,aAAc,WAMxDC,YAAc,SAAC5F,GAAM,IAAA6F,EACjB7G,EAAKc,UAAL+F,EAAA,GAAA5G,OAAAqE,EAAA,EAAArE,CAAA4G,EACK7F,EAAEC,OAAO8D,KAAO/D,EAAEC,OAAOJ,OAD9BZ,OAAAqE,EAAA,EAAArE,CAAA4G,EAAA,gBAEkB,GAFlBA,6EAMK,IAAAjE,EACiDtH,KAAKgF,MAApDsF,EADFhD,EACEgD,MAAOC,EADTjD,EACSiD,SAAUC,EADnBlD,EACmBkD,aAAcC,EADjCnD,EACiCmD,aAEtC,OAEIpK,EAAAC,EAAAC,cAAA,QAAMiL,SAAUxL,KAAK0K,OACbrK,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiBjB,EAAe,QAAU,MACjDpK,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,QAAQlE,MAAO+E,EAAOzC,KAAK,QAAQ+D,YAAY,SACpDhE,SAAU5H,KAAKsL,YAAaO,aAAa,UAF1D,IAEqE,IACjExL,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,WAAWlE,MAAOgF,EAAU1C,KAAK,WAAW+D,YAAY,UAC7DhE,SAAU5H,KAAKsL,YAAaO,aAAa,qBACrD,IACDxL,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAUH,KAAK,SAASzH,QAASJ,KAAK0K,MAC9CoB,SAAUtB,GACbA,EAAe,cAAgB,cARxC,IASe,KACXnK,EAAAC,EAAAC,cAACwL,EAAA,EAAD,CAAWhL,UAAU,UAAU0J,EAAe,sBAAwB,MACtEpK,EAAAC,EAAAC,cAACyL,EAAD,CAAatC,KAAMc,aA9DFrJ,aCDpB8K,6MACjBjH,MAAQ,CACJkH,cAAc,KAGlBC,cAAgB,WACZzH,EAAKc,SAAS,CAAC0G,cAAc,IAG7BxH,EAAKzE,MAAMmM,gBACXnF,WAAW,WAAOvC,EAAKc,SAAS,CAAC0G,cAAc,KAAU,8EAGpD,IACGA,EAAiBlM,KAAKgF,MAAtBkH,aACAG,EAAuBrM,KAAKC,MAA5BoM,mBAER,OACIhM,EAAAC,EAAAC,cAAC+L,EAAA,EAAOC,KAAR,CAAaC,WAAS,GAClBnM,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,SAAS8D,SAAUO,EAAoBjM,QAASJ,KAAKmM,eAArE,aACC,MACD9L,EAAAC,EAAAC,cAACyL,EAAD,CAAatC,KAAMwC,YArBI/K,sBCOlBsL,6MACjBzH,MAAQ,CACJ0H,IAAK,GACLvB,IAAK,GACLwB,QAAS,GACTrC,MAAO,GACPC,SAAU,GACVqC,iBAAkB,GAClBC,KAAM,KACNC,KAAM,KACNC,SAAU,KACVC,OAAQ,KACRC,UAAW,KACXC,kBAAmB,KACnB9H,SAAU,KACVC,mBAAmB,KAGvB8H,YAAc,SAACzH,GACX,IAAM4E,EAAQ5E,EAAEC,OAAOJ,MAEnBO,EADK,0JACKA,KAAKwE,EAAM8C,eACzB1I,EAAKc,SAAS,CACV8E,MAAOA,EACP0C,OAAQlH,EACRV,SAAU,UAIlBiI,UAAY,SAAC3H,GACT,IAAMyF,EAAMzF,EAAEC,OAAOJ,MACjBO,EAAOqF,EAAI3C,OAAS,EACxB9D,EAAKc,SAAS,CACV2F,IAAKA,EACL2B,KAAMhH,EACNV,SAAU,UAIlBkI,cAAgB,SAAC5H,GACb,IAAMiH,EAAUjH,EAAEC,OAAOJ,MACrBO,EAAO6G,EAAQnE,OAAS,EAC5B9D,EAAKc,SAAS,CACVmH,QAASA,EACTI,SAAUjH,EACVV,SAAU,UAIlBmI,eAAiB,SAAC7H,GACd,IAAM6E,EAAW7E,EAAEC,OAAOJ,MACtBO,EAAOyE,EAAS/B,OAAS,EAC7B9D,EAAKc,SAAS,CACV+E,SAAUA,EACV0C,UAAWnH,EACXV,SAAU,UAIlBoI,UAAY,SAAC9H,GACT,IAAMgH,EAAMhH,EAAEC,OAAOJ,MACjBO,EAAqB,IAAd4G,EAAIlE,QAAgB,QAAQ1C,KAAK4G,GAC5ChI,EAAKc,SAAS,CACVkH,IAAKA,EACLG,KAAM/G,EACNV,SAAU,UAIlBqI,uBAAyB,SAAC/H,GACtB,IAAMgI,EAAMhI,EAAEC,OAAOJ,MACjBO,EAAO4H,EAAIlF,QAAU,IAAMkF,EAAIlF,QAAU,IAAM,QAAQ1C,KAAK4H,GAChEhJ,EAAKc,SAAS,CACVoH,iBAAkBc,EAClBR,kBAAmBpH,EACnBV,SAAU,UAIlBsG,gBAAkB,SAAC5F,GACf,OAAW,MAARA,EAAqB,KACjBA,EAAO,UAAY,WAG9BF,SAAW,WAAM,IAAAC,EACyDnB,EAAKM,MAApE6H,EADMhH,EACNgH,KAAMC,EADAjH,EACAiH,KAAMC,EADNlH,EACMkH,SAAUC,EADhBnH,EACgBmH,OAAQC,EADxBpH,EACwBoH,UAAWC,EADnCrH,EACmCqH,kBADnC5F,EAEkD5C,EAAKM,MAA7D0H,EAFMpF,EAENoF,IAAKvB,EAFC7D,EAED6D,IAAKwB,EAFJrF,EAEIqF,QAASC,EAFbtF,EAEasF,iBAAkBtC,EAF/BhD,EAE+BgD,MAAOC,EAFtCjD,EAEsCiD,SAC/CzE,EAAQ+G,GAAQC,GAAQC,GAAYC,GAAUC,GAAaC,EAC3D9H,EAAWU,EAAO,KAAO,iBAE7B,GAAGA,EAAH,CAEI,IAAMC,EAAO,CACT2G,IAAKA,EACLvB,IAAKA,EACLwB,QAASA,EACTrC,MAAOA,EACPqD,aAAcpD,EACdqD,oBAAqBhB,GAGzBvG,MAAM,aAAc,CAChBC,OAAQ,OACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUZ,KAEpBa,KAAK,SAAAC,GACoB,KAAnBA,EAASC,OACRD,EAASE,OAAOH,KAAK,SAAAb,GACjBrB,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAUW,EAAKiB,aAIvBtC,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAU,+DAEd6B,WAAW,kBAAMvC,EAAKzE,MAAMiH,UAAU,cAMtDxC,EAAKc,SAAS,CACVH,kBAAmBS,EACnBV,SAAUA,6EAIT,IAAAyI,EACoJ7N,KAAKgF,MAAvJ0H,EADFmB,EACEnB,IAAKvB,EADP0C,EACO1C,IAAKwB,EADZkB,EACYlB,QAASrC,EADrBuD,EACqBvD,MAAOC,EAD5BsD,EAC4BtD,SAAUqC,EADtCiB,EACsCjB,iBAAkBC,EADxDgB,EACwDhB,KAAMC,EAD9De,EAC8Df,KAAMC,EADpEc,EACoEd,SAAUC,EAD9Ea,EAC8Eb,OAAQC,EADtFY,EACsFZ,UAAWC,EADjGW,EACiGX,kBAAmB9H,EADpHyI,EACoHzI,SAAUC,EAD9HwI,EAC8HxI,kBAC5HkC,EAAQvH,KAAKC,MAAbsH,KAEP,OACIlH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACIpH,EAAAC,EAAAC,cAAA,uCACAF,EAAAC,EAAAC,cAACgM,EAAA,EAAD,KACIlM,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgBsB,IAC7C3M,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,oBACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,QAAQ5B,KAAK,QAAQtC,MAAO+E,EAAO1C,SAAU5H,KAAKmN,YAAatB,aAAa,UAC9FxL,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAAuB,MAAViB,IAAoBA,EAAS,GAAK,kBAEnD3M,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgBuB,IAC7C5M,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,qBACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,WAAW5B,KAAK,WAAWtC,MAAOgF,EAAU3C,SAAU5H,KAAKuN,eAAgB1B,aAAa,iBAC1GxL,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAA0B,MAAbkB,IAAuBA,EAAY,GAAK,uBAEzD5M,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgBoB,IAC7CzM,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,iBACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,MAAM5B,KAAK,OAAOtC,MAAO4F,EAAKvD,SAAU5H,KAAKqN,YAC/DhN,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAAqB,MAARe,IAAkBA,EAAO,GAAK,uBAE/CzM,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgBqB,IAC7C1M,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,qBACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,UAAU5B,KAAK,OAAOtC,MAAOoH,EAAS/E,SAAU5H,KAAKsN,gBACvEjN,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAAyB,MAAZgB,IAAsBA,EAAW,GAAK,2BAEvD1M,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgBmB,IAC7CxM,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,iBACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,MAAM5B,KAAK,OAAOtC,MAAOmH,EAAK9E,SAAU5H,KAAKwN,YAC/DnN,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAAqB,MAARc,IAAkBA,EAAO,GAAK,oBAE/CxM,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgBwB,IAC7C7M,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,mCACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,mBAAmB5B,KAAK,OAAOtC,MAAOqH,EAAkBhF,SAAU5H,KAAKyN,uBAAwB5B,aAAa,cAC9HxL,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAAkC,MAArBmB,IAA+BA,EAAoB,GAAK,sCAGrE9H,EACI/E,EAAAC,EAAAC,cAACwH,EAAA,EAAD,CAAOC,QAAS3C,EAAoB,UAAY,UAC3CD,GAEL,OAIhB/E,EAAAC,EAAAC,cAACiH,EAAA,EAAMS,OAAP,KACI5H,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASmH,GAAnC,UAAyD,KACzDlH,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASJ,KAAK4F,UAAxC,2BAvL0BzE,aCAzB2M,6MACjB9I,MAAQ,CACJ0H,IAAK,GACLvB,IAAK,GACLb,MAAO,GACPC,SAAU,GACVwD,QAAS,GACTlB,KAAM,KACNC,KAAM,KACNE,OAAQ,KACRC,UAAW,KACXe,SAAU,KACV5I,SAAU,KACVC,mBAAmB,KAGvB8H,YAAc,SAACzH,GACX,IAAM4E,EAAQ5E,EAAEC,OAAOJ,MAEnBO,EADK,0JACKA,KAAKwE,EAAM8C,eACzB1I,EAAKc,SAAS,CACV8E,MAAOA,EACP0C,OAAQlH,EACRV,SAAU,UAIlBiI,UAAY,SAAC3H,GACT,IAAMyF,EAAMzF,EAAEC,OAAOJ,MACjBO,EAAOqF,EAAI3C,OAAS,EACxB9D,EAAKc,SAAS,CACV2F,IAAKA,EACL2B,KAAMhH,EACNV,SAAU,UAIlBmI,eAAiB,SAAC7H,GACd,IAAM6E,EAAW7E,EAAEC,OAAOJ,MACtBO,EAAOyE,EAAS/B,OAAS,EAC7B9D,EAAKc,SAAS,CACV+E,SAAUA,EACV0C,UAAWnH,EACXV,SAAU,UAIlBoI,UAAY,SAAC9H,GACT,IAAMgH,EAAMhH,EAAEC,OAAOJ,MACjBO,EAAsB,KAAf4G,EAAIlE,QAAiB,QAAQ1C,KAAK4G,GAC7ChI,EAAKc,SAAS,CACVkH,IAAKA,EACLG,KAAM/G,EACNV,SAAU,UAIlB6I,cAAgB,SAACvI,GACb,IAAMqI,EAAUrI,EAAEC,OAAOJ,MACrBO,EAAOiI,EAAQvF,OAAS,EAC5B9D,EAAKc,SAAS,CACVuI,QAASA,EACTC,SAAUlI,EACVV,SAAU,UAIlBsG,gBAAkB,SAAC5F,GACf,OAAW,MAARA,EAAqB,KACjBA,EAAO,UAAY,WAG9BF,SAAW,WACPlB,EAAKc,SAAS,CAAC0I,gBAAgB,IADlB,IAAArI,EAEsCnB,EAAKM,MAAjD6H,EAFMhH,EAENgH,KAAMC,EAFAjH,EAEAiH,KAAME,EAFNnH,EAEMmH,OAAQC,EAFdpH,EAEcoH,UAAWe,EAFzBnI,EAEyBmI,SAFzB1G,EAGiC5C,EAAKM,MAA5C0H,EAHMpF,EAGNoF,IAAKvB,EAHC7D,EAGD6D,IAAKb,EAHJhD,EAGIgD,MAAOC,EAHXjD,EAGWiD,SAAUwD,EAHrBzG,EAGqByG,QAC9BjI,EAAQ+G,GAAQC,GAAQE,GAAUC,GAAae,EAC/C5I,EAAWU,EAAO,KAAO,iBAE7B,GAAGA,EAAH,CACI,IAAMC,EAAO,CACT2G,IAAKA,EACLvB,IAAKA,EACLb,MAAOA,EACPqD,aAAcpD,EACd4D,eAAgBJ,GAGpB1H,MAAM,UAAW,CACbC,OAAQ,OACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUZ,KAEpBa,KAAK,SAAAC,GACoB,KAAnBA,EAASC,OACRD,EAASE,OAAOH,KAAK,SAAAb,GACjBrB,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAUW,EAAKiB,aAIvBtC,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAU,+DAEd6B,WAAW,kBAAMvC,EAAKzE,MAAMiH,UAAU,cAOtDxC,EAAKc,SAAS,CACVH,kBAAmBS,EACnBV,SAAUA,6EAIT,IAAAyI,EAC+G7N,KAAKgF,MAAlH0H,EADFmB,EACEnB,IAAKvB,EADP0C,EACO1C,IAAKb,EADZuD,EACYvD,MAAOC,EADnBsD,EACmBtD,SAAUwD,EAD7BF,EAC6BE,QAASlB,EADtCgB,EACsChB,KAAMC,EAD5Ce,EAC4Cf,KAAME,EADlDa,EACkDb,OAAQC,EAD1DY,EAC0DZ,UAAWe,EADrEH,EACqEG,SAAU5I,EAD/EyI,EAC+EzI,SAAUC,EADzFwI,EACyFxI,kBACvFkC,EAAQvH,KAAKC,MAAbsH,KAEP,OACIlH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACIpH,EAAAC,EAAAC,cAAA,uCACAF,EAAAC,EAAAC,cAACgM,EAAA,EAAD,KACIlM,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgBsB,IAC7C3M,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,oBACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,QAAQ5B,KAAK,QAAQtC,MAAO+E,EAAO1C,SAAU5H,KAAKmN,YAAatB,aAAa,UAC9FxL,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAAuB,MAAViB,IAAoBA,EAAS,GAAK,kBAEnD3M,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgBuB,IAC7C5M,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,qBACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,WAAW5B,KAAK,WAAWtC,MAAOgF,EAAU3C,SAAU5H,KAAKuN,eAAgB1B,aAAa,iBAC1GxL,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAA0B,MAAbkB,IAAuBA,EAAY,GAAK,uBAEzD5M,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgBoB,IAC7CzM,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,iBACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,MAAM5B,KAAK,OAAOtC,MAAO4F,EAAKvD,SAAU5H,KAAKqN,UAAWxB,aAAa,iBACvFxL,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAAqB,MAARe,IAAkBA,EAAO,GAAK,uBAE/CzM,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgBmB,IAC7CxM,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,iBACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,MAAM5B,KAAK,OAAOtC,MAAOmH,EAAK9E,SAAU5H,KAAKwN,YAC/DnN,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAAqB,MAARc,IAAkBA,EAAO,GAAK,oBAE/CxM,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgBsC,IAC7C3N,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,kCACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,UAAU5B,KAAK,UAAUtC,MAAOwI,EAASnG,SAAU5H,KAAKiO,cAAepC,aAAa,kBACtGxL,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAAyB,MAAZiC,IAAsBA,EAAW,GAAK,2BAGnD5I,EACI/E,EAAAC,EAAAC,cAACwH,EAAA,EAAD,CAAOC,QAAS3C,EAAoB,UAAY,UAC3CD,GAEL,OAIhB/E,EAAAC,EAAAC,cAACiH,EAAA,EAAMS,OAAP,KACI5H,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASmH,GAAnC,UAAyD,KACzDlH,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASJ,KAAK4F,UAAxC,2BAtK6BzE,aCL5BiN,6MACjBpJ,MAAQ,CACJqE,MAAO,QAGXC,KAAO,WACH5E,EAAKzE,MAAMiH,SACXD,WAAWvC,EAAK6E,WAAY,QAGhCC,SAAW,SAAC9D,GACRhB,EAAKc,SAAS,CAAC6D,MAAO3D,EAAEC,OAAO8D,UAGnCF,WAAa,WACT7E,EAAKc,SAAS,CAAC6D,MAAO,gFAGjB,IAAAtJ,EACoBC,KAAKC,MAAtByJ,EADH3J,EACG2J,KAAMxC,EADTnH,EACSmH,OACNmC,EAAUrJ,KAAKgF,MAAfqE,MAEJ5C,EAAO,KAyCX,OAxCY,MAAT4C,EACC5C,EACIpG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQA,GAC9B7G,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,uCAEJzJ,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACIpH,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UACXV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,cACXV,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQuB,KAAK,SAAS1I,UAAU,UAAWiH,QAAQ,OAAO5H,QAASJ,KAAKwJ,UAAxE,UACAnJ,EAAAC,EAAAC,cAAA,gCAAaF,EAAAC,EAAAC,cAAA,mCAAb,0BAEJF,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,cACXV,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQuB,KAAK,WAAW1I,UAAU,UAAUiH,QAAQ,OAAO5H,QAASJ,KAAKwJ,UAAzE,YACAnJ,EAAAC,EAAAC,cAAA,gCAAaF,EAAAC,EAAAC,cAAA,gCAAb,6BAML,UAAT8I,EACN5C,EACIpG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQA,GAC9B7G,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,8BAEJzJ,EAAAC,EAAAC,cAAC8N,EAAD,CAAqB9G,KAAMvH,KAAKuJ,WAAYrC,OAAQlH,KAAKsJ,QAGlD,YAATD,IACN5C,EACIpG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQA,GAC9B7G,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,iCAEJzJ,EAAAC,EAAAC,cAAC+N,EAAD,CAAkB/G,KAAMvH,KAAKuJ,WAAYrC,OAAQlH,KAAKsJ,SAM9DjJ,EAAAC,EAAAC,cAACiH,EAAA,EAAD,CAAOzG,UAAU,qBAAqB2I,KAAMA,EAAMxC,OAAQlH,KAAKsJ,KAAMY,UAAU,GAC1EzD,UAjE8BtF,sBC2BhCoN,qNA5BXvJ,MAAQ,CACJ0E,MAAM,KAGV8E,WAAa,WACTnI,MAAM,eAAiB3B,EAAKzE,MAAMwO,IAAIC,qBAAsB,CACzDpI,OAAQ,WAGX5B,EAAKc,SAAS,CAACkE,MAAK,IACpBzC,WAAW,kBAAMvC,EAAKzE,MAAM0O,cAAc,6EAGrC,IACEF,EAAOzO,KAAKC,MAAZwO,IACA/E,EAAQ1J,KAAKgF,MAAb0E,KAEP,OACIrJ,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,GAAIiJ,GACNrJ,EAAAC,EAAAC,cAAA,MAAIQ,UAAU,mBACVV,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,SAAIkO,EAAItD,MADhB,KAC+B9K,EAAAC,EAAAC,cAAA,8BAD/B,IAC6DkO,EAAIC,qBAC7DrO,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQnH,UAAU,QAAQiH,QAAQ,SAAS4G,OAAO,SAASxO,QAASJ,KAAKwO,YAAzE,mBAtBErN,cCYP0N,mLAXF,IAAA9O,EACsBC,KAAKC,MAAzB0J,EADF5J,EACE4J,KAAMgF,EADR5O,EACQ4O,WAEb,OACItO,EAAAC,EAAAC,cAACuO,EAAA,EAAD,CAAWC,eAAe,MACrBpF,EAAKqF,IAAI,SAAAP,GAAG,OAAIpO,EAAAC,EAAAC,cAAC0O,EAAD,CAASC,IAAKT,EAAIC,qBAAsBD,IAAKA,EAAKE,WAAYA,cANxExN,aCOFgO,6MACjBnK,MAAQ,CACJmG,IAAK,GACLiE,aAAc,GACdtC,KAAM,KACNuC,cAAe,KACfjK,SAAU,KACVC,mBAAmB,KAIvBgI,UAAY,SAAC3H,GACT,IAAMyF,EAAMzF,EAAEC,OAAOJ,MACjBO,EAAOqF,EAAI3C,OAAS,EACxB9D,EAAKc,SAAS,CACV2F,IAAKA,EACL2B,KAAMhH,EACNV,SAAU,UAIlBkK,mBAAqB,SAAC5J,GAClB,IAAM0J,EAAe1J,EAAEC,OAAOJ,MAC1BO,EAAO,yCAAyCA,KAAKsJ,GACzD1K,EAAKc,SAAS,CACV4J,aAAcA,EACdC,cAAevJ,EACfV,SAAU,UAKlBsG,gBAAkB,SAAC5F,GACf,OAAW,MAARA,EAAqB,KACjBA,EAAO,UAAY,WAG9BF,SAAW,WAAM,IAAAC,EACoCnB,EAAKM,MAA/C8H,EADMjH,EACNiH,KAAMuC,EADAxJ,EACAwJ,cAAelE,EADftF,EACesF,IAAKiE,EADpBvJ,EACoBuJ,aAGjC,GAFYtC,GAAQuC,EAEX,CAGL,IAAMtJ,EAAO,CACToF,IAAKA,EACLuD,qBAAsBU,EAAaG,eAGvClJ,MAAM,cAAe,CACjBC,OAAQ,OACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUZ,KACtBa,KAAK,SAAAC,GACkB,KAAnBA,EAASC,OACRpC,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAU,uDAGdV,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAU,2CAEdV,EAAKzE,MAAM0O,aACX1H,WAAW,kBAAMvC,EAAKzE,MAAMsH,QAAQ,cAI5C7C,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAU,iGAKb,IAAAkC,EAC2EtH,KAAKgF,MAA7EmG,EADH7D,EACG6D,IAAKiE,EADR9H,EACQ8H,aAActC,EADtBxF,EACsBwF,KAAMuC,EAD5B/H,EAC4B+H,cAAejK,EAD3CkC,EAC2ClC,SAAUC,EADrDiC,EACqDjC,kBACnDkC,EAAQvH,KAAKC,MAAbsH,KAEP,OACIlH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACIpH,EAAAC,EAAAC,cAACgM,EAAA,EAAD,KACIlM,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgBoB,IAC7CzM,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,mBACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,MAAM5B,KAAK,OAAOtC,MAAO4F,EAAKvD,SAAU5H,KAAKqN,YAC/DhN,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAAqB,MAARe,IAAkBA,EAAO,GAAK,yBAE/CzM,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgB2D,IAC7ChP,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,0BACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,eAAe5B,KAAK,OAAOtC,MAAO6J,EAAcxH,SAAU5H,KAAKsP,qBACjFjP,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAA8B,MAAjBsD,IAA2BA,EAAgB,GAAK,wBAG7DjK,EACI/E,EAAAC,EAAAC,cAACwH,EAAA,EAAD,CAAOC,QAAS3C,EAAoB,UAAY,UAC3CD,GAEL,OAIhB/E,EAAAC,EAAAC,cAACiH,EAAA,EAAMS,OAAP,KACI5H,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASmH,GAAnC,UAAyD,KACzDlH,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASJ,KAAK4F,UAAxC,kCA3GyBzE,aCLxBqO,8MACjBxK,MAAQ,CACJqE,MAAO,KAGXC,KAAO,WACH5E,EAAKzE,MAAMiH,SACXD,WAAWvC,EAAK+K,UAAW,QAG/BC,QAAU,WACRhL,EAAKc,SAAS,CAAC6D,MAAO,OAGxBoG,UAAY,WACV/K,EAAKc,SAAS,CAAC6D,MAAO,6EAGf,IAAAtJ,EACsCC,KAAKC,MAAxCyJ,EADH3J,EACG2J,KAAMC,EADT5J,EACS4J,KAAMgF,EADf5O,EACe4O,WAAYgB,EAD3B5P,EAC2B4P,OACxBtG,EAAUrJ,KAAKgF,MAAfqE,MAEJuG,EAAO,KAGPA,EADe,GAAfjG,EAAKnB,OACEnI,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UAASV,EAAAC,EAAAC,cAAA,uDAExBF,EAAAC,EAAAC,cAACsP,EAAD,CAAUlG,KAAMA,EAAMgF,WAAYA,IAG7C,IAAIlI,EAAO,KA0BX,OAzBY,GAAT4C,EACC5C,EACIpG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQlH,KAAKsJ,MACnCjJ,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,8BAEJzJ,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACKmI,GAELvP,EAAAC,EAAAC,cAACiH,EAAA,EAAMS,OAAP,KACI5H,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASJ,KAAK0P,SAAxC,qBAIG,GAATrG,IACN5C,EACIpG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQlH,KAAKsJ,MACnCjJ,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,kCAEJzJ,EAAAC,EAAAC,cAACuP,EAAD,CAAiBvI,KAAMvH,KAAKyP,UAAWE,OAAQA,EAAQhB,WAAYA,MAM3EtO,EAAAC,EAAAC,cAACiH,EAAA,EAAD,CAAOkC,KAAMA,EAAMxC,OAAQlH,KAAKsJ,KAAMY,UAAU,GAC3CzD,UA1DsBtF,aCgCxB4O,sNAhCX/K,MAAQ,CACJ0E,MAAM,KAGVsG,mBAAqB,WACjBtL,EAAKc,SAAS,CAACkE,MAAK,IAEpBrD,MAAM,uBAAuB3B,EAAKzE,MAAMgQ,YAAYpP,GAAI,CACpDyF,OAAQ,WACTM,KAAM,SAAAmE,GACL9D,WAAW,kBAAMvC,EAAKzE,MAAMiQ,sBAAsB,gFAKjD,IACED,EAAejQ,KAAKC,MAApBgQ,YACAvG,EAAQ1J,KAAKgF,MAAb0E,KAEP,OACIrJ,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,GAAIiJ,GACNrJ,EAAAC,EAAAC,cAAA,MAAIQ,UAAU,mBACVV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,eACfV,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,oCAA6BF,EAAAC,EAAAC,cAAA,SAAI0P,EAAYE,eACjD9P,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQnH,UAAU,QAAQiH,QAAQ,SAAS4G,OAAO,SAASxO,QAASJ,KAAKgQ,oBAAzE,mBAzBU7O,cCDTiP,oLACR,IACG1G,EAAS1J,KAAKC,MAAdyJ,KAER,OACIrJ,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UACXV,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,GAAIiJ,GACNrJ,EAAAC,EAAAC,cAAA,OAAK6J,IAAI,mBAAcpJ,IAAI,uCAPDG,aCsD/BkP,8MApDXrL,MAAQ,CACJsL,aAAc,GACdC,SAAS,KAObL,mBAAqB,WACjB7J,MAAM,gBACDO,KAAK,SAAAmE,GAAG,OAAIA,EAAIhE,SAChBH,KAAK,SAAAb,GACH,IAAIyK,EAAM,GACVzK,EAAK0K,QAAQ,SAAAC,GACT,GAAGA,EAAEC,OAAQ,CACT,IAAMV,EAAc,CAChBpP,GAAI6P,EAAE7P,GACNsP,aAAczL,EAAKzE,MAAM2Q,YAAYF,EAAEG,iBAE3CL,EAAIM,KAAKb,MAGjBvL,EAAKc,SAAS,CACV8K,aAAcE,EACdD,SAAS,2FAnBpBvQ,KAAKkQ,sDAwBA,IAAAa,EAAA/Q,KAAA6F,EAC2B7F,KAAKgF,MAA9BsL,EADFzK,EACEyK,aAAcC,EADhB1K,EACgB0K,QAErB,OAAGA,EACQlQ,EAAAC,EAAAC,cAACyQ,GAAD,CAAkBtH,KAAM6G,IAGR,IAAxBD,EAAa9H,OACLnI,EAAAC,EAAAC,cAAA,yCAKPF,EAAAC,EAAAC,cAACF,EAAAC,EAAM2Q,SAAP,KACI5Q,EAAAC,EAAAC,cAACuO,EAAA,EAAD,CAAWC,eAAe,MACrBuB,EAAatB,IAAI,SAAAiB,GAAW,OAAI5P,EAAAC,EAAAC,cAAC2Q,GAAD,CAAiBhC,IAAKe,EAAYpP,GAAIoP,YAAaA,EAAaC,mBAAoBa,EAAKb,gCA9C/G/O,aCAVgQ,oLACR,IAAApR,EACiCC,KAAKC,MAAnCyJ,EADH3J,EACG2J,KAAMxC,EADTnH,EACSmH,OAAQ0J,EADjB7Q,EACiB6Q,YAGtB,OACIvQ,EAAAC,EAAAC,cAACiH,EAAA,EAAD,CAAOkC,KAAMA,EAAMxC,OAAQA,EAAQgD,UAAU,GACzC7J,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQA,GAC9B7G,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,sCAEJzJ,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACIpH,EAAAC,EAAAC,cAAC6Q,GAAD,CAAkBR,YAAaA,KAEnCvQ,EAAAC,EAAAC,cAACiH,EAAA,EAAMS,OAAP,KACI5H,EAAAC,EAAAC,cAAA,6IAfuBY,uBCF/C,SAASkQ,GAAUpR,GAWf,OACII,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAKN,EAAMqR,QAAQ5E,KACnBrM,EAAAC,EAAAC,cAAA,UAAKN,EAAMqR,QAAQnG,KACnB9K,EAAAC,EAAAC,cAAA,UAAKN,EAAMqR,QAAQhH,OACnBjK,EAAAC,EAAAC,cAAA,UAAKN,EAAMqR,QAAQnD,gBACnB9N,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,SAAS4G,OAAO,SAASxO,QAfrD,WACIiG,MAAM,WAAWpG,EAAMqR,QAAQhH,MAAO,CAClChE,OAAQ,WACTM,KAAK,WACJ3G,EAAMsR,SACNtR,EAAMiJ,qBAUF,kBAKhB,SAASsI,GAAYvR,GAQjB,OACII,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAKN,EAAMwR,KAAK/E,KAChBrM,EAAAC,EAAAC,cAAA,UAAKN,EAAMwR,KAAKtG,IAAhB,IAAsBlL,EAAMwR,KAAK9E,SACjCtM,EAAAC,EAAAC,cAAA,UAAKN,EAAMwR,KAAKnH,OAChBjK,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,SAAS4G,OAAO,SAASxO,QAXrD,WACIiG,MAAM,cAAcpG,EAAMwR,KAAKnH,MAAO,CAClChE,OAAQ,WACTM,KAAK,kBAAM3G,EAAMsR,aAQZ,sBAKKG,oLACR,IAAA3R,EACyDC,KAAKC,MAA5D4H,EADF9H,EACE8H,KAAM8J,EADR5R,EACQ4R,MAAOC,EADf7R,EACe6R,UAAWC,EAD1B9R,EAC0B8R,YAAa3I,EADvCnJ,EACuCmJ,eAExC4I,EAAO,KAAMrL,EAAO,KA+CxB,MA7CY,WAAToB,GAECiK,EACIzR,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,kCACAF,EAAAC,EAAAC,cAAA,iBAIZkG,EACIpG,EAAAC,EAAAC,cAAA,aAEIqR,EAAU5C,IAAI,SAAAsC,GAAO,OAClBjR,EAAAC,EAAAC,cAAC8Q,GAAD,CAAYnC,IAAKoC,EAAQzQ,GAAIyQ,QAASA,EAASC,OAAQM,EAAa3I,eAAgBA,SAO/F4I,EACIzR,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,iBAIRkG,EACIpG,EAAAC,EAAAC,cAAA,aAEIoR,EAAM3C,IAAI,SAAAyC,GAAI,OACVpR,EAAAC,EAAAC,cAACiR,GAAD,CAActC,IAAKuC,EAAK5Q,GAAI4Q,KAAMA,EAAMF,OAAQM,QAQ5DxR,EAAAC,EAAAC,cAACwR,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAAChR,YAAU,GACnC4Q,EACArL,UAtDsBtF,aChBlBgR,8MACjBnN,MAAQ,CACJqE,MAAO,KACPsI,MAAO,GACPC,UAAW,MAQftI,KAAO,WACH5E,EAAKzE,MAAMiH,SACXD,WAAWvC,EAAK6E,WAAY,QAGhCC,SAAW,SAAC9D,GACRhB,EAAKc,SAAS,CAAC6D,MAAO3D,EAAEC,OAAO8D,UAGnCF,WAAa,WACT7E,EAAKc,SAAS,CAAC6D,MAAO,UAI1B+I,aAAe,WACX/L,MAAM,WACDO,KAAK,SAAAmE,GAAG,OAAIA,EAAIhE,SAChBH,KAAK,SAAAb,GACFrB,EAAKc,SAAS,CAACoM,UAAW7L,SAItCsM,gBAAkB,WACdhM,MAAM,cACDO,KAAK,SAAAmE,GAAG,OAAIA,EAAIhE,SAChBH,KAAK,SAAAb,GACFrB,EAAKc,SAAS,CAACmM,MAAO5L,0FA9B9B/F,KAAKoS,eACLpS,KAAKqS,mDAiCA,IAAAtS,EACoCC,KAAKC,MAAtCyJ,EADH3J,EACG2J,KAAMxC,EADTnH,EACSmH,OAAQgC,EADjBnJ,EACiBmJ,eADjBrD,EAE+B7F,KAAKgF,MAAjCqE,EAFHxD,EAEGwD,MAAOsI,EAFV9L,EAEU8L,MAAOC,EAFjB/L,EAEiB+L,UAElBnL,EAAO,KAiDX,OAhDY,MAAT4C,EACC5C,EACIpG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQA,GAC9B7G,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,sCAEJzJ,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACIpH,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UACXV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,cACXV,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQuB,KAAK,SAAS1I,UAAU,UAAWiH,QAAQ,OAAO5H,QAASJ,KAAKwJ,UAAxE,WAEJnJ,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,cACXV,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQuB,KAAK,YAAY1I,UAAU,UAAUiH,QAAQ,OAAO5H,QAASJ,KAAKwJ,UAA1E,iBAMJ,WAAVH,EACN5C,EACIpG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQA,GAC9B7G,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,gBAEJzJ,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACIpH,EAAAC,EAAAC,cAAC+R,GAAD,CAAWzK,KAAMwB,EAAOuI,UAAWA,EAAWC,YAAa7R,KAAKoS,aAAclJ,eAAgBA,KAElG7I,EAAAC,EAAAC,cAACiH,EAAA,EAAMS,OAAP,KACI5H,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASJ,KAAKuJ,YAAxC,YAII,cAAVF,IACN5C,EACIpG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,CAAcC,aAAW,EAAC3C,OAAQA,GAC9B7G,EAAAC,EAAAC,cAACiH,EAAA,EAAMsC,MAAP,mBAEJzJ,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACIpH,EAAAC,EAAAC,cAAC+R,GAAD,CAAWzK,KAAMwB,EAAOsI,MAAOA,EAAOE,YAAa7R,KAAKqS,gBAAiBnJ,eAAgBA,KAE7F7I,EAAAC,EAAAC,cAACiH,EAAA,EAAMS,OAAP,KACI5H,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASJ,KAAKuJ,YAAxC,aAOZlJ,EAAAC,EAAAC,cAACiH,EAAA,EAAD,CAAOzG,UAAU,qBAAqB2I,KAAMA,EAAMxC,OAAQlH,KAAKsJ,KAAMY,UAAU,GAC1EzD,UAjGuBtF,aChBnBoR,8MAEjBvN,MAAQ,CACJwN,cAAc,EACdC,UAAU,EACVC,kBAAkB,EAClBC,WAAW,KAGfC,eAAiB,WACblO,EAAKc,SAAS,CAACgN,cAAc,OAGjCK,gBAAkB,WACdnO,EAAKc,SAAS,CAACgN,cAAc,OAGjCM,WAAa,WACTpO,EAAKc,SAAS,CAACiN,UAAU,OAG7BM,YAAc,WACVrO,EAAKc,SAAS,CAACiN,UAAU,OAG7BO,mBAAqB,WACjBtO,EAAKc,SAAS,CAACkN,kBAAkB,OAGrCO,oBAAsB,WAClBvO,EAAKc,SAAS,CAACkN,kBAAkB,OAGrCQ,YAAc,WACVxO,EAAKc,SAAS,CAACmN,WAAW,OAG9BQ,aAAe,WACXzO,EAAKc,SAAS,CAACmN,WAAW,6EAIrB,IAAA9M,EAC2D7F,KAAKgF,MAA7DwN,EADH3M,EACG2M,aAAcC,EADjB5M,EACiB4M,SAAUC,EAD3B7M,EAC2B6M,iBAAkBC,EAD7C9M,EAC6C8M,UAD7C5S,EAE8IC,KAAKC,MAAhJoL,EAFHtL,EAEGsL,aAAc+H,EAFjBrT,EAEiBqT,aAAchH,EAF/BrM,EAE+BqM,cAAezC,EAF9C5J,EAE8C4J,KAAMgF,EAFpD5O,EAEoD4O,WAAYgB,EAFhE5P,EAEgE4P,OAAQ0D,EAFxEtT,EAEwEsT,iBAAkBhH,EAF1FtM,EAE0FsM,mBAAoBuE,EAF9G7Q,EAE8G6Q,YAAa1H,EAF3HnJ,EAE2HmJ,eAE5HzC,EAAO,KACX,OAAQ2M,GACJ,KAAK,EACD3M,EACIpG,EAAAC,EAAAC,cAAC+L,EAAA,EAAOgH,SAAR,KACIjT,EAAAC,EAAAC,cAAC+L,EAAA,EAAOC,KAAR,CAAagH,UAAQ,GACjBlT,EAAAC,EAAAC,cAACiT,EAAD,CAAanI,aAAcA,KAE/BhL,EAAAC,EAAAC,cAAC+L,EAAA,EAAOC,KAAR,CAAaC,WAAS,GAClBnM,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAUH,KAAK,SAASzH,QAASJ,KAAK4S,gBAAtD,oBAIZ,MACJ,KAAK,EACDnM,EACIpG,EAAAC,EAAAC,cAAC+L,EAAA,EAAOgH,SAAR,KACIjT,EAAAC,EAAAC,cAAC+L,EAAA,EAAOmH,KAAR,aACSpT,EAAAC,EAAAC,cAAA,SAAIyK,eAAe0I,QAAQ,UAEpCrT,EAAAC,EAAAC,cAAC+L,EAAA,EAAOC,KAAR,CAAagH,UAAQ,GACjBlT,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,OAAO5H,QAASJ,KAAK8S,YAArC,cADJ,IAC0E,OACtEzS,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,OAAO5H,QAASJ,KAAKgT,oBAArC,sBAFJ,IAE0F,QAE1F3S,EAAAC,EAAAC,cAACoT,EAAD,CAAWvH,cAAeA,KAGlC,MACJ,KAAK,EACD3F,EACIpG,EAAAC,EAAAC,cAAC+L,EAAA,EAAOgH,SAAR,KACIjT,EAAAC,EAAAC,cAAC+L,EAAA,EAAOmH,KAAR,gBACYpT,EAAAC,EAAAC,cAAA,SAAIyK,eAAe0I,QAAQ,UAEvCrT,EAAAC,EAAAC,cAAC+L,EAAA,EAAOC,KAAR,CAAagH,UAAQ,GACjBlT,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,OAAO5H,QAASiT,EAAkBvH,SAAUO,GAA5D,sBADJ,IACiH,QAEjHhM,EAAAC,EAAAC,cAACoT,EAAD,CAAWtH,mBAAoBA,EAAoBD,cAAeA,KAG1E,MACJ,KAAK,EACD3F,EACIpG,EAAAC,EAAAC,cAAC+L,EAAA,EAAOgH,SAAR,KACIjT,EAAAC,EAAAC,cAAC+L,EAAA,EAAOmH,KAAR,sBAGApT,EAAAC,EAAAC,cAAC+L,EAAA,EAAOC,KAAR,CAAagH,UAAQ,GACjBlT,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,OAAO5H,QAASJ,KAAKkT,aAArC,6BADJ,IACqF,QAErF7S,EAAAC,EAAAC,cAACoT,EAAD,CAAWvH,cAAeA,KAM1C,OACI/L,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC+L,EAAA,EAAD,CAAQsH,SAAO,EAACC,UAAQ,GACpBxT,EAAAC,EAAAC,cAAC+L,EAAA,EAAO1C,OAAR,KACIvJ,EAAAC,EAAAC,cAAC+L,EAAA,EAAOwH,MAAR,KACIzT,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAOE,IAAI,4BAEfX,EAAAC,EAAAC,cAAC+L,EAAA,EAAOyH,OAAR,OAEHtN,GAGa,IAAjB2M,EAAqB/S,EAAAC,EAAAC,cAACyT,EAAD,CAAmBtK,KAAM8I,EAActL,OAAQlH,KAAK6S,kBAAqB,KAC7E,IAAjBO,EAAqB/S,EAAAC,EAAAC,cAAC0T,GAAD,CAAWvK,KAAMiJ,EAAWzL,OAAQlH,KAAKmT,aAAcjK,eAAgBA,IAAoB,KAC/F,IAAjBkK,EAAqB/S,EAAAC,EAAAC,cAAC2T,GAAD,CAAmBxK,KAAMgJ,EAAkBxL,OAAQlH,KAAKiT,oBAAqBrC,YAAaA,IAAiB,KAC/G,IAAjBwC,EAAqB/S,EAAAC,EAAAC,cAAC4T,GAAD,CAAWzK,KAAM+I,EAAUvL,OAAQlH,KAAK+S,YAAapJ,KAAMA,EAAMgF,WAAYA,EAAYgB,OAAQA,IAAY,aArH/GxO,aCHhCiT,GAAcnS,IAAEoS,KAAK,CACrBC,QAAS,oBACTC,SAAU,CAAC,KAAQ,IAAI,IACvBC,WAAY,CAAC,KAAU,IAAI,IAC3BC,YAAa,CAAC,GAAI,IAAI,MAGLC,8MACjB1P,MAAQ,CACJ2P,aAAa,KAGjBC,cAAgB,WACZlQ,EAAKc,SAAS,CAACmP,aAAa,OAGhCE,eAAiB,WACbnQ,EAAKc,SAAS,CAACmP,aAAa,OAGhCG,IAAM,WACFpQ,EAAKzE,MAAM8U,sBAAsBrQ,EAAKzE,MAAMgG,QAAQpF,OAGxDmU,IAAMC,IAAMC,cAMZC,cAAgB,WACZ9O,MAAM,iBAAiB3B,EAAKzE,MAAMgG,QAAQpF,GAAI,CAC1CyF,OAAQ,WACTM,KAAKlC,EAAKzE,MAAMmV,qGANnBpV,KAAKC,MAAMoV,gBAAgBrV,KAAKC,MAAMgG,QAAQpF,GAAIb,KAAKgV,IAAIM,QAAQC,iDAW9D,IAAAxV,EAC+CC,KAAKC,MAAlDgG,EADFlG,EACEkG,QAASmN,EADXrT,EACWqT,aAAcoC,EADzBzV,EACyByV,YAAa7L,EADtC5J,EACsC4J,KACpCgL,EAAe3U,KAAKgF,MAApB2P,YAEHc,EAAM,KAYV,OAXoB,IAAjBrC,EACCqC,EACIpV,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQnH,UAAU,cAAciH,QAAQ,OAAO4G,OAAO,QAAQxO,QAASoV,GAAvE,iBAA0GnV,EAAAC,EAAAC,cAAA,WAC1GF,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQnH,UAAU,cAAciH,QAAQ,SAAS4G,OAAO,QAAQxO,QAASJ,KAAKmV,eAA9E,iBAGe,IAAjB/B,IACNqC,EAAMpV,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,OAAO4G,OAAO,QAAQxO,QAASJ,KAAK4U,eAApD,eAINvU,EAAAC,EAAAC,cAACmV,EAAA,EAAD,CAAQvV,SAAU8F,EAAQ0P,SAAUtB,KAAMD,GAAaY,IAAKhV,KAAKgV,KAC7D3U,EAAAC,EAAAC,cAACqV,EAAA,EAAD,CAAOC,OAAQ7V,KAAK8U,IAAKgB,QAAS9V,KAAK+V,WAAYC,SAAS,GACxD3V,EAAAC,EAAAC,cAAA,UAAK0F,EAAQkF,KACb9K,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,6BAAH,IAAgC0F,EAAQgQ,YAAxC,IAAsDhQ,EAAQiQ,WAC9D7V,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,yBAAH,IAA4B0F,EAAQkQ,OAApC,SACCV,GAELpV,EAAAC,EAAAC,cAAC6V,EAAD,CAAc1M,KAAMiL,EAAazN,OAAQlH,KAAK6U,eAAgB5O,QAASA,EAAS0D,KAAMA,EAAMT,eAAgBlJ,KAAKC,MAAMmV,wBAvD5FjU,kCCVtBkV,sNACjBrR,MAAQ,CACJmG,IAAK,GACL+K,UAAW,GACXC,OAAQ,GACRrJ,KAAM,KACNwJ,WAAY,KACZC,QAAS,KACTnR,SAAU,KACVC,mBAAmB,KAIvBgI,UAAY,SAAC3H,GACT,IAAMyF,EAAMzF,EAAEC,OAAOJ,MACjBO,EAAOqF,EAAI3C,OAAS,EACxB9D,EAAKc,SAAS,CACV2F,IAAKA,EACL2B,KAAMhH,EACNV,SAAU,UAIlBoR,gBAAkB,SAAC9Q,GACf,IAAMwQ,EAAYxQ,EAAEC,OAAOJ,MACvBO,EAAOoQ,EAAU1N,OAAS,GAAK,QAAQ1C,KAAKoQ,GAChDxR,EAAKc,SAAS,CACV0Q,UAAWA,EACXI,WAAYxQ,EACZV,SAAU,UAIlBqR,aAAe,SAAC/Q,GACZ,IAAMyQ,EAASzQ,EAAEC,OAAOJ,MACpBO,EAAOqQ,EAAO3N,OAAS,GAAKkO,OAAOP,GAAU,EACjDzR,EAAKc,SAAS,CACV2Q,OAAQA,EACRI,QAASzQ,EACTV,SAAU,UAKlBsG,gBAAkB,SAAC5F,GACf,OAAW,MAARA,EAAqB,KACjBA,EAAO,UAAY,WAG9BF,SAAW,WAAM,IAAAC,EACwBnB,EAAKM,MAAnC8H,EADMjH,EACNiH,KAAMwJ,EADAzQ,EACAyQ,WAAYC,EADZ1Q,EACY0Q,QADZjP,EAEqB5C,EAAKM,MAAhCmG,EAFM7D,EAEN6D,IAAK+K,EAFC5O,EAED4O,UAAWC,EAFV7O,EAEU6O,OACnBrQ,EAAQgH,GAAQwJ,GAAcC,EAC9BnR,EAAWU,EAAO,KAAO,iBAE7B,GAAGA,EAAM,CAEL,IAAMC,EAAO,CACToF,IAAKA,EACLwK,SAAUjR,EAAKzE,MAAM0W,mBACrBT,UAAWA,EACXC,OAAQA,GAGZ,OAAGzR,EAAKzE,MAAM2W,sBACVvQ,MAAM,uBAAuB3B,EAAKzE,MAAM4W,gBAAgBhW,GAAI,CACxDyF,OAAQ,OACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUZ,KACtBa,KAAK,SAAAmE,GACJrG,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAU,uCAEdV,EAAKzE,MAAM6W,sBACXpS,EAAKzE,MAAMiJ,iBACXjC,WAAW,kBAAMvC,EAAKzE,MAAMoT,oBAAoB,aAKxDhN,MAAM,gBAAiB,CACnBC,OAAQ,OACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUZ,KAEpBa,KAAK,SAAAC,GACoB,KAAnBA,EAASC,OACRD,EAASE,OAAOH,KAAK,SAAAb,GACjBrB,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAUW,EAAKiB,aAIvBtC,EAAKc,SAAS,CACVH,mBAAmB,EACnBD,SAAU,qCAEdV,EAAKzE,MAAMiJ,iBACXjC,WAAW,kBAAMvC,EAAKzE,MAAMoT,oBAAoB,SAOhE3O,EAAKc,SAAS,CACVH,kBAAmBS,EACnBV,SAAUA,OAIlBmC,KAAO,WACH7C,EAAKzE,MAAMoT,mBACX3O,EAAKzE,MAAM6W,yGAGIC,EAAWC,EAAWC,GAAU,IAAAlG,EAAA/Q,KAAAD,EACiBC,KAAKC,MAA9DoM,EADwCtM,EACxCsM,mBAAoBuK,EADoB7W,EACpB6W,iBAAkBC,EADE9W,EACF8W,iBAC3CE,EAAUH,kBAAoBA,GAC9B5W,KAAKwF,SAAS,CACV2F,IAAK0L,EAAgB1L,IACrB+K,UAAWW,EAAgBX,UAC3BC,OAAQU,EAAgBV,OACxBrJ,MAAM,EACNwJ,YAAY,EACZC,SAAS,EACTnR,SAAU,KACVC,mBAAmB,IAIxB0R,EAAU1K,qBAAuBA,GAChCpF,WAAW,WACP8J,EAAKvL,SAAS,CACV2F,IAAK,GACL+K,UAAW,GACXC,OAAQ,GACRrJ,KAAM,KACNwJ,WAAY,KACZC,QAAS,KACTnR,SAAU,KACVC,mBAAmB,KAExB,sCAIA,IACEgH,EAAsBrM,KAAKC,MAA3BoM,mBADFwB,EAEoF7N,KAAKgF,MAAvFmG,EAFF0C,EAEE1C,IAAK+K,EAFPrI,EAEOqI,UAAWC,EAFlBtI,EAEkBsI,OAAQrJ,EAF1Be,EAE0Bf,KAAMwJ,EAFhCzI,EAEgCyI,WAAYC,EAF5C1I,EAE4C0I,QAASnR,EAFrDyI,EAEqDzI,SAAUC,EAF/DwI,EAE+DxI,kBAEpE,OAEIhF,EAAAC,EAAAC,cAAC2W,GAAA5W,EAAD,CAAMH,SAAS,QAAQgX,UAAW9K,EAAoB+K,OAAO,EAAMC,YAAa,GAAMC,QAAQ,QAC1FjX,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiH,EAAA,EAAMoC,OAAP,KACIvJ,EAAAC,EAAAC,cAAA,gDAEJF,EAAAC,EAAAC,cAACiH,EAAA,EAAMC,KAAP,KACIpH,EAAAC,EAAAC,cAAA,uCACAF,EAAAC,EAAAC,cAACgM,EAAA,EAAD,KACIlM,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgBoB,IAC7CzM,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,mBACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,MAAM5B,KAAK,OAAOtC,MAAO4F,EAAKvD,SAAU5H,KAAKqN,UAAWxB,aAAa,iBACvFxL,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAAqB,MAARe,IAAkBA,EAAO,GAAK,yBAE/CzM,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgB4K,IACjDjW,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,uBACJF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,YAAY5B,KAAK,SAAStC,MAAO2Q,EAAWtO,SAAU5H,KAAKwW,kBAC7EnW,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAA2B,MAAduK,IAAwBA,EAAa,GAAK,+DAEvDjW,EAAAC,EAAAC,cAACkL,EAAA,EAAD,CAAWC,gBAAiB1L,KAAK0L,gBAAgB6K,IAC7ClW,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,mBAAJ,IAAkBF,EAAAC,EAAAC,cAAA,wBAClBF,EAAAC,EAAAC,cAACoL,EAAA,EAAD,CAAalC,KAAK,SAAS5B,KAAK,SAAStC,MAAO4Q,EAAQvO,SAAU5H,KAAKyW,eACvEpW,EAAAC,EAAAC,cAACwL,EAAA,EAAD,KAAwB,MAAXwK,IAAqBA,EAAU,GAAK,yDAErDlW,EAAAC,EAAAC,cAAC4I,EAAA,EAAD,mDAEI/D,EACI/E,EAAAC,EAAAC,cAACwH,EAAA,EAAD,CAAOC,QAAS3C,EAAoB,UAAY,UAC3CD,GAEL,OAIhB/E,EAAAC,EAAAC,cAACiH,EAAA,EAAMS,OAAP,KACI5H,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASJ,KAAKuH,MAAxC,YAAgE,KAChElH,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQF,QAAQ,UAAU5H,QAASJ,KAAK4F,UAAxC,oBAlMmBzE,cCAvCiT,GAAcnS,IAAEoS,KAAK,CACrBC,QAAS,wBACTC,SAAU,CAAC,KAAQ,IAAI,IACvBC,WAAY,CAAC,KAAU,IAAI,IAC3BC,YAAa,CAAC,GAAI,IAAI,IACtB1T,UAAW,uBAGMwW,8MAEjBvC,IAAMC,IAAMC,cAEZ3D,OAAS,WACL,IAAMiG,EAAS9S,EAAKsQ,IAAIM,QACxB,GAAc,MAAVkC,EAAgB,CAChB,IAAMC,EAAM,CAACD,EAAOjC,eAAemC,YAAYC,IAAKH,EAAOjC,eAAemC,YAAYE,KACtFlT,EAAKzE,MAAM4X,yBAAyBJ,6EAInC,IACEd,EAAsB3W,KAAKC,MAA3B0W,mBAEP,OACItW,EAAAC,EAAAC,cAACmV,EAAA,EAAD,CAAQvV,SAAUwW,GAAsB,CAAC,EAAE,GAAI3B,IAAKhV,KAAKgV,IAAKX,KAAMD,GAAa0D,WAAW,EAAMC,UAAW/X,KAAKuR,gBAhBhFpQ,aCF1C6W,GAAS/V,IAAEoS,KAAK,CAChBC,QAAS,wBACTC,SAAU,CAAC,GAAQ,MACnBC,WAAY,CAAC,KAAU,MACvBC,YAAa,CAAC,GAAG,QAGfwD,GAAY,CACdC,OAAQ,CAAC,UAAW,YAyBxB,SAASC,GAAYtY,EAAMC,GACvB,OAvBJ,SAAwBsY,EAAMC,EAAMC,EAAMC,EAAMC,GAC5C,GAAKJ,IAASE,GAAUD,IAASE,EAC7B,OAAO,EAGP,IAAIE,EAAU/X,KAAKgY,GAAKN,EAAK,IACzBO,EAAUjY,KAAKgY,GAAKJ,EAAK,IACzBM,EAAQP,EAAKE,EACbM,EAAWnY,KAAKgY,GAAKE,EAAM,IAC3BE,EAAOpY,KAAKqY,IAAIN,GAAW/X,KAAKqY,IAAIJ,GAAWjY,KAAKsY,IAAIP,GAAW/X,KAAKsY,IAAIL,GAAWjY,KAAKsY,IAAIH,GASpG,OARIC,EAAO,IACPA,EAAO,GAIXA,EAAc,IADdA,EAAc,KADdA,EAAOpY,KAAKuY,KAAKH,IACCpY,KAAKgY,IACJ,OACR,MAAPF,IAAcM,GAAc,UACrB,MAAPN,IAAcM,GAAc,OACzBA,EAKJI,CAAerZ,EAAK,GAAIA,EAAK,GAAIC,EAAK,GAAIA,EAAK,QAIrCqZ,eAoIjB,SAAAA,EAAYlZ,GAAO,IAAAyE,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA3E,KAAAmZ,IACfzU,EAAAC,OAAAE,EAAA,EAAAF,CAAA3E,KAAA2E,OAAAG,EAAA,EAAAH,CAAAwU,GAAApU,KAAA/E,KAAMC,KApIV+E,MAAQ,CACJoU,SAAU,CAACC,OAAQpB,GAAUC,OAAQoB,KAAM,IAC3CC,QAAS,GACTC,QAAS,EACTC,UAAWxX,IAAEyX,aAAazX,IAAE0X,OAAO,UAAW,UAAY1X,IAAE0X,OAAO,UAAW,YAC9EC,QAAS,EACT/C,gBAAiB,KACjBgD,WAAY,GACZjD,kBAAkB,EAClBD,mBAAoBsB,GAAUC,QA0HfxT,EAvHnBoV,kBAAoB,SAACV,GACjBnS,WAAW,kBAAMvC,EAAKc,SAAS,CAAC4T,SAAUA,KAAY,IAClD1U,EAAKzE,MAAMoM,oBAAoBpF,WAAW,kBAAMvC,EAAKc,SAAS,CAACmR,mBAAoByC,EAASC,UAAU,KAqH3F3U,EAlHnBqV,cAAgB,WACZrV,EAAKsV,YAiHUtV,EA9GnBsV,SAAW,WACP,IAAMC,EAAK,CACPZ,OAAQ3U,EAAKzE,MAAMC,WACnBoZ,KAAM5U,EAAKM,MAAMoU,SAASE,MAG9B5U,EAAKc,SAAS,CAAC4T,SAAUa,KAwGVvV,EArGnBwV,SAAW,SAACzC,GACR,IAAMwC,EAAK,CACPZ,OAAQ5B,EACR6B,KAAM,IAGV5U,EAAKc,SAAS,CAAC4T,SAAUa,KA+FVvV,EA5FnByV,sBAAwB,SAACtZ,GACrB,IAAIuZ,EAAM,GAIV,OAHA1V,EAAKzE,MAAMoa,SAAS5J,QAAQ,SAAA6J,GACrBA,EAAEC,UAAY1Z,GAAIuZ,EAAItJ,KAAKwJ,KAE3BF,GAuFQ1V,EApFnB8V,eAAiB,SAAC3Z,GACd,IAAIuZ,EAAM,KAKV,OAJA1V,EAAKzE,MAAMoa,SAAS5J,QAAQ,SAAA6J,GACrBA,EAAEzZ,IAAMA,IAAIuZ,EAAME,KAGlBF,GA8EQ1V,EA3EnB+V,UAAY,SAAC5Z,GACX6D,EAAKM,MAAM6U,WAAWhZ,GAAI4Z,aA0ET/V,EAvEnB2Q,gBAAkB,SAACxU,EAAImU,GACrBtQ,EAAKc,SAAS,SAAAR,GAAK,MAAK,CACpB6U,WAAWlV,OAAA+V,EAAA,EAAA/V,CAAA,GACJK,EAAM6U,WADHlV,OAAAqE,EAAA,EAAArE,CAAA,GAEL9D,EAAKmU,QAmEGtQ,EA9DnBiW,uBAAyB,WAAM,IAAA5a,EACE2E,EAAKzE,MAA7BC,EADsBH,EACtBG,WAAYma,EADUta,EACVsa,SACnB,GAAiB,MAAdna,GAAkC,MAAZma,EAAzB,CACA,IAAIO,EAAUC,EACVP,EAAI,KACJQ,EAAM,KAEVT,EAAS5J,QAAQ,SAAAxK,GACb,IAAM6S,EAAOX,GAAYjY,EAAY+F,EAAQ0P,UACvCoF,EAAU9U,EAAQiQ,UAAYjQ,EAAQgQ,YAAe,GAEnD,MAALqE,GACCA,EAAIrU,EACJ2U,EAAW9B,GAERA,EAAO8B,IACNN,EAAIrU,EACJ2U,EAAW9B,GAIT,MAAPgC,GAAeC,GACdD,EAAM7U,EACN4U,EAAa/B,GACPgC,GAAOC,GACVjC,EAAO+B,IACNC,EAAM7U,EACN4U,EAAa/B,KAKzB,IAAMkC,EAAOF,GAAOR,EACpB5V,EAAKwV,SAASc,EAAKrF,UACnB1O,WAAW,kBAAMvC,EAAK+V,UAAUO,EAAKna,KAAK,OA4BzB6D,EAzBnBqQ,sBAAwB,SAAClU,GACrB6D,EAAKc,SAAS,CAACqR,gBAAiBnS,EAAK8V,eAAe3Z,MAwBrC6D,EArBnB8Q,YAAc,WACV9Q,EAAKc,SAAU,SAAAR,GAAK,MAAK,CACrB4R,kBAAkB,EAClBD,mBAAoB3R,EAAM6R,gBAAgBlB,YAE9CjR,EAAKzE,MAAMoT,mBACXpM,WAAW,kBAAMvC,EAAKwV,SAASxV,EAAKM,MAAM6R,gBAAgBlB,WAAW,MAetDjR,EAZnBoS,oBAAsB,WAClB7P,WAAWvC,EAAKc,SAAS,SAAAR,GAAK,MAAK,CAAC4R,kBAAkB,KAAU,KAWjDlS,EARnBuW,mBAAqB,WACjBhU,WAAWvC,EAAKc,SAAS,SAAAR,GAAK,MAAK,CAAC4R,kBAAkB,KAAS,KAOhDlS,EAJnBmT,yBAA2B,SAACJ,GAC1B/S,EAAKc,SAAS,CAACmR,mBAAoBc,KAGlB/S,EAKnBwW,UAAY,SAAC/a,GACT,IAAMsX,EAAM,CAACtX,EAASgb,OAAOC,SAAUjb,EAASgb,OAAOE,WAC3B,MAAzB3W,EAAKzE,MAAMC,YAAkD,IAA5BwE,EAAKzE,MAAMmT,cAAoB1O,EAAKwV,SAASzC,GACjF/S,EAAKzE,MAAMqb,iBAAiB7D,IARb/S,EAWnB6W,SAAW,aATP7W,EAAKM,MAAM4U,QAAU4B,UAAUC,YAAYC,cAAchX,EAAKwW,UAAWxW,EAAK6W,UAF/D7W,sFAiBf8W,UAAUC,YAAYE,WAAW3b,KAAKgF,MAAM4U,0CAGvC,IAAA7I,EAAA/Q,KAAA6F,EACoG7F,KAAKgF,MAAtGoU,EADHvT,EACGuT,SAAUG,EADb1T,EACa0T,QAASE,EADtB5T,EACsB4T,UAAWD,EADjC3T,EACiC2T,QAAS5C,EAD1C/Q,EAC0C+Q,iBAAkBD,EAD5D9Q,EAC4D8Q,mBAAoBE,EADhFhR,EACgFgR,gBADhF+E,EAEuG5b,KAAKC,MAAxGC,EAFJ0b,EAEI1b,WAAYkT,EAFhBwI,EAEgBxI,aAAciH,EAF9BuB,EAE8BvB,SAAUhO,EAFxCuP,EAEwCvP,mBAAoBgH,EAF5DuI,EAE4DvI,iBAAkBnK,EAF9E0S,EAE8E1S,eAAgBS,EAF9FiS,EAE8FjS,KAG/FkS,EAAmB,KACjBC,EAA+B,IAAjB1I,EAAqB/S,EAAAC,EAAAC,cAACwb,EAAD,CAAa7b,WAAYA,EAAYC,SAAUiZ,EAASC,OAAQjZ,QAASJ,KAAK+Z,gBAAmB,KACvI7Z,GAA+B,IAAjBkT,IACbyI,EACIxb,EAAAC,EAAAC,cAACmV,EAAA,EAAD,CAAQvV,SAAUD,EAAYmU,KAAM2D,IAChC3X,EAAAC,EAAAC,cAACqV,EAAA,EAAD,gCAMZ,IAAIoG,EAAiB3B,EACD,IAAjBjH,IACC4I,EAAiBhc,KAAKma,sBAAsBnP,eAAe0I,QAAQ,QAGvE,IAAMuI,EAAiBD,EAAehN,IAAI,SAAA/I,GAAO,OAAI5F,EAAAC,EAAAC,cAAC2b,GAAD,CAAehN,IAAKjJ,EAAQpF,GAAIoF,QAASA,EAASmN,aAAcA,EACjD2B,sBAAuBhE,EAAKgE,sBAC5BM,gBAAiBtE,EAAKsE,gBAAiBG,YAAazE,EAAKyE,YACzD7L,KAAMA,EAAMyL,cAAelM,MAGzFiT,EAAiC,IAAjB/I,GAAoC,MAAdlT,EAAqBG,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAQrH,GAAG,kBAAkBmH,QAAQ,UAAU5H,QAASJ,KAAK2a,wBAA7D,WAA6Fta,EAAAC,EAAAC,cAAA,WAA7F,MAAgH,KAC3K6b,EAAmB/b,EAAAC,EAAAC,cAAC8b,GAAD,CAAkB1F,mBAAoBA,EAAoBkB,yBAA0B7X,KAAK6X,2BAElH,OACExX,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC+b,EAAA,EAAD,CAAKvb,UAAU,MAAMqY,SAAUA,EAC1BmD,SAAS,EAAMC,aAAa,EAAO1C,kBAAmB9Z,KAAK8Z,kBAC3DP,QAASA,EAASE,UAAWA,EAAWD,QAASA,GAElDnZ,EAAAC,EAAAC,cAACkc,EAAA,EAAD,CACIC,YAAY,0EACZC,IAAI,uDAGPd,EACAxP,EAAqB+P,EAAmBH,EACxC5B,EAAS7R,OAAS,EAAI2T,EAAgB,KACtCL,GAELzb,EAAAC,EAAAC,cAACqc,GAAD,CAAevQ,mBAAoBA,EAAoBgH,iBAAkBA,EAAkBnK,eAAgBA,EACzG0N,iBAAkBA,EAAkBD,mBAAoBA,EAAoBE,gBAAiBA,EAChFC,oBAAqB9W,KAAK8W,8BAxMb3V,aCrCrB0b,8MACnB7X,MAAQ,CACN9E,WAAY,KACZma,SAAU,GACV1Q,KAAM,GACNyJ,aAAc,EACd/G,oBAAoB,KAGtByQ,KAAO,IAcPtC,eAAiB,SAAC3Z,EAAIwZ,GACpB,IAAID,EAAM,KAQV,OAPAC,EAAS5J,QAAQ,SAAA6J,GACZA,EAAEzZ,KAAOA,IACVuZ,EAAME,KAKHF,KAGT2C,mBAAqB,SAAClc,GACpB,IAAIuZ,EAAM,KAQV,OAPA1V,EAAKM,MAAMqV,SAAS5J,QAAQ,SAAA6J,GACvBA,EAAEzZ,IAAMA,IACTuZ,EAAME,EAAEnP,OAKLiP,KAITkB,iBAAmB,SAAC7D,GAAS/S,EAAKc,SAAS,CAACtF,WAAYuX,OAExDpM,aAAe,WACb3G,EAAKsY,qBAEgC,MAAlChS,eAAe0I,QAAQ,QAAgBhP,EAAKiK,gBAGjDvC,cAAgB,WACd/F,MAAM,WACDO,KAAK,kBAAKlC,EAAKc,SAAS,CAAC4N,aAAc,MACvC6J,MAAM,kBAAMvY,EAAKc,SAAS,CAAC4N,aAAc,MAE9CpI,eAAekS,WAGjBF,mBAAqB,WACnBtY,EAAKc,SAAS,CAAC4N,aAAcsD,OAAO1L,eAAe0I,QAAQ,aAG7D/E,WAAa,WACXtI,MAAM,eACDO,KAAK,SAAAmE,GAAG,OAAIA,EAAIhE,SAChBH,KAAK,SAAAb,GACJrB,EAAKc,SAAS,CAACmE,KAAM5D,MAEtBkX,MAAM,SAAAE,GAAG,OAAIzY,EAAK0H,qBAGzBlD,eAAiB,WAEf7C,MAAM,iBACDO,KAAK,SAAAmE,GAAG,OAAIA,EAAIhE,SAChBH,KAAK,SAAAyT,GACJhU,MAAM,0BACDO,KAAK,SAAAmE,GAAG,OAAIA,EAAIhE,SAChBH,KAAK,SAAAb,GACJ,IAAIyK,EAAM,GACVzK,EAAK0K,QAAQ,SAAA6J,GACX,IAAMzZ,EAAKyZ,EAAEzJ,eACT5K,EAAUvB,EAAK8V,eAAe3Z,EAAIwZ,GACtCpU,EAAOtB,OAAA+V,EAAA,EAAA/V,CAAA,GACFsB,EADE,CAELgQ,YAAahQ,EAAQiQ,UAAYoE,EAAE8C,sBAErC5M,EAAIM,KAAK7K,KAEXvB,EAAKc,SAAS,CAAC6U,SAAU7J,WAMvC6M,yBAA2B,WACzB3Y,EAAKc,SAAS,SAAAR,GAAK,MAAK,CAACqH,oBAAqBrH,EAAMqH,yBAGtDiR,QAAU,WACR,IAAMpS,EAAMF,eAAe0I,QAAQ,OAC7BtI,EAAWJ,eAAe0I,QAAQ,YAC9B,MAAPxI,GACC7E,MAAM,qBACDO,KAAK,SAAAmE,GAAG,OAAIA,EAAIhE,SAChBH,KAAM,SAAAb,GACHwX,QAAQC,IAAIzX,GACTqF,IAAarF,EAAKuE,QACnBiT,QAAQC,IAAIpS,GACZqS,MAAM,gCACNzS,eAAekS,QACfxY,EAAKc,SAAS,CAAC4N,aAAc,4FAzG3C,IAAMlI,EAAMF,eAAe0I,QAAQ,OACzB,MAAPxI,IACDlL,KAAKgd,qBACM,MAAR9R,GAAalL,KAAK2O,cAEvB3O,KAAKkJ,iBACLlJ,KAAKsd,UACLtd,KAAK8c,KAAOY,YAAY1d,KAAKkJ,eAAgB,KAC7CyU,OAAOC,iBAAiB,QAAS5d,KAAKsd,wDAwGtCO,cAAc7d,KAAK8c,MACnBa,OAAOG,oBAAoB,QAAS9d,KAAKsd,0CAGlC,IAAAzX,EACkE7F,KAAKgF,MAAtE9E,EADD2F,EACC3F,WAAYkT,EADbvN,EACauN,aAAczJ,EAD3B9D,EAC2B8D,KAAM0Q,EADjCxU,EACiCwU,SAAUhO,EAD3CxG,EAC2CwG,mBAE9C0R,EAAS1d,EAAAC,EAAAC,cAACyd,GAAD,CAAQnd,GAAG,SAASwK,aAAcrL,KAAKqL,aAAce,cAAepM,KAAKoM,cAAegH,aAAcA,EAC5FzJ,KAAMA,EAAMgF,WAAY3O,KAAK2O,WAAYgB,OAAQ3P,KAAK2P,OAAQ0D,iBAAkBrT,KAAKqd,yBACrFhR,mBAAoBA,EAAoBuE,YAAa5Q,KAAK+c,mBAAoB7T,eAAgBlJ,KAAKkJ,iBAK1H,OAFA6U,EAAS1R,EAAqB,KAAO0R,EAGnC1d,EAAAC,EAAAC,cAAA,WAEGwd,EAED1d,EAAAC,EAAAC,cAAC0d,GAAD,CAAa/d,WAAYA,EAAYob,iBAAkBtb,KAAKsb,iBAAkBlI,aAAcA,EAAciH,SAAUA,EAAUnR,eAAgBlJ,KAAKkJ,eACtImD,mBAAoBA,EAAoBgH,iBAAkBrT,KAAKqd,yBAA0B1T,KAAMA,YAhJnFxI,aCRjC+c,IAASC,OAAO9d,EAAAC,EAAAC,cAAC6d,GAAD,MAAQC,SAASC,eAAe","file":"static/js/main.db5f2263.chunk.js","sourcesContent":["import { Fade, Image } from 'react-bootstrap'\r\nimport React, { Component } from 'react'\r\nimport './centerMe.css'\r\n\r\nconst eps = 7e-4;\r\n\r\nfunction equalPositions(pos1, pos2) {\r\n    return Math.abs(pos1[0]-pos2[0]) < eps && Math.abs(pos1[1]-pos2[1]) < eps\r\n}\r\n\r\nexport default class CenterMeBtn extends Component{\r\n    render() {\r\n        const {myPosition, position, onClick } = this.props;\r\n\r\n        return (\r\n            <Fade in={myPosition ? !equalPositions(myPosition, position) : false} timeout={500} >\r\n                <div id=\"center-me\" onClick={onClick}>\r\n                    <Image className=\"fillParent\" src=\"/icons/center_location.png\" circle responsive={true} />\r\n                </div>\r\n            </Fade>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Alert, Button, Modal} from 'react-bootstrap'\r\nimport 'react-widgets/dist/css/react-widgets.css';\r\nimport Moment from 'moment'\r\nimport momentLocalizer from 'react-widgets-moment';\r\nimport {DateTimePicker} from 'react-widgets';\r\n\r\nMoment.locale('hr', {\r\n    months : 'Siječanj_Veljača_Ožujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac'.split('_'),\r\n    monthsShort : 'Sij._Velj._Ožu._Tra._Svi._Lip._Srp._Kol._Ruj._Lis._Stu._Pro.'.split('_'),\r\n    monthsParseExact : true,\r\n    weekdays : 'Nedjelja_Ponedjeljak_Utorak_Srijeda_Četvrtak_Petak_Subota'.split('_'),\r\n    weekdaysShort : 'Ned_Pon_Uto_Sri_Čet_Pet_Sub'.split('_'),\r\n    weekdaysMin : 'N_P_U_S_Č_P_S'.split('_'),\r\n    weekdaysParseExact : true,\r\n    longDateFormat : {\r\n        LT : 'HH:mm',\r\n        LTS : 'HH:mm:ss',\r\n        L : 'DD.MM.YYYY',\r\n        LL : 'D MMMM YYYY',\r\n        LLL : 'D. MMMM YYYY. HH:mm',\r\n        LLLL : 'dddd D MMMM YYYY HH:mm'\r\n    },\r\n    calendar : {\r\n        sameDay : '[Danas] LT',\r\n        nextDay : '[Sutra] LT',\r\n        nextWeek : '[Sljedeći tjedan] LT',\r\n        lastDay : '[Jučer] LT',\r\n        lastWeek : 'dddd [dernier à] LT',\r\n        sameElse : 'L'\r\n    },\r\n    relativeTime : {\r\n        future : 'dans %s',\r\n        past : 'il y a %s',\r\n        s : 'quelques secondes',\r\n        m : 'une minute',\r\n        mm : '%d minutes',\r\n        h : 'une heure',\r\n        hh : '%d heures',\r\n        d : 'un jour',\r\n        dd : '%d jours',\r\n        M : 'un mois',\r\n        MM : '%d mois',\r\n        y : 'un an',\r\n        yy : '%d ans'\r\n    },\r\n    dayOfMonthOrdinalParse : /\\d{1,2}(er|e)/,\r\n    ordinal : function (number) {\r\n        return number + (number === 1 ? 'er' : 'e');\r\n    },\r\n    meridiemParse : /PD|MD/,\r\n    isPM : function (input) {\r\n        return input.charAt(0) === 'M';\r\n    },\r\n    // In case the meridiem units are not separated around 12, then implement\r\n    // this function (look at locale/id.js for an example).\r\n    // meridiemHour : function (hour, meridiem) {\r\n    //     return /* 0-23 hour, given meridiem token and hour 1-12 */ ;\r\n    // },\r\n    meridiem : function (hours, minutes, isLower) {\r\n        return hours < 12 ? 'PD' : 'MD';\r\n    },\r\n    week : {\r\n        dow : 1, // Monday is the first day of the week.\r\n        doy : 4  // Used to determine first week of the year.\r\n    }\r\n});\r\nmomentLocalizer();\r\n\r\n\r\nexport default class JednokratnaRezervacijaForm extends Component {\r\n    state = {\r\n        minDatetime: null,\r\n        datetime: null,\r\n        lenght: 1,\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let d = new Date();\r\n        d.setHours(d.getHours() + 6);\r\n        this.state.datetime = d;\r\n        this.state.minDatetime = d;\r\n    }\r\n\r\n\r\n\r\n    datetimeChange = value => this.setState({datetime: value, alertMsg: null});\r\n    lenghtChange = e => this.setState({lenght: e.target.value, alertMsg: null});\r\n\r\n\r\n    register = () => {\r\n        const {datetime, lenght} = this.state;\r\n        let test = datetime != null;\r\n        let alertMsg = test ? null : 'Morate odabrati vrijeme rezervacije!';\r\n\r\n        if(test) {\r\n            //registriraj na backendu\r\n\r\n            const data = {\r\n              parkingID: this.props.parking.id,\r\n              vrijemePocetka: datetime.getTime(),\r\n              trajanje: lenght\r\n            };\r\n\r\n            fetch('/rezervacije/jednokratne', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(response => {\r\n                    if(response.status != 200) {\r\n                        response.json().then(data => {\r\n                            this.setState({\r\n                                registrationValid: false,\r\n                                alertMsg: data.message\r\n                            });\r\n                        })\r\n                    } else {\r\n                        this.setState({\r\n                            registrationValid: true,\r\n                            alertMsg: \"Uspješna rezervacija!\"\r\n                        });\r\n                        setTimeout(() => this.props.onHide(), 2500)\r\n                    }\r\n                });\r\n\r\n            return;\r\n        }\r\n\r\n\r\n        this.setState({\r\n            registrationValid: test,\r\n            alertMsg: alertMsg\r\n        });\r\n    };\r\n\r\n\r\n    render() {\r\n        const {datetime, lenght, minDatetime, alertMsg, registrationValid } = this.state;\r\n        const {back} = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Body>\r\n                    <p>Izaberite datum i vrijeme rezervacije:</p>\r\n                    <DateTimePicker min={minDatetime} value={datetime} onChange={this.datetimeChange}/>\r\n                    <p><br/>Izaberite trajanje <small>(u satima)</small> rezervacije:</p>\r\n                    <input type='number' min={1} max={24} value={lenght} onChange={this.lenghtChange} />\r\n                    <p><br/></p>\r\n                    {\r\n                        alertMsg ?\r\n                            <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                {alertMsg}\r\n                            </Alert> :\r\n                            null\r\n                    }\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"primary\" onClick={back}>Natrag</Button>{'  '}\r\n                    <Button bsStyle=\"success\" onClick={this.register}>Rezerviraj</Button>\r\n                </Modal.Footer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Alert, Button, Modal, ToggleButton, ToggleButtonGroup} from 'react-bootstrap'\r\nimport 'react-widgets/dist/css/react-widgets.css';\r\nimport {DateTimePicker} from 'react-widgets';\r\n\r\n\r\n\r\nexport default class PonavljajucaRezervacijaForm extends Component {\r\n    state = {\r\n        days: [],\r\n        startTime: new Date(),\r\n        lenght: 1,\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let d = new Date();\r\n        d.setHours(d.getHours() + 6);\r\n        this.state.datetime = d;\r\n        this.state.minDatetime = d;\r\n    }\r\n\r\n    startTimeChange = value => this.setState({startTime: value, alertMsg: null});\r\n\r\n    daysChange = (e) => {\r\n        this.setState({ days: e, alertMsg: null });\r\n    };\r\n\r\n    lenghtChange = e => this.setState({lenght: e.target.value, alertMsg: null});\r\n\r\n\r\n    register = () => {\r\n        const {days, startTime, lenght} = this.state;\r\n        let test = startTime != null;\r\n        let alertMsg = test ? null : 'Morate odabrati vrijeme rezervacije!';\r\n\r\n        if(startTime == null) {\r\n            this.setState({\r\n                registrationValid: false,\r\n                alertMsg: 'Morate odabrati vrijeme rezervacije!'\r\n            });\r\n            return;\r\n        } else if(days.length === 0) {\r\n            this.setState({\r\n                registrationValid: false,\r\n                alertMsg: 'Morate odabrati barem jedan dan u tjednu'\r\n            });\r\n            return;\r\n        }\r\n\r\n        if(test) {\r\n            const st = String(startTime.getHours()) + ':' + startTime.getMinutes();\r\n\r\n            const data = {\r\n                parkingID: this.props.parking.id,\r\n                dani: days,\r\n                vrijemePocetka: st,\r\n                trajanje: lenght\r\n            };\r\n\r\n            fetch('/rezervacije/ponavljajuce', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(response => {\r\n                    if(response.status != 200) {\r\n                        response.json().then(data => {\r\n                            this.setState({\r\n                                registrationValid: false,\r\n                                alertMsg: data.message\r\n                            });\r\n                        })\r\n                    } else {\r\n                        this.setState({\r\n                            registrationValid: true,\r\n                            alertMsg: \"Uspješna rezervacija!\"\r\n                        });\r\n                        setTimeout(() => this.props.onHide(), 2500)\r\n                    }\r\n                });\r\n        }\r\n    };\r\n\r\n\r\n    render() {\r\n        const {days, startTime, lenght, alertMsg, registrationValid } = this.state;\r\n        const {back} = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Body>\r\n                    <p>Izaberite dane u tjednu koje želite rezervirati:</p>\r\n                    <ToggleButtonGroup type=\"checkbox\" value={days} onChange={this.daysChange}>\r\n                        <ToggleButton bsStyle='warning' value={2}>Pon</ToggleButton>\r\n                        <ToggleButton bsStyle='warning' value={3}>Uto</ToggleButton>\r\n                        <ToggleButton bsStyle='warning' value={4}>Sri</ToggleButton>\r\n                        <ToggleButton bsStyle='warning' value={5}>Čet</ToggleButton>\r\n                        <ToggleButton bsStyle='warning' value={6}>Pet</ToggleButton>\r\n                        <ToggleButton bsStyle='warning' value={7}>Sub</ToggleButton>\r\n                        <ToggleButton bsStyle='warning' value={1}>Ned</ToggleButton>\r\n                    </ToggleButtonGroup>\r\n                    <p><br/>Izaberite vrijeme početka rezervacije u danu</p>\r\n                    <DateTimePicker value={startTime} value={startTime} onChange={this.startTimeChange} date={false}/>\r\n                    <p><br/>Izaberite trajanje <small>(u satima)</small> rezervacije:</p>\r\n                    <input type='number' min={1} max={24} value={lenght} onChange={this.lenghtChange} />\r\n                    <p><br/></p>\r\n                    {\r\n                        alertMsg ?\r\n                            <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                {alertMsg}\r\n                            </Alert> :\r\n                            null\r\n                    }\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"primary\" onClick={back}>Natrag</Button>{'  '}\r\n                    <Button bsStyle=\"success\" onClick={this.register}>Rezerviraj</Button>\r\n                </Modal.Footer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Alert, Button, Modal, Well} from 'react-bootstrap'\r\n\r\n\r\n\r\n\r\nexport default class TrajnaRezervacijaForm extends Component {\r\n    state = {\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n    register = () => {\r\n        const data = {\r\n            parkingID: this.props.parking.id,\r\n        };\r\n\r\n        fetch('/rezervacije/trajna', {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(response => {\r\n                if(response.status != 200) {\r\n                    response.json().then(data => {\r\n                        this.setState({\r\n                            registrationValid: false,\r\n                            alertMsg: data.message\r\n                        });\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        registrationValid: true,\r\n                        alertMsg: \"Uspješna rezervacija!\"\r\n                    });\r\n                    this.props.parkingsUpdate();\r\n                    setTimeout(() => this.props.onHide(), 2500)\r\n                }\r\n            });\r\n    };\r\n\r\n\r\n    render() {\r\n        const {back} = this.props;\r\n        const {alertMsg, registrationValid} = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Body>\r\n                    <Well>\r\n                        Trajna rezervacija počinje od trenutka kada kliknete gumb <i>rezerviraj</i>.<br/>\r\n                        Neograničeno ćete biti rezervirani u odabranom parkiralištu.<br/>\r\n                        Da biste rezervaciju ukinuli idite na izbornik <i>Trajne rezervacije</i> te ukiniti ovu trajnu rezervaciju.\r\n                    </Well>\r\n                    {\r\n                        alertMsg ?\r\n                            <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                {alertMsg}\r\n                            </Alert> :\r\n                            null\r\n                    }\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"primary\" onClick={back}>Natrag</Button>{'  '}\r\n                    <Button bsStyle=\"success\" onClick={this.register}>Rezerviraj</Button>\r\n                </Modal.Footer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Button, Modal, Well} from \"react-bootstrap\";\r\nimport './registrationModal.css'\r\nimport JednokratnaRezervacijaForm from './jednokratnaRezervacijaForm'\r\nimport PonavljajucaRezervacijaForm from './ponavljajucaRezervacijaForm'\r\nimport TrajnaRezervacijaForm from './trajnaRezervacijaForm'\r\n\r\nexport default class ReserveModal extends Component {\r\n    state = {\r\n        stage: null\r\n    };\r\n\r\n    hide = () => {\r\n        this.props.onHide();\r\n        setTimeout(this.resetStage, 200);\r\n    };\r\n\r\n    onChoose = (e) => {\r\n        this.setState({stage: e.target.name});\r\n    };\r\n\r\n    resetStage = () => {\r\n        this.setState({stage: null});\r\n    };\r\n\r\n    render() {\r\n        const { show, onHide, parking, cars, parkingsUpdate } = this.props;\r\n        const { stage } = this.state;\r\n\r\n        let body = null;\r\n        if(stage == null) {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Odaberite vrstu rezervacije:</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className='center1'>\r\n                            <div className='center2'>\r\n                                <div className=\"reg-choose\">\r\n                                    <Button name=\"jednokratna\" className=\"reg-btn\"  bsStyle=\"info\" onClick={this.onChoose}>Jednokratna</Button>\r\n                                    <p>Jednokratna rezervacija za <b>vremenski period kraći od 24 sata</b> i to morate obaviti <b>barem 6 sati unaprijed</b>.</p>\r\n                                </div>\r\n                                <div className=\"reg-choose\">\r\n                                    <Button name=\"ponavljajuca\" className=\"reg-btn\" bsStyle=\"info\" onClick={this.onChoose}>Ponavljajuća</Button>\r\n                                    <p>Rezervacija koja se <b>ponavlja tjedno</b> sljedećih <b>mjesec dana</b>.</p>\r\n                                </div>\r\n                                <div className=\"reg-choose\">\r\n                                    <Button name=\"trajna\" className=\"reg-btn\" bsStyle=\"info\" onClick={this.onChoose}>Trajna</Button>\r\n                                    <p>Rezervacija na <b>neograničeni period</b> (sve dok ju ne ukinete).</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </div>\r\n            );\r\n        } else if(stage == \"jednokratna\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Jednokratna rezervacija</Modal.Title>\r\n                    </Modal.Header>\r\n                    <JednokratnaRezervacijaForm back={this.resetStage} onHide={this.hide} parking={parking}/>\r\n                </div>\r\n            );\r\n        } else if(stage == \"ponavljajuca\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Ponavljajuća rezervacija</Modal.Title>\r\n                    </Modal.Header>\r\n                    <PonavljajucaRezervacijaForm back={this.resetStage} onHide={this.hide} parking={parking}/>\r\n                </div>\r\n            );\r\n        } else if(stage == \"trajna\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Trajna rezervacija</Modal.Title>\r\n                    </Modal.Header>\r\n                    <TrajnaRezervacijaForm back={this.resetStage} onHide={this.hide} parking={parking} parkingsUpdate={parkingsUpdate}/>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Modal className=\"registration-modal\" show={show} onHide={this.hide} keyboard={true}>\r\n                {cars.length != 0 ?\r\n                    body :\r\n                    <div>\r\n                        <Modal.Header closeButton onHide={onHide}>\r\n                            <Modal.Title>Trenutno nije moguće rezervirati</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Well>\r\n                            <p>\r\n                                Nemate registriran nijedan automobil.<br/>\r\n                                Idite u izbornik <i>Automobili</i> te dodajte barem jedan automobil.\r\n                            </p>\r\n                        </Well>\r\n                    </div>\r\n                    }\r\n            </Modal>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Fade} from \"react-bootstrap\";\r\nimport './loadingIcon.css'\r\n\r\nexport default class LoadingIcon extends Component {\r\n    render() {\r\n        const { show } = this.props;\r\n\r\n        return (\r\n            <Fade in={show}>\r\n                <img alt='Učitavam...' src=\"./icons/loading.gif\"/>\r\n            </Fade>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Button, FormGroup, FormControl, HelpBlock} from \"react-bootstrap\";\r\nimport './navBar.css'\r\nimport LoadingIcon from './loadingIcon'\r\n\r\nexport default class NavBarLogin extends Component {\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        loginLoading: false,\r\n        invalidLogin: false\r\n    };\r\n\r\n    logIn = (event) => {\r\n        event.preventDefault();\r\n        this.setState({loginLoading: true});\r\n        const {email, password} = this.state;\r\n        let body = new FormData();\r\n        body.append('username', email);\r\n        body.append('password', password);\r\n        const options = {\r\n            method: 'POST',\r\n            body: body\r\n        };\r\n        fetch('/login', options)\r\n            .then(res => {\r\n                if(res.status != 200) {\r\n                    this.setState({loginLoading: false});\r\n                    setTimeout(() => this.setState({invalidLogin: true}), 10);\r\n                    return;\r\n                } else {\r\n                    res.json().then(data => {\r\n                        sessionStorage.setItem('tip', data.tip);\r\n                        sessionStorage.setItem('name', data.ime);\r\n                        sessionStorage.setItem('id', data.id);\r\n                        sessionStorage.setItem('username', data.username);\r\n                        this.setState({loginLoading: false});\r\n                        setTimeout(this.props.loginSuccess, 10);\r\n                    });\r\n                }\r\n            });\r\n    };\r\n\r\n    updateLogin = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n            invalidLogin: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {email, password, loginLoading, invalidLogin} = this.state;\r\n\r\n        return (\r\n\r\n            <form onSubmit={this.logIn}>\r\n                    <FormGroup validationState={invalidLogin ? 'error' : null}>\r\n                        <FormControl name=\"email\" value={email} type=\"email\" placeholder=\"e-mail\"\r\n                                     onChange={this.updateLogin} autoComplete=\"email\"/> {' '}\r\n                        <FormControl name=\"password\" value={password} type=\"password\" placeholder=\"lozinka\"\r\n                                     onChange={this.updateLogin} autoComplete=\"current-password\"/>\r\n                        {' '}\r\n                        <Button bsStyle=\"success\" type=\"submit\" onClick={this.logIn}\r\n                                disabled={loginLoading}>\r\n                            {loginLoading ? 'Provjera...' : 'Prijavi se'}\r\n                        </Button> {'  '}\r\n                        <HelpBlock className=\"inline\">{invalidLogin ? 'Neispravni podatci.' : null}</HelpBlock>\r\n                        <LoadingIcon show={loginLoading}/>\r\n                    </FormGroup>\r\n            </form>\r\n\r\n        );\r\n    }\r\n\r\n}","import React, {Component} from 'react'\r\nimport {Button, Navbar } from \"react-bootstrap\";\r\nimport LoadingIcon from './loadingIcon'\r\n\r\nexport default class LogoutBtn extends Component{\r\n    state = {\r\n        isLoggingOut: false\r\n    };\r\n\r\n    sendLogoutReq = () => {\r\n        this.setState({isLoggingOut: true});\r\n        //posalji zahtjev na server za logout\r\n\r\n        this.props.logoutSuccess();\r\n        setTimeout(() => {this.setState({isLoggingOut: false})}, 5000);\r\n    };\r\n\r\n    render() {\r\n        const { isLoggingOut } = this.state;\r\n        const { isAddingNewParking } = this.props;\r\n\r\n        return (\r\n            <Navbar.Form pullRight>\r\n                <Button bsStyle=\"danger\" disabled={isAddingNewParking} onClick={this.sendLogoutReq}>Odjavi se</Button>\r\n                {'   '}\r\n                <LoadingIcon show={isLoggingOut}/>\r\n            </Navbar.Form>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {\r\n    FormGroup,\r\n    Form,\r\n    Alert,\r\n    FormControl,\r\n    HelpBlock,\r\n    Modal,\r\n    Button\r\n} from 'react-bootstrap'\r\n\r\nexport default class UserRegisterForm extends Component {\r\n    state = {\r\n        oib: '',\r\n        ime: '',\r\n        prezime: '',\r\n        email: '',\r\n        password: '',\r\n        creditCardNumber: '',\r\n        voib: null,\r\n        vime: null,\r\n        vprezime: null,\r\n        vemail: null,\r\n        vpassword: null,\r\n        vcreditCardNumber: null,\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n    emailChange = (e) => {\r\n        const email = e.target.value;\r\n        let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        let test = re.test(email.toLowerCase());\r\n        this.setState({\r\n            email: email,\r\n            vemail: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    imeChange = (e) => {\r\n        const ime = e.target.value;\r\n        let test = ime.length > 0;\r\n        this.setState({\r\n            ime: ime,\r\n            vime: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    prezimeChange = (e) => {\r\n        const prezime = e.target.value;\r\n        let test = prezime.length > 0;\r\n        this.setState({\r\n            prezime: prezime,\r\n            vprezime: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    passwordChange = (e) => {\r\n        const password = e.target.value;\r\n        let test = password.length > 4;\r\n        this.setState({\r\n            password: password,\r\n            vpassword: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    oibChange = (e) => {\r\n        const oib = e.target.value;\r\n        let test = oib.length == 11 && /^\\d+$/.test(oib);\r\n        this.setState({\r\n            oib: oib,\r\n            voib: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    creditCardNumberChange = (e) => {\r\n        const ccn = e.target.value;\r\n        let test = ccn.length >= 13 && ccn.length <= 16 && /^\\d+$/.test(ccn);\r\n        this.setState({\r\n            creditCardNumber: ccn,\r\n            vcreditCardNumber: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    validationState = (test) => {\r\n        if(test == null) return null;\r\n        return test ? \"success\" : \"error\";\r\n    };\r\n\r\n    register = () => {\r\n        const {voib, vime, vprezime, vemail, vpassword, vcreditCardNumber } = this.state;\r\n        const {oib, ime, prezime, creditCardNumber, email, password} = this.state;\r\n        let test = (voib && vime && vprezime && vemail && vpassword && vcreditCardNumber);\r\n        let alertMsg = test ? null : \"Krivi podatci.\";\r\n\r\n        if(test) {\r\n            //registriraj na backendu\r\n            const data = {\r\n                oib: oib,\r\n                ime: ime,\r\n                prezime: prezime,\r\n                email: email,\r\n                passwordHash: password,\r\n                brojKreditneKartice: creditCardNumber\r\n            };\r\n\r\n            fetch('/korisnici', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(response => {\r\n                    if(response.status != 200) {\r\n                        response.json().then(data => {\r\n                            this.setState({\r\n                                registrationValid: false,\r\n                                alertMsg: data.message\r\n                            });\r\n                        })\r\n                    } else {\r\n                        this.setState({\r\n                            registrationValid: true,\r\n                            alertMsg: \"Uspješna registracija! Sada se možete prijaviti.\"\r\n                        });\r\n                        setTimeout(() => this.props.onHide(), 3500);\r\n                    }\r\n                });\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            registrationValid: test,\r\n            alertMsg: alertMsg\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {oib, ime, prezime, email, password, creditCardNumber, voib, vime, vprezime, vemail, vpassword, vcreditCardNumber, alertMsg, registrationValid } = this.state;\r\n        const {back} = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Body>\r\n                    <small>sva polja su obavezna*</small>\r\n                    <Form>\r\n                        <FormGroup validationState={this.validationState(vemail)}>\r\n                            <h5><b>E-mail</b></h5>\r\n                            <FormControl name=\"email\" type=\"email\" value={email} onChange={this.emailChange} autoComplete=\"email\"/>\r\n                            <HelpBlock>{(vemail == null) || (vemail ? '' : 'Krivi format')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vpassword)}>\r\n                            <h5><b>Lozinka</b></h5>\r\n                            <FormControl name=\"password\" type=\"password\" value={password} onChange={this.passwordChange} autoComplete=\"new-password\"/>\r\n                            <HelpBlock>{(vpassword == null) || (vpassword ? '' : 'Prekratka lozinka')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vime)}>\r\n                            <h5><b>Ime</b></h5>\r\n                            <FormControl name=\"ime\" type=\"text\" value={ime} onChange={this.imeChange}/>\r\n                            <HelpBlock>{(vime == null) || (vime ? '' : 'Morate unjeti ime')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vprezime)}>\r\n                            <h5><b>Prezime</b></h5>\r\n                            <FormControl name=\"prezime\" type=\"text\" value={prezime} onChange={this.prezimeChange}/>\r\n                            <HelpBlock>{(vprezime == null) || (vprezime ? '' : 'Morate unjeti prezime')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(voib)}>\r\n                            <h5><b>OIB</b></h5>\r\n                            <FormControl name=\"oib\" type=\"text\" value={oib} onChange={this.oibChange}/>\r\n                            <HelpBlock>{(voib == null) || (voib ? '' : 'Neispravan OIB')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vcreditCardNumber)}>\r\n                            <h5><b>Broj kreditne kartice</b></h5>\r\n                            <FormControl name=\"creditCardNumber\" type=\"text\" value={creditCardNumber} onChange={this.creditCardNumberChange} autoComplete=\"cc-number\"/>\r\n                            <HelpBlock>{(vcreditCardNumber == null) || (vcreditCardNumber ? '' : 'Neispravan broj kreditne kartice')}</HelpBlock>\r\n                        </FormGroup>\r\n                        {\r\n                            alertMsg ?\r\n                                <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                    {alertMsg}\r\n                                </Alert> :\r\n                                null\r\n                        }\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"primary\" onClick={back}>Natrag</Button>{'  '}\r\n                    <Button bsStyle=\"success\" onClick={this.register}>Registriraj se</Button>\r\n                </Modal.Footer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {\r\n    FormGroup,\r\n    Form,\r\n    Alert,\r\n    FormControl,\r\n    HelpBlock,\r\n    Modal,\r\n    Button\r\n} from 'react-bootstrap'\r\n\r\nexport default class CompanyRegisterForm extends Component {\r\n    state = {\r\n        oib: '',\r\n        ime: '',\r\n        email: '',\r\n        password: '',\r\n        address: '',\r\n        voib: null,\r\n        vime: null,\r\n        vemail: null,\r\n        vpassword: null,\r\n        vaddress: null,\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n    emailChange = (e) => {\r\n        const email = e.target.value;\r\n        let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        let test = re.test(email.toLowerCase());\r\n        this.setState({\r\n            email: email,\r\n            vemail: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    imeChange = (e) => {\r\n        const ime = e.target.value;\r\n        let test = ime.length > 0;\r\n        this.setState({\r\n            ime: ime,\r\n            vime: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    passwordChange = (e) => {\r\n        const password = e.target.value;\r\n        let test = password.length > 4;\r\n        this.setState({\r\n            password: password,\r\n            vpassword: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    oibChange = (e) => {\r\n        const oib = e.target.value;\r\n        let test = oib.length === 11 && /^\\d+$/.test(oib);\r\n        this.setState({\r\n            oib: oib,\r\n            voib: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    addressChange = (e) => {\r\n        const address = e.target.value;\r\n        let test = address.length > 0;\r\n        this.setState({\r\n            address: address,\r\n            vaddress: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    validationState = (test) => {\r\n        if(test == null) return null;\r\n        return test ? \"success\" : \"error\";\r\n    };\r\n\r\n    register = () => {\r\n        this.setState({showLoadinIcon: true});\r\n        const {voib, vime, vemail, vpassword, vaddress } = this.state;\r\n        const {oib, ime, email, password, address } = this.state;\r\n        let test = (voib && vime && vemail && vpassword && vaddress);\r\n        let alertMsg = test ? null : \"Krivi podatci.\";\r\n\r\n        if(test) {\r\n            const data = {\r\n                oib: oib,\r\n                ime: ime,\r\n                email: email,\r\n                passwordHash: password,\r\n                adresaSjedista: address\r\n            };\r\n\r\n            fetch('/tvrtke', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(response => {\r\n                    if(response.status != 200) {\r\n                        response.json().then(data => {\r\n                            this.setState({\r\n                                registrationValid: false,\r\n                                alertMsg: data.message\r\n                            });\r\n                        })\r\n                    } else {\r\n                        this.setState({\r\n                            registrationValid: true,\r\n                            alertMsg: \"Uspješna registracija! Sada se možete prijaviti.\"\r\n                        });\r\n                        setTimeout(() => this.props.onHide(), 3500);\r\n                    }\r\n                });\r\n\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            registrationValid: test,\r\n            alertMsg: alertMsg\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {oib, ime, email, password, address, voib, vime, vemail, vpassword, vaddress, alertMsg, registrationValid } = this.state;\r\n        const {back} = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Body>\r\n                    <small>sva polja su oabvezna*</small>\r\n                    <Form>\r\n                        <FormGroup validationState={this.validationState(vemail)}>\r\n                            <h5><b>E-mail</b></h5>\r\n                            <FormControl name=\"email\" type=\"email\" value={email} onChange={this.emailChange} autoComplete=\"email\"/>\r\n                            <HelpBlock>{(vemail == null) || (vemail ? '' : 'Krivi format')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vpassword)}>\r\n                            <h5><b>Lozinka</b></h5>\r\n                            <FormControl name=\"password\" type=\"password\" value={password} onChange={this.passwordChange} autoComplete=\"new-password\"/>\r\n                            <HelpBlock>{(vpassword == null) || (vpassword ? '' : 'Prekratka lozinka')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vime)}>\r\n                            <h5><b>Ime</b></h5>\r\n                            <FormControl name=\"ime\" type=\"text\" value={ime} onChange={this.imeChange} autoComplete=\"organization\"/>\r\n                            <HelpBlock>{(vime == null) || (vime ? '' : 'Morate unjeti ime')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(voib)}>\r\n                            <h5><b>OIB</b></h5>\r\n                            <FormControl name=\"oib\" type=\"text\" value={oib} onChange={this.oibChange}/>\r\n                            <HelpBlock>{(voib == null) || (voib ? '' : 'Neispravan OIB')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vaddress)}>\r\n                            <h5><b>Adresa sjedišta</b></h5>\r\n                            <FormControl name=\"address\" type=\"address\" value={address} onChange={this.addressChange} autoComplete=\"address-line1\"/>\r\n                            <HelpBlock>{(vaddress == null) || (vaddress ? '' : 'Morate unijeti adresu')}</HelpBlock>\r\n                        </FormGroup>\r\n                        {\r\n                            alertMsg ?\r\n                                <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                    {alertMsg}\r\n                                </Alert> :\r\n                                null\r\n                        }\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"primary\" onClick={back}>Natrag</Button>{'  '}\r\n                    <Button bsStyle=\"success\" onClick={this.register}>Registriraj se</Button>\r\n                </Modal.Footer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport { Button, Modal} from \"react-bootstrap\";\r\nimport './registrationModal.css'\r\nimport UserRegisterForm from \"./userRegisterForm\";\r\nimport CompanyRegisterForm from './companyRegisterForm'\r\n\r\nexport default class RegistrationModal extends Component {\r\n    state = {\r\n        stage: null\r\n    };\r\n\r\n    hide = () => {\r\n        this.props.onHide();\r\n        setTimeout(this.resetStage, 200);\r\n    };\r\n\r\n    onChoose = (e) => {\r\n        this.setState({stage: e.target.name});\r\n    };\r\n\r\n    resetStage = () => {\r\n        this.setState({stage: null});\r\n    };\r\n\r\n    render() {\r\n        const { show, onHide } = this.props;\r\n        const { stage } = this.state;\r\n\r\n        let body = null;\r\n        if(stage == null) {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Odaberite vrstu registracije:</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className='center'>\r\n                            <div className=\"reg-choose\">\r\n                                <Button name=\"tvrtka\" className=\"reg-btn\"  bsStyle=\"info\" onClick={this.onChoose}>Tvrtka</Button>\r\n                                <p>Moći ćete <b>nuditi usluge parkinga</b> kroz ovu aplikaciju.</p>\r\n                            </div>\r\n                            <div className=\"reg-choose\">\r\n                                <Button name=\"korisnik\" className=\"reg-btn\" bsStyle=\"info\" onClick={this.onChoose}>Korisnik</Button>\r\n                                <p>Moći ćete <b>rezervirati parking</b> kroz ovu aplikaciju.</p>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </div>\r\n            );\r\n        } else if(stage == \"tvrtka\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Registracija tvrtke:</Modal.Title>\r\n                    </Modal.Header>\r\n                    <CompanyRegisterForm back={this.resetStage} onHide={this.hide}/>\r\n                </div>\r\n            );\r\n        } else if(stage == \"korisnik\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Registracija korisnika:</Modal.Title>\r\n                    </Modal.Header>\r\n                    <UserRegisterForm back={this.resetStage} onHide={this.hide}/>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Modal className=\"registration-modal\" show={show} onHide={this.hide} keyboard={true}>\r\n                {body}\r\n            </Modal>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport './carItem.css'\r\nimport {Button, Fade} from \"react-bootstrap\";\r\n\r\nclass CarItem extends Component {\r\n    state = {\r\n        show: true\r\n    };\r\n\r\n    carRemoved = () => {\r\n        fetch('/automobili/' + this.props.car.registracijskaOznaka, {\r\n           method: 'DELETE'\r\n        });\r\n\r\n        this.setState({show:false});\r\n        setTimeout(() => this.props.carsUpdate(), 10);\r\n    };\r\n\r\n    render() {\r\n        const {car} = this.props;\r\n        const {show} = this.state;\r\n\r\n        return (\r\n            <Fade in={show}>\r\n                <li className=\"list-group-item\">\r\n                    <h5><b>{car.ime}</b></h5>  <small>registracija:</small> {car.registracijskaOznaka}\r\n                    <Button className=\"right\" bsStyle=\"danger\" bsSize=\"xsmall\" onClick={this.carRemoved}>Ukloni</Button>\r\n                </li>\r\n            </Fade>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CarItem;","import React, {Component} from 'react';\r\nimport {ListGroup} from \"react-bootstrap\";\r\nimport CarItem from './carItem'\r\n\r\nclass CarsList extends Component {\r\n    render() {\r\n        const {cars, carsUpdate} = this.props;\r\n\r\n        return (\r\n            <ListGroup componentClass=\"ul\">\r\n                {cars.map(car => <CarItem key={car.registracijskaOznaka} car={car} carsUpdate={carsUpdate} />)}\r\n            </ListGroup>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CarsList;","import React, {Component} from 'react'\r\nimport {\r\n    FormGroup,\r\n    Form,\r\n    Alert,\r\n    FormControl,\r\n    HelpBlock,\r\n    Modal,\r\n    Button\r\n} from 'react-bootstrap'\r\n\r\nexport default class CarRegisterForm extends Component {\r\n    state = {\r\n        ime: '',\r\n        registracija: '',\r\n        vime: null,\r\n        vregistracija: null,\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n\r\n    imeChange = (e) => {\r\n        const ime = e.target.value;\r\n        let test = ime.length > 0;\r\n        this.setState({\r\n            ime: ime,\r\n            vime: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    registracijaChange = (e) => {\r\n        const registracija = e.target.value;\r\n        let test = /^[a-zA-Z]{2}-[0-9]{3,4}-[a-zA-Z]{1,2}$/.test(registracija);\r\n        this.setState({\r\n            registracija: registracija,\r\n            vregistracija: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n\r\n    validationState = (test) => {\r\n        if(test == null) return null;\r\n        return test ? \"success\" : \"error\";\r\n    };\r\n\r\n    register = () => {\r\n        const {vime, vregistracija, ime, registracija} = this.state;\r\n        let test = (vime && vregistracija);\r\n\r\n        if(test) {\r\n            //registriraj na backendu\r\n\r\n            const data = {\r\n                ime: ime,\r\n                registracijskaOznaka: registracija.toUpperCase()\r\n            };\r\n\r\n            fetch('/automobili', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            }).then(response => {\r\n                if(response.status != 200) {\r\n                    this.setState({\r\n                        registrationValid: false,\r\n                        alertMsg: 'Automobil s danom registracijom već postoji.'\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        registrationValid: true,\r\n                        alertMsg: 'Uspješna registracija automobila!'\r\n                    });\r\n                    this.props.carsUpdate();\r\n                    setTimeout(() => this.props.back(), 2500);\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({\r\n                registrationValid: false,\r\n                alertMsg: 'Neispravni podatci!'\r\n            });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { ime, registracija, vime, vregistracija, alertMsg, registrationValid } = this.state;\r\n        const {back} = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <FormGroup validationState={this.validationState(vime)}>\r\n                            <h5><b>Naziv</b></h5>\r\n                            <FormControl name=\"ime\" type=\"text\" value={ime} onChange={this.imeChange}/>\r\n                            <HelpBlock>{(vime == null) || (vime ? '' : 'Morate unjeti naziv')}</HelpBlock>\r\n                        </FormGroup>\r\n                        <FormGroup validationState={this.validationState(vregistracija)}>\r\n                            <h5><b>Registracija</b></h5>\r\n                            <FormControl name=\"registracija\" type=\"text\" value={registracija} onChange={this.registracijaChange}/>\r\n                            <HelpBlock>{(vregistracija == null) || (vregistracija ? '' : 'format: AB-1234-CD')}</HelpBlock>\r\n                        </FormGroup>\r\n                        {\r\n                            alertMsg ?\r\n                                <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                    {alertMsg}\r\n                                </Alert> :\r\n                                null\r\n                        }\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button bsStyle=\"primary\" onClick={back}>Natrag</Button>{'  '}\r\n                    <Button bsStyle=\"success\" onClick={this.register}>Registriraj automobil</Button>\r\n                </Modal.Footer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Button, Modal} from \"react-bootstrap\";\r\nimport './registrationModal.css'\r\nimport CarsList from './carsList'\r\nimport CarRegisterForm from './carRegisterForm'\r\n\r\nexport default class CarsModal extends Component {\r\n    state = {\r\n        stage: 0\r\n    };\r\n\r\n    hide = () => {\r\n        this.props.onHide();\r\n        setTimeout(this.downStage, 200);\r\n    };\r\n\r\n    upStage = () => {\r\n      this.setState({stage: 1});\r\n    };\r\n\r\n    downStage = () => {\r\n      this.setState({stage: 0});\r\n    };\r\n\r\n    render() {\r\n        const { show, cars, carsUpdate, addCar } = this.props;\r\n        const { stage } = this.state;\r\n\r\n        let list = null;\r\n\r\n        if (cars.length == 0) {\r\n            list = <div className=\"center\"><h4>Niste registrirali niti jedan automobil.</h4></div>\r\n        } else {\r\n            list = <CarsList cars={cars} carsUpdate={carsUpdate}/>\r\n        }\r\n\r\n        let body = null;\r\n        if(stage == 0) {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={this.hide}>\r\n                        <Modal.Title>Vaši automobili</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {list}\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button bsStyle=\"primary\" onClick={this.upStage}>Dodaj automobil</Button>\r\n                    </Modal.Footer>\r\n                </div>\r\n            );\r\n        } else if(stage == 1) {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={this.hide}>\r\n                        <Modal.Title>Registracija automobila:</Modal.Title>\r\n                    </Modal.Header>\r\n                    <CarRegisterForm back={this.downStage} addCar={addCar} carsUpdate={carsUpdate}/>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Modal show={show} onHide={this.hide} keyboard={true}>\r\n                {body}\r\n            </Modal>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport './carItem.css'\r\nimport {Button, Fade} from \"react-bootstrap\";\r\nimport './reservationItem.css'\r\n\r\nclass ReservationItem extends Component {\r\n    state = {\r\n        show: true\r\n    };\r\n\r\n    reservationRemoved = () => {\r\n        this.setState({show:false});\r\n\r\n        fetch('/rezervacije/trajna/'+this.props.reservation.id, {\r\n            method: 'DELETE'\r\n        }).then( res => {\r\n            setTimeout(() => this.props.reservationsUpdate(), 200);\r\n        });\r\n\r\n    };\r\n\r\n    render() {\r\n        const {reservation} = this.props;\r\n        const {show} = this.state;\r\n\r\n        return (\r\n            <Fade in={show}>\r\n                <li className=\"list-group-item\">\r\n                    <div className='reservation'>\r\n                    <h5><small>parkiralište: </small><b>{reservation.parkiraliste}</b></h5>\r\n                    <Button className=\"right\" bsStyle=\"danger\" bsSize=\"xsmall\" onClick={this.reservationRemoved}>Ukini</Button>\r\n                    </div>\r\n                </li>\r\n            </Fade>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ReservationItem;","import React, {Component} from 'react';\r\nimport './registrationModal.css'\r\nimport {Fade} from \"react-bootstrap\";\r\n\r\nexport default class LoadingIconModal extends Component {\r\n    render() {\r\n        const { show } = this.props;\r\n\r\n        return (\r\n            <div className='center'>\r\n                <Fade in={show}>\r\n                    <img alt='Učitavam...' src=\"./icons/loading_modal.gif\"/>\r\n                </Fade>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {ListGroup} from \"react-bootstrap\";\r\nimport ReservationItem from './reservationItem'\r\nimport LoadingIconModal from './loadingIconModal'\r\n\r\nclass ReservationsList extends Component {\r\n    state = {\r\n        reservations: [],\r\n        loading: true\r\n    };\r\n\r\n    componentWillMount() {\r\n        this.reservationsUpdate();\r\n    }\r\n\r\n    reservationsUpdate = () => {\r\n        fetch('/rezervacije')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n               let rez = [];\r\n               data.forEach(r => {\r\n                   if(r.trajna) {\r\n                       const reservation = {\r\n                           id: r.id,\r\n                           parkiraliste: this.props.parkingName(r.parkiralisteID)\r\n                       };\r\n                       rez.push(reservation);\r\n                   }\r\n               });\r\n               this.setState({\r\n                   reservations: rez,\r\n                   loading: false\r\n               });\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const {reservations, loading} = this.state;\r\n\r\n        if(loading) {\r\n            return <LoadingIconModal show={loading}/>;\r\n        }\r\n\r\n        if(reservations.length === 0) {\r\n            return <h3>Nemate trajnih rezervacija.</h3>\r\n        }\r\n\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <ListGroup componentClass=\"ul\">\r\n                    {reservations.map(reservation => <ReservationItem key={reservation.id} reservation={reservation} reservationsUpdate={this.reservationsUpdate}/>)}\r\n                </ListGroup>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ReservationsList;","import React, {Component} from 'react'\r\nimport {Modal} from \"react-bootstrap\";\r\nimport './registrationModal.css'\r\nimport ReservationsList from './reservationsList'\r\n\r\nexport default class ReservationsModal extends Component {\r\n    render() {\r\n        const { show, onHide, parkingName } = this.props;\r\n\r\n\r\n        return (\r\n            <Modal show={show} onHide={onHide} keyboard={true}>\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Vaše trajne rezervacije</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <ReservationsList parkingName={parkingName}/>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <small>Napravite novu rezervaciju tako da kliknete na željeno parkiralište na karti te potom gumb 'rezerviraj'.</small>\r\n                    </Modal.Footer>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport {Table, Button} from \"react-bootstrap\";\r\n\r\nfunction TvrtkaRow(props) {\r\n\r\n    function removeTvrtka() {\r\n        fetch('/tvrtke/'+props.company.email, {\r\n            method: 'DELETE'\r\n        }).then(() => {\r\n            props.update();\r\n            props.parkingsUpdate();\r\n        });\r\n    }\r\n\r\n    return (\r\n        <tr>\r\n            <td>{props.company.oib}</td>\r\n            <td>{props.company.ime}</td>\r\n            <td>{props.company.email}</td>\r\n            <td>{props.company.adresaSjedista}</td>\r\n            <td><Button bsStyle='danger' bsSize='xsmall' onClick={removeTvrtka}>Izbriši</Button></td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nfunction KorisnikRow(props) {\r\n\r\n    function removeKorisnik() {\r\n        fetch('/korisnici/'+props.user.email, {\r\n            method: 'DELETE'\r\n        }).then(() => props.update());\r\n    }\r\n\r\n    return (\r\n        <tr>\r\n            <td>{props.user.oib}</td>\r\n            <td>{props.user.ime} {props.user.prezime}</td>\r\n            <td>{props.user.email}</td>\r\n            <td><Button bsStyle='danger' bsSize='xsmall' onClick={removeKorisnik}>Izbriši</Button></td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport default class UsersList extends Component {\r\n    render() {\r\n        const {type, users, companies, updateUsers, parkingsUpdate} = this.props;\r\n\r\n        let head = null, body = null;\r\n\r\n        if(type === 'tvrtke') {\r\n\r\n            head = (\r\n                <thead>\r\n                    <tr>\r\n                        <th>OIB</th>\r\n                        <th>Naziv</th>\r\n                        <th>E-mail</th>\r\n                        <th>Adresa sjedišta</th>\r\n                        <th>#</th>\r\n                    </tr>\r\n                </thead>\r\n            );\r\n            body = (\r\n                <tbody>\r\n                {\r\n                    companies.map(company =>\r\n                       <TvrtkaRow  key={company.id} company={company} update={updateUsers} parkingsUpdate={parkingsUpdate} />\r\n                    )\r\n                }\r\n                </tbody>\r\n            );\r\n        } else {\r\n\r\n            head = (\r\n                <thead>\r\n                <tr>\r\n                    <th>OIB</th>\r\n                    <th>Puno ime</th>\r\n                    <th>email</th>\r\n                    <th>#</th>\r\n                </tr>\r\n                </thead>\r\n            );\r\n            body = (\r\n                <tbody>\r\n                {\r\n                    users.map(user =>\r\n                        <KorisnikRow  key={user.id} user={user} update={updateUsers}/>\r\n                    )\r\n                }\r\n                </tbody>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Table striped bordered hover responsive>\r\n                {head}\r\n                {body}\r\n            </Table>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport { Button, Modal} from \"react-bootstrap\";\r\nimport './registrationModal.css'\r\nimport UsersList from './usersList'\r\n\r\nvar tvrtke = [\r\n    {\r\n        oib: '12312312312',\r\n        ime: 'Zagreb parking',\r\n        email: 'zp@zg.hr',\r\n        adresa: 'Ilica 26, 10000 Zagreb'\r\n    },\r\n    {\r\n        oib: '32132132132',\r\n        ime: 'Parkiraj se, org.',\r\n        email: 'parkiraj@se.hr',\r\n        adresa: 'Savska 13, 10000 Zagreb'\r\n    },\r\n    {\r\n        oib: '15915915995',\r\n        ime: 'Rebro',\r\n        email: 'rebro@zg-bolnice.hr',\r\n        adresa: 'Kišpatićeva ul. 12, 10000, Zagreb'\r\n    },\r\n];\r\n\r\n\r\nexport default class UsersModal extends Component {\r\n    state = {\r\n        stage: null,\r\n        users: [],\r\n        companies: []\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.updateTvrtke();\r\n        this.updateKorisnici();\r\n    }\r\n\r\n    hide = () => {\r\n        this.props.onHide();\r\n        setTimeout(this.resetStage, 200);\r\n    };\r\n\r\n    onChoose = (e) => {\r\n        this.setState({stage: e.target.name});\r\n    };\r\n\r\n    resetStage = () => {\r\n        this.setState({stage: null});\r\n    };\r\n\r\n\r\n    updateTvrtke = () => {\r\n        fetch('/tvrtke')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                this.setState({companies: data});\r\n            });\r\n    };\r\n\r\n    updateKorisnici = () => {\r\n        fetch('/korisnici')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                this.setState({users: data});\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const { show, onHide, parkingsUpdate } = this.props;\r\n        const { stage, users, companies } = this.state;\r\n\r\n        let body = null;\r\n        if(stage == null) {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Odaberite vrstu računa:</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className='center'>\r\n                            <div className=\"reg-choose\">\r\n                                <Button name=\"tvrtke\" className=\"reg-btn\"  bsStyle=\"info\" onClick={this.onChoose}>Tvrtke</Button>\r\n                            </div>\r\n                            <div className=\"reg-choose\">\r\n                                <Button name=\"korisnici\" className=\"reg-btn\" bsStyle=\"info\" onClick={this.onChoose}>Korisnici</Button>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </div>\r\n            );\r\n        } else if(stage === \"tvrtke\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Tvrtke</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <UsersList type={stage} companies={companies} updateUsers={this.updateTvrtke} parkingsUpdate={parkingsUpdate}/>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button bsStyle=\"primary\" onClick={this.resetStage}>Natrag</Button>\r\n                    </Modal.Footer>\r\n                </div>\r\n            );\r\n        } else if(stage === \"korisnici\") {\r\n            body = (\r\n                <div>\r\n                    <Modal.Header closeButton onHide={onHide}>\r\n                        <Modal.Title>Korisnici</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <UsersList type={stage} users={users} updateUsers={this.updateKorisnici} parkingsUpdate={parkingsUpdate}/>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button bsStyle=\"primary\" onClick={this.resetStage}>Natrag</Button>\r\n                    </Modal.Footer>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Modal className=\"registration-modal\" show={show} onHide={this.hide} keyboard={true}>\r\n                {body}\r\n            </Modal>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport { Navbar, Button } from \"react-bootstrap\";\r\nimport './navBar.css'\r\nimport Image from \"react-bootstrap/es/Image\";\r\nimport NavBarLogin from './navBarLogin'\r\nimport LogoutBtn from './logoutBtn'\r\nimport RegistrationModal from './registrationModal'\r\nimport CarsModal from './carsModal'\r\nimport ReservationsModal from './reservationsModal'\r\nimport UserModal from './usersModal'\r\n\r\nexport default class NavBar extends Component{\r\n\r\n    state = {\r\n        registerShow: false,\r\n        carsShow: false,\r\n        reservationsShow: false,\r\n        usersShow: false\r\n    };\r\n\r\n    registerShowOn = () => {\r\n        this.setState({registerShow: true});\r\n    };\r\n\r\n    registerShowOff = () => {\r\n        this.setState({registerShow: false});\r\n    };\r\n\r\n    carsShowOn = () => {\r\n        this.setState({carsShow: true});\r\n    };\r\n\r\n    carsShowOff = () => {\r\n        this.setState({carsShow: false});\r\n    };\r\n\r\n    reservationsShowOn = () => {\r\n        this.setState({reservationsShow: true});\r\n    };\r\n\r\n    reservationsShowOff = () => {\r\n        this.setState({reservationsShow: false});\r\n    };\r\n\r\n    usersShowOn = () => {\r\n        this.setState({usersShow: true});\r\n    };\r\n\r\n    usersShowOff = () => {\r\n        this.setState({usersShow: false});\r\n    };\r\n\r\n\r\n    render() {\r\n        const { registerShow, carsShow, reservationsShow, usersShow } = this.state;\r\n        const { loginSuccess, tipKorisnika, logoutSuccess, cars, carsUpdate, addCar, newParkingToggle, isAddingNewParking, parkingName, parkingsUpdate } = this.props;\r\n\r\n        let body = null;\r\n        switch (tipKorisnika) {\r\n            case 3:\r\n                body = (\r\n                    <Navbar.Collapse>\r\n                        <Navbar.Form pullLeft>\r\n                            <NavBarLogin loginSuccess={loginSuccess}/>\r\n                        </Navbar.Form>\r\n                        <Navbar.Form pullRight>\r\n                            <Button bsStyle=\"primary\" type=\"submit\" onClick={this.registerShowOn}>Registriraj se</Button>\r\n                        </Navbar.Form>\r\n                    </Navbar.Collapse>\r\n                );\r\n                break;\r\n            case 0:\r\n                body = (\r\n                    <Navbar.Collapse>\r\n                        <Navbar.Text>\r\n                            Bok, <b>{sessionStorage.getItem('name')}</b>\r\n                        </Navbar.Text>\r\n                        <Navbar.Form pullLeft>\r\n                            <Button bsStyle=\"info\" onClick={this.carsShowOn}>Automobili</Button> {'    '}\r\n                            <Button bsStyle=\"info\" onClick={this.reservationsShowOn}>Trajne rezervacije</Button> {'    '}\r\n                        </Navbar.Form>\r\n                        <LogoutBtn logoutSuccess={logoutSuccess}/>\r\n                    </Navbar.Collapse>\r\n                );\r\n                break;\r\n            case 1:\r\n                body = (\r\n                    <Navbar.Collapse>\r\n                        <Navbar.Text>\r\n                            Tvrtka: <b>{sessionStorage.getItem('name')}</b>\r\n                        </Navbar.Text>\r\n                        <Navbar.Form pullLeft>\r\n                            <Button bsStyle=\"info\" onClick={newParkingToggle} disabled={isAddingNewParking}>Dodaj novi parking</Button> {'    '}\r\n                        </Navbar.Form>\r\n                        <LogoutBtn isAddingNewParking={isAddingNewParking} logoutSuccess={logoutSuccess}/>\r\n                    </Navbar.Collapse>\r\n                );\r\n                break;\r\n            case 2:\r\n                body = (\r\n                    <Navbar.Collapse>\r\n                        <Navbar.Text>\r\n                            Administrator\r\n                        </Navbar.Text>\r\n                        <Navbar.Form pullLeft>\r\n                            <Button bsStyle=\"info\" onClick={this.usersShowOn}>Upravljanje računima</Button> {'    '}\r\n                        </Navbar.Form>\r\n                        <LogoutBtn logoutSuccess={logoutSuccess}/>\r\n                    </Navbar.Collapse>\r\n                );\r\n                break;\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Navbar inverse fixedTop>\r\n                    <Navbar.Header>\r\n                        <Navbar.Brand>\r\n                            <Image src=\"./icons/brand-logo.png\"/>\r\n                        </Navbar.Brand>\r\n                        <Navbar.Toggle />\r\n                    </Navbar.Header>\r\n                    {body}\r\n                </Navbar>\r\n\r\n                {tipKorisnika === 3 ? <RegistrationModal show={registerShow} onHide={this.registerShowOff}/> : null}\r\n                {tipKorisnika === 2 ? <UserModal show={usersShow} onHide={this.usersShowOff} parkingsUpdate={parkingsUpdate}/> : null}\r\n                {tipKorisnika === 0 ? <ReservationsModal show={reservationsShow} onHide={this.reservationsShowOff} parkingName={parkingName}/> : null}\r\n                {tipKorisnika === 0 ? <CarsModal show={carsShow} onHide={this.carsShowOff} cars={cars} carsUpdate={carsUpdate} addCar={addCar}/> : null}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React, {Component} from 'react';\r\nimport L from \"leaflet\";\r\nimport {Marker, Popup} from 'react-leaflet'\r\nimport {Button} from \"react-bootstrap\";\r\nimport './parkingMarker.css'\r\nimport ReserveModal from './reserveModal'\r\nimport UserModal from \"./navBar\";\r\n\r\nvar parkingIcon = L.icon({\r\n    iconUrl: 'icons/parking.png',\r\n    iconSize: [498/15, 604/15],\r\n    iconAnchor: [498/2/15, 604/15],\r\n    popupAnchor: [0, -604/15]\r\n});\r\n\r\nexport default class ParkingMarker extends Component {\r\n    state = {\r\n        reserveShow: false\r\n    };\r\n\r\n    reserveShowOn = () => {\r\n        this.setState({reserveShow: true});\r\n    };\r\n\r\n    reserveShowOff = () => {\r\n        this.setState({reserveShow: false});\r\n    };\r\n\r\n    spu = () => {\r\n        this.props.selectedParkingUpdate(this.props.parking.id);\r\n    };\r\n\r\n    ref = React.createRef();\r\n\r\n    componentDidMount() {\r\n        this.props.updateMarkerRef(this.props.parking.id, this.ref.current.leafletElement);\r\n    }\r\n\r\n    deleteParking = () => {\r\n        fetch('/parkiralista/'+this.props.parking.id, {\r\n            method: 'DELETE'\r\n        }).then(this.props.parkingUpdate());\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n        const {parking, tipKorisnika, editParking, cars } = this.props;\r\n        const {reserveShow} = this.state;\r\n\r\n        let btn = null;\r\n        if(tipKorisnika === 1) {\r\n            btn = (\r\n                <div>\r\n                    <Button className='marker-btns' bsStyle='info' bsSize='small' onClick={editParking}>Uredi podatke</Button><br/>\r\n                    <Button className='marker-btns' bsStyle='danger' bsSize='small' onClick={this.deleteParking}>Izbriši</Button>\r\n                </div>\r\n            );\r\n        } else if(tipKorisnika === 0) {\r\n            btn = <Button bsStyle='info' bsSize='small' onClick={this.reserveShowOn}>Rezerviraj</Button>\r\n        }\r\n\r\n        return (\r\n            <Marker position={parking.lokacija} icon={parkingIcon} ref={this.ref}>\r\n                <Popup onOpen={this.spu} onClose={this.closePopup} autoPan={false}>\r\n                    <h3>{parking.ime}</h3>\r\n                    <p><small>popunjenost:</small> {parking.popunjenost}/{parking.kapacitet}</p>\r\n                    <p><small>cijena: </small> {parking.cijena} kn/h</p>\r\n                    {btn}\r\n                </Popup>\r\n                <ReserveModal show={reserveShow} onHide={this.reserveShowOff} parking={parking} cars={cars} parkingsUpdate={this.props.parkingUpdate}/>\r\n            </Marker>\r\n        );\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Alert, Button, Form, FormControl, FormGroup, HelpBlock, Modal, Well} from \"react-bootstrap\";\r\nimport Dock from 'react-dock'\r\nimport './parkingEditor.css'\r\n\r\nexport default class ParkingEditor extends Component {\r\n    state = {\r\n        ime: '',\r\n        kapacitet: '',\r\n        cijena: '',\r\n        vime: null,\r\n        vkapacitet: null,\r\n        vcijena: null,\r\n        alertMsg: null,\r\n        registrationValid: false\r\n    };\r\n\r\n\r\n    imeChange = (e) => {\r\n        const ime = e.target.value;\r\n        let test = ime.length > 0;\r\n        this.setState({\r\n            ime: ime,\r\n            vime: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    kapacitetChange = (e) => {\r\n        const kapacitet = e.target.value;\r\n        let test = kapacitet.length > 0 && /^\\d+$/.test(kapacitet);\r\n        this.setState({\r\n            kapacitet: kapacitet,\r\n            vkapacitet: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n    cijenaChange = (e) => {\r\n        const cijena = e.target.value;\r\n        let test = cijena.length > 0 && Number(cijena) > 0;\r\n        this.setState({\r\n            cijena: cijena,\r\n            vcijena: test,\r\n            alertMsg: null\r\n        })\r\n    };\r\n\r\n\r\n    validationState = (test) => {\r\n        if(test == null) return null;\r\n        return test ? \"success\" : \"error\";\r\n    };\r\n\r\n    register = () => {\r\n        const {vime, vkapacitet, vcijena } = this.state;\r\n        const {ime, kapacitet, cijena } = this.state;\r\n        let test = (vime && vkapacitet && vcijena);\r\n        let alertMsg = test ? null : \"Krivi podatci.\";\r\n\r\n        if(test) {\r\n            //registriraj na backendu\r\n            const data = {\r\n                ime: ime,\r\n                lokacija: this.props.newParkingLocation,\r\n                kapacitet: kapacitet,\r\n                cijena: cijena\r\n            };\r\n\r\n            if(this.props.isEditingParking) {\r\n                fetch('/parkiralista/uredi/'+this.props.selectedParking.id, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                    },\r\n                    body: JSON.stringify(data)\r\n                }).then(res => {\r\n                    this.setState({\r\n                        registrationValid: true,\r\n                        alertMsg: \"Podaci uspješno uređeni!\"\r\n                    });\r\n                    this.props.isEditingParkingOff();\r\n                    this.props.parkingsUpdate();\r\n                    setTimeout(() => this.props.newParkingToggle(), 2500);\r\n                });\r\n                return;\r\n            }\r\n\r\n            fetch('/parkiralista', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n                .then(response => {\r\n                    if(response.status != 200) {\r\n                        response.json().then(data => {\r\n                            this.setState({\r\n                                registrationValid: false,\r\n                                alertMsg: data.message\r\n                            });\r\n                        })\r\n                    } else {\r\n                        this.setState({\r\n                            registrationValid: true,\r\n                            alertMsg: \"Podaci uspješno spremljeni!\"\r\n                        });\r\n                        this.props.parkingsUpdate();\r\n                        setTimeout(() => this.props.newParkingToggle(), 2500);\r\n                    }\r\n                });\r\n\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            registrationValid: test,\r\n            alertMsg: alertMsg\r\n        });\r\n    };\r\n\r\n    back = () => {\r\n        this.props.newParkingToggle();\r\n        this.props.isEditingParkingOff();\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const {isAddingNewParking, isEditingParking, selectedParking} = this.props;\r\n      if(!prevProps.isEditingParking && isEditingParking) {\r\n          this.setState({\r\n              ime: selectedParking.ime,\r\n              kapacitet: selectedParking.kapacitet,\r\n              cijena: selectedParking.cijena,\r\n              vime: true,\r\n              vkapacitet: true,\r\n              vcijena: true,\r\n              alertMsg: null,\r\n              registrationValid: false\r\n          })\r\n      }\r\n\r\n      if(prevProps.isAddingNewParking && !isAddingNewParking) {\r\n          setTimeout(() => {\r\n              this.setState({\r\n                  ime: '',\r\n                  kapacitet: '',\r\n                  cijena: '',\r\n                  vime: null,\r\n                  vkapacitet: null,\r\n                  vcijena: null,\r\n                  alertMsg: null,\r\n                  registrationValid: false\r\n              })\r\n          }, 200);\r\n      }\r\n    };\r\n\r\n    render() {\r\n        const {isAddingNewParking} = this.props;\r\n        const {ime, kapacitet, cijena, vime, vkapacitet, vcijena, alertMsg, registrationValid} = this.state;\r\n\r\n        return (\r\n\r\n            <Dock position='right' isVisible={isAddingNewParking} fluid={true} defaultSize={0.3}  dimMode='none'>\r\n                <div>\r\n                    <Modal.Header>\r\n                        <h4>Uredite podatke parkirališta</h4>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <small>sva polja su obavezna*</small>\r\n                        <Form>\r\n                            <FormGroup validationState={this.validationState(vime)}>\r\n                                <h5><b>Naziv</b></h5>\r\n                                <FormControl name=\"ime\" type=\"text\" value={ime} onChange={this.imeChange} autoComplete='organization'/>\r\n                                <HelpBlock>{(vime == null) || (vime ? '' : 'Morate unjeti naziv')}</HelpBlock>\r\n                            </FormGroup>\r\n                            <FormGroup validationState={this.validationState(vkapacitet)}>\r\n                            <h5><b>Kapacitet</b></h5>\r\n                            <FormControl name=\"kapacitet\" type=\"number\" value={kapacitet} onChange={this.kapacitetChange}/>\r\n                            <HelpBlock>{(vkapacitet == null) || (vkapacitet ? '' : 'Morate unjeti kapacitet i kapacitet mora biti cijeli broj')}</HelpBlock>\r\n                        </FormGroup>\r\n                            <FormGroup validationState={this.validationState(vcijena)}>\r\n                                <h5><b>Cijena</b> <small>(kn/h)</small></h5>\r\n                                <FormControl name=\"cijena\" type=\"number\" value={cijena} onChange={this.cijenaChange}/>\r\n                                <HelpBlock>{(vcijena == null) || (vcijena ? '' : 'Morate unijeti cijenu koja mora biti pozitivan broj')}</HelpBlock>\r\n                            </FormGroup>\r\n                            <Well>Za odabir lokacije vucite marker na karti.</Well>\r\n                            {\r\n                                alertMsg ?\r\n                                    <Alert bsStyle={registrationValid ? \"success\" : \"danger\"}>\r\n                                        {alertMsg}\r\n                                    </Alert> :\r\n                                    null\r\n                            }\r\n                        </Form>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button bsStyle=\"warning\" onClick={this.back}>Odustani</Button>{'  '}\r\n                        <Button bsStyle=\"success\" onClick={this.register}>Spremi</Button>\r\n                    </Modal.Footer>\r\n                </div>\r\n            </Dock>\r\n        );\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport L from \"leaflet\";\r\nimport {Marker} from 'react-leaflet'\r\nimport './parkingMarker.css'\r\n\r\nvar parkingIcon = L.icon({\r\n    iconUrl: 'icons/new_parking.png',\r\n    iconSize: [498/15, 604/15],\r\n    iconAnchor: [498/2/15, 604/15],\r\n    popupAnchor: [0, -604/15],\r\n    className: 'new-parking-marker'\r\n});\r\n\r\nexport default class NewParkingMarker extends Component {\r\n\r\n    ref = React.createRef();\r\n\r\n    update = () => {\r\n        const marker = this.ref.current;\r\n        if (marker != null) {\r\n            const pos = [marker.leafletElement.getLatLng().lat, marker.leafletElement.getLatLng().lng];\r\n            this.props.newParkingLocationUpdate(pos);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const {newParkingLocation} = this.props;\r\n\r\n        return (\r\n            <Marker position={newParkingLocation || [0,0]} ref={this.ref} icon={parkingIcon} draggable={true} onDragend={this.update}>\r\n            </Marker>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet'\r\nimport {Button} from \"react-bootstrap\";\r\nimport '../../node_modules/leaflet/dist/leaflet.css'\r\nimport './map.css'\r\nimport L from \"leaflet\";\r\nimport CenterMeBtn from './centerMeBtn'\r\nimport ParkingMarker from './parkingMarker'\r\nimport ParkingEditor from './parkingEditor'\r\nimport NewParkingMarker from './newParkingMarker'\r\n\r\nvar myIcon = L.icon({\r\n    iconUrl: 'icons/my_location.png',\r\n    iconSize: [270/10, 398/10],\r\n    iconAnchor: [270/2/10, 398/10],\r\n    popupAnchor: [0, -398/10]\r\n});\r\n\r\nconst positions = {\r\n    Zagreb: [45.810875, 15.974711]\r\n};\r\n\r\nfunction latLngDistance(lat1, lon1, lat2, lon2, unit) {\r\n    if ((lat1 === lat2) && (lon1 === lon2)) {\r\n        return 0;\r\n    }\r\n    else {\r\n        var radlat1 = Math.PI * lat1/180;\r\n        var radlat2 = Math.PI * lat2/180;\r\n        var theta = lon1-lon2;\r\n        var radtheta = Math.PI * theta/180;\r\n        var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n        if (dist > 1) {\r\n            dist = 1;\r\n        }\r\n        dist = Math.acos(dist);\r\n        dist = dist * 180/Math.PI;\r\n        dist = dist * 60 * 1.1515;\r\n        if (unit===\"K\") { dist = dist * 1.609344 }\r\n        if (unit===\"N\") { dist = dist * 0.8684 }\r\n        return dist;\r\n    }\r\n}\r\n\r\nfunction posDistance(pos1, pos2) {\r\n    return latLngDistance(pos1[0], pos1[1], pos2[0], pos2[1]);\r\n}\r\n\r\n\r\nexport default class MapControler extends Component{\r\n    state = {\r\n        viewport: {center: positions.Zagreb, zoom: 13},\r\n        maxZoom: 19,\r\n        minZoom: 7,\r\n        maxBounds: L.latLngBounds(L.latLng(47.094206, 12.028730), L.latLng(42.128702, 20.731908)),\r\n        watchId: 0,\r\n        selectedParking: null,\r\n        markerRefs: {},\r\n        isEditingParking: false,\r\n        newParkingLocation: positions.Zagreb\r\n    };\r\n\r\n    onViewportChanged = (viewport) => {\r\n        setTimeout(() => this.setState({viewport: viewport}), 10);\r\n        if(!this.props.isAddingNewParking) setTimeout(() => this.setState({newParkingLocation: viewport.center}), 10);\r\n    };\r\n\r\n    centerClicked = () => {\r\n        this.centerMe();\r\n    };\r\n\r\n    centerMe = () => {\r\n        const vp = {\r\n            center: this.props.myPosition,\r\n            zoom: this.state.viewport.zoom\r\n        };\r\n\r\n        this.setState({viewport: vp});\r\n    };\r\n\r\n    centerTo = (pos) => {\r\n        const vp = {\r\n            center: pos,\r\n            zoom: 15\r\n        };\r\n\r\n        this.setState({viewport: vp});\r\n    };\r\n\r\n    getParkingsOfTvrtkaID = (id) => {\r\n        let ret = [];\r\n        this.props.parkings.forEach(p => {\r\n            if(p.tvrtkaID == id) ret.push(p);\r\n        });\r\n        return ret;\r\n    };\r\n\r\n    getParkingOfId = (id) => {\r\n        let ret = null;\r\n        this.props.parkings.forEach(p => {\r\n            if(p.id == id) ret = p;\r\n        });\r\n\r\n        return ret;\r\n    };\r\n\r\n    openPopup = (id) => {\r\n      this.state.markerRefs[id].openPopup();\r\n    };\r\n\r\n    updateMarkerRef = (id, ref) => {\r\n      this.setState(state => ({\r\n          markerRefs: {\r\n              ...state.markerRefs,\r\n              [id]: ref\r\n          }\r\n      }));\r\n    };\r\n\r\n    centerToClosestParking = () => {\r\n      const {myPosition, parkings} = this.props;\r\n      if(myPosition == null || parkings == null) return;\r\n      let minDistP, minDistP10;\r\n      let p = null;\r\n      let p10 = null;\r\n\r\n      parkings.forEach(parking => {\r\n          const dist = posDistance(myPosition, parking.lokacija);\r\n          const rule10 = (parking.kapacitet - parking.popunjenost) > 10;\r\n\r\n          if(p == null) {\r\n              p = parking;\r\n              minDistP = dist;\r\n          } else {\r\n              if(dist < minDistP) {\r\n                  p = parking;\r\n                  minDistP = dist;\r\n              }\r\n          }\r\n\r\n          if(p10 == null && rule10) {\r\n              p10 = parking;\r\n              minDistP10 = dist;\r\n          } else if(p10 && rule10) {\r\n              if(dist < minDistP10) {\r\n                  p10 = parking;\r\n                  minDistP10 = dist;\r\n              }\r\n          }\r\n      });\r\n\r\n      const resP = p10 || p;\r\n      this.centerTo(resP.lokacija);\r\n      setTimeout(() => this.openPopup(resP.id), 700);\r\n    };\r\n\r\n    selectedParkingUpdate = (id) => {\r\n        this.setState({selectedParking: this.getParkingOfId(id)});\r\n    };\r\n\r\n    editParking = () => {\r\n        this.setState( state => ({\r\n            isEditingParking: true,\r\n            newParkingLocation: state.selectedParking.lokacija\r\n        }));\r\n        this.props.newParkingToggle();\r\n        setTimeout(() => this.centerTo(this.state.selectedParking.lokacija), 100);\r\n    };\r\n\r\n    isEditingParkingOff = () => {\r\n        setTimeout(this.setState(state => ({isEditingParking: false})), 50);\r\n    };\r\n\r\n    isEditingParkingOn = () => {\r\n        setTimeout(this.setState(state => ({isEditingParking: true})), 50);\r\n    };\r\n\r\n    newParkingLocationUpdate = (pos) => {\r\n      this.setState({newParkingLocation: pos});\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state.watchId = navigator.geolocation.watchPosition(this.geoSucces, this.geoError);\r\n    }\r\n\r\n    geoSucces = (position) => {\r\n        const pos = [position.coords.latitude, position.coords.longitude];\r\n        if(this.props.myPosition == null && this.props.tipKorisnika !== 1) this.centerTo(pos);\r\n        this.props.myPositionUpdate(pos);\r\n    };\r\n\r\n    geoError = () => {\r\n\r\n    };\r\n\r\n\r\n    componentWillUnmount() {\r\n        navigator.geolocation.clearWatch(this.state.watchId)\r\n    }\r\n\r\n    render() {\r\n        const { viewport, maxZoom, maxBounds, minZoom, isEditingParking, newParkingLocation, selectedParking } = this.state;\r\n        const  { myPosition, tipKorisnika, parkings, isAddingNewParking, newParkingToggle, parkingsUpdate, cars } = this.props;\r\n\r\n\r\n        let myPositionMarker = null;\r\n        const centerMeBtn = tipKorisnika !== 1 ? <CenterMeBtn myPosition={myPosition} position={viewport.center} onClick={this.centerClicked}/> : null;\r\n        if(myPosition && tipKorisnika !== 1) {\r\n            myPositionMarker = (\r\n                <Marker position={myPosition} icon={myIcon}>\r\n                    <Popup>Ovdje se vi nalazite.</Popup>\r\n                </Marker>\r\n            );\r\n        }\r\n\r\n\r\n        let parkingsToShow = parkings;\r\n        if(tipKorisnika === 1) {\r\n            parkingsToShow = this.getParkingsOfTvrtkaID(sessionStorage.getItem('id'));\r\n        }\r\n\r\n        const parkingMarkers = parkingsToShow.map(parking => <ParkingMarker key={parking.id} parking={parking} tipKorisnika={tipKorisnika}\r\n                                                                            selectedParkingUpdate={this.selectedParkingUpdate}\r\n                                                                            updateMarkerRef={this.updateMarkerRef} editParking={this.editParking}\r\n                                                                            cars={cars} parkingUpdate={parkingsUpdate}\r\n        />);\r\n\r\n        const parkirajMeBtn = tipKorisnika !== 1 && myPosition != null ? <Button id='parkiraj-me-btn' bsStyle='primary' onClick={this.centerToClosestParking}>Parkiraj<br/>Me</Button> : null;\r\n        const newParkingMarker = <NewParkingMarker newParkingLocation={newParkingLocation} newParkingLocationUpdate={this.newParkingLocationUpdate}/>\r\n\r\n        return(\r\n          <div>\r\n              <Map className='map' viewport={viewport}\r\n                   animate={true} zoomControl={false} onViewportChanged={this.onViewportChanged}\r\n                   maxZoom={maxZoom} maxBounds={maxBounds} minZoom={minZoom}\r\n              >\r\n                  <TileLayer\r\n                      attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                      url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                  />\r\n\r\n                  {myPositionMarker}\r\n                  {isAddingNewParking ? newParkingMarker : parkingMarkers}\r\n                  {parkings.length > 0 ? parkirajMeBtn : null}\r\n                  {centerMeBtn}\r\n              </Map>\r\n              <ParkingEditor isAddingNewParking={isAddingNewParking} newParkingToggle={newParkingToggle} parkingsUpdate={parkingsUpdate}\r\n                isEditingParking={isEditingParking} newParkingLocation={newParkingLocation} selectedParking={selectedParking}\r\n                             isEditingParkingOff={this.isEditingParkingOff}\r\n              />\r\n\r\n          </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport MapCntroler from './components/mapControler'\r\nimport NavBar from './components/navBar'\r\n\r\n\r\nconst position = {\r\n  Zagreb: [45.810875, 15.974711]\r\n};\r\n\r\n\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    myPosition: null,\r\n    parkings: [],\r\n    cars: [],\r\n    tipKorisnika: 3,\r\n    isAddingNewParking: false\r\n  };\r\n\r\n  puID = 0;\r\n\r\n  componentWillMount() {\r\n    const tip = sessionStorage.getItem('tip');\r\n    if(tip != null) {\r\n      this.updateTipKorisnika();\r\n      if(tip === '0') this.carsUpdate();\r\n    }\r\n    this.parkingsUpdate();\r\n    this.onFocus();\r\n    this.puID = setInterval(this.parkingsUpdate, 30000);\r\n    window.addEventListener(\"focus\", this.onFocus);\r\n  }\r\n\r\n  getParkingOfId = (id, parkings) => {\r\n    let ret = null;\r\n    parkings.forEach(p => {\r\n      if(p.id === id) {\r\n        ret = p;\r\n        return;\r\n      }\r\n    });\r\n\r\n    return ret;\r\n  };\r\n\r\n  getParkingNameOfId = (id) => {\r\n    let ret = null;\r\n    this.state.parkings.forEach(p => {\r\n      if(p.id == id) {\r\n        ret = p.ime;\r\n        return;\r\n      }\r\n    });\r\n\r\n    return ret;\r\n  };\r\n\r\n\r\n  myPositionUpdate = (pos) => {this.setState({myPosition: pos})};\r\n\r\n  loginSuccess = () => {\r\n    this.updateTipKorisnika();\r\n\r\n    if(sessionStorage.getItem('tip') === '0') this.carsUpdate();\r\n  };\r\n\r\n  logoutSuccess = () => {\r\n    fetch('/logout')\r\n        .then(() =>this.setState({tipKorisnika: 3}))\r\n        .catch(() => this.setState({tipKorisnika: 3}));\r\n\r\n    sessionStorage.clear()\r\n  };\r\n\r\n  updateTipKorisnika = () => {\r\n    this.setState({tipKorisnika: Number(sessionStorage.getItem('tip'))});\r\n  };\r\n\r\n  carsUpdate = () => {\r\n    fetch('/automobili')\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          this.setState({cars: data});\r\n        })\r\n        .catch(err => this.logoutSuccess());\r\n  };\r\n\r\n  parkingsUpdate = () => {\r\n\r\n    fetch('/parkiralista')\r\n        .then(res => res.json())\r\n        .then(parkings => {\r\n          fetch('/parkiralista/slobodna')\r\n              .then(res => res.json())\r\n              .then(data => {\r\n                let rez = [];\r\n                data.forEach(p => {\r\n                  const id = p.parkiralisteID;\r\n                  let parking = this.getParkingOfId(id, parkings);\r\n                  parking = {\r\n                    ...parking,\r\n                    popunjenost: parking.kapacitet - p.brojSlobodnihMjesta\r\n                  };\r\n                  rez.push(parking);\r\n                });\r\n                this.setState({parkings: rez})\r\n              })\r\n        });\r\n  };\r\n\r\n\r\n  isAddingNewParkingToggle = () => {\r\n    this.setState(state => ({isAddingNewParking: !state.isAddingNewParking}));\r\n  };\r\n\r\n  onFocus = () => {\r\n    const tip = sessionStorage.getItem('tip');\r\n    const username = sessionStorage.getItem('username');\r\n    if(tip != null) {\r\n        fetch('korisnici/current')\r\n            .then(res => res.json())\r\n            .then( data => {\r\n                console.log(data);\r\n                if(username !== data.email) {\r\n                  console.log(username);\r\n                  alert(\"Niste više prijavljeni!\");\r\n                  sessionStorage.clear();\r\n                  this.setState({tipKorisnika: 3});\r\n                }\r\n            })\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.puID);\r\n    window.removeEventListener(\"focus\", this.onFocus)\r\n  }\r\n\r\n  render() {\r\n    const { myPosition, tipKorisnika, cars, parkings, isAddingNewParking } = this.state;\r\n\r\n    let navBar = <NavBar id=\"navbar\" loginSuccess={this.loginSuccess} logoutSuccess={this.logoutSuccess} tipKorisnika={tipKorisnika}\r\n                           cars={cars} carsUpdate={this.carsUpdate} addCar={this.addCar} newParkingToggle={this.isAddingNewParkingToggle}\r\n                           isAddingNewParking={isAddingNewParking} parkingName={this.getParkingNameOfId} parkingsUpdate={this.parkingsUpdate}\r\n    />;\r\n\r\n    navBar = isAddingNewParking ? null : navBar;\r\n\r\n    return (\r\n      <div>\r\n\r\n        {navBar}\r\n\r\n        <MapCntroler myPosition={myPosition} myPositionUpdate={this.myPositionUpdate} tipKorisnika={tipKorisnika} parkings={parkings} parkingsUpdate={this.parkingsUpdate}\r\n                     isAddingNewParking={isAddingNewParking} newParkingToggle={this.isAddingNewParkingToggle} cars={cars}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n","import React from 'react'\r\nimport ReactDom from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDom.render(<App/>, document.getElementById('root'))"],"sourceRoot":""}